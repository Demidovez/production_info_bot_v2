const pathArray = window.location.pathname.split("/");

const SEND_DATA = fetch(
  pathArray[pathArray.length - 1].replace(".htm", "") +
    "_files/DataSourceDefinition.json"
)
  .then((data) => data.json())
  .then((data) =>
    data.Items.map(({ DataObjectId, ItemName }) => [
      DataObjectId + "",
      (ItemName || "").toUpperCase(),
    ]).filter((item) => item[1])
  );

var requirejs, require, define;
!(function (global, setTimeout) {
  var req,
    s,
    head,
    baseElement,
    dataMain,
    src,
    interactiveScript,
    currentlyAddingScript,
    mainScript,
    subPath,
    version = "2.3.5",
    commentRegExp = /\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,
    cjsRequireRegExp = /[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,
    jsSuffixRegExp = /\.js$/,
    currDirRegExp = /^\.\//,
    op = Object.prototype,
    ostring = op.toString,
    hasOwn = op.hasOwnProperty,
    isBrowser = !(
      "undefined" == typeof window ||
      "undefined" == typeof navigator ||
      !window.document
    ),
    isWebWorker = !isBrowser && "undefined" != typeof importScripts,
    readyRegExp =
      isBrowser && "PLAYSTATION 3" === navigator.platform
        ? /^complete$/
        : /^(complete|loaded)$/,
    defContextName = "_",
    isOpera =
      "undefined" != typeof opera && "[object Opera]" === opera.toString(),
    contexts = {},
    cfg = {},
    globalDefQueue = [],
    useInteractive = !1;
  function commentReplace(e, t) {
    return t || "";
  }
  function isFunction(e) {
    return "[object Function]" === ostring.call(e);
  }
  function isArray(e) {
    return "[object Array]" === ostring.call(e);
  }
  function each(e, t) {
    var n;
    if (e) for (n = 0; n < e.length && (!e[n] || !t(e[n], n, e)); n += 1);
  }
  function eachReverse(e, t) {
    var n;
    if (e) for (n = e.length - 1; -1 < n && (!e[n] || !t(e[n], n, e)); n -= 1);
  }
  function hasProp(e, t) {
    return hasOwn.call(e, t);
  }
  function getOwn(e, t) {
    return hasProp(e, t) && e[t];
  }
  function eachProp(e, t) {
    var n;
    for (n in e) if (hasProp(e, n) && t(e[n], n)) break;
  }
  function mixin(n, e, i, r) {
    return (
      e &&
        eachProp(e, function (e, t) {
          (!i && hasProp(n, t)) ||
            (!r ||
            "object" != typeof e ||
            !e ||
            isArray(e) ||
            isFunction(e) ||
            e instanceof RegExp
              ? (n[t] = e)
              : (n[t] || (n[t] = {}), mixin(n[t], e, i, r)));
        }),
      n
    );
  }
  function bind(e, t) {
    return function () {
      return t.apply(e, arguments);
    };
  }
  function scripts() {
    return document.getElementsByTagName("script");
  }
  function defaultOnError(e) {
    throw e;
  }
  function getGlobal(e) {
    if (!e) return e;
    var t = global;
    return (
      each(e.split("."), function (e) {
        t = t[e];
      }),
      t
    );
  }
  function makeError(e, t, n, i) {
    var r = new Error(t + "\nhttp://requirejs.org/docs/errors.html#" + e);
    return (
      (r.requireType = e), (r.requireModules = i), n && (r.originalError = n), r
    );
  }
  if (void 0 === define) {
    if (void 0 !== requirejs) {
      if (isFunction(requirejs)) return;
      (cfg = requirejs), (requirejs = void 0);
    }
    void 0 === require ||
      isFunction(require) ||
      ((cfg = require), (require = void 0)),
      (req = requirejs =
        function (e, t, n, i) {
          var r,
            o,
            a = defContextName;
          return (
            isArray(e) ||
              "string" == typeof e ||
              ((o = e), isArray(t) ? ((e = t), (t = n), (n = i)) : (e = [])),
            o && o.context && (a = o.context),
            (r = getOwn(contexts, a)) ||
              (r = contexts[a] = req.s.newContext(a)),
            o && r.configure(o),
            r.require(e, t, n)
          );
        }),
      (req.config = function (e) {
        return req(e);
      }),
      (req.nextTick =
        void 0 !== setTimeout
          ? function (e) {
              setTimeout(e, 4);
            }
          : function (e) {
              e();
            }),
      require || (require = req),
      (req.version = version),
      (req.jsExtRegExp = /^\/|:|\?|\.js$/),
      (req.isBrowser = isBrowser),
      (s = req.s = { contexts: contexts, newContext: newContext }),
      req({}),
      each(["toUrl", "undef", "defined", "specified"], function (t) {
        req[t] = function () {
          var e = contexts[defContextName];
          return e.require[t].apply(e, arguments);
        };
      }),
      isBrowser &&
        ((head = s.head = document.getElementsByTagName("head")[0]),
        (baseElement = document.getElementsByTagName("base")[0]),
        baseElement && (head = s.head = baseElement.parentNode)),
      (req.onError = defaultOnError),
      (req.createNode = function (e, t, n) {
        var i = e.xhtml
          ? document.createElementNS(
              "http://www.w3.org/1999/xhtml",
              "html:script"
            )
          : document.createElement("script");
        return (
          (i.type = e.scriptType || "text/javascript"),
          (i.charset = "utf-8"),
          (i.async = !0),
          i
        );
      }),
      (req.load = function (t, n, i) {
        var e,
          r = (t && t.config) || {};
        if (isBrowser)
          return (
            (e = req.createNode(r, n, i)).setAttribute(
              "data-requirecontext",
              t.contextName
            ),
            e.setAttribute("data-requiremodule", n),
            !e.attachEvent ||
            (e.attachEvent.toString &&
              e.attachEvent.toString().indexOf("[native code") < 0) ||
            isOpera
              ? (e.addEventListener("load", t.onScriptLoad, !1),
                e.addEventListener("error", t.onScriptError, !1))
              : ((useInteractive = !0),
                e.attachEvent("onreadystatechange", t.onScriptLoad)),
            (e.src = i),
            r.onNodeCreated && r.onNodeCreated(e, r, n, i),
            (currentlyAddingScript = e),
            baseElement
              ? head.insertBefore(e, baseElement)
              : head.appendChild(e),
            (currentlyAddingScript = null),
            e
          );
        if (isWebWorker)
          try {
            setTimeout(function () {}, 0), importScripts(i), t.completeLoad(n);
          } catch (e) {
            t.onError(
              makeError(
                "importscripts",
                "importScripts failed for " + n + " at " + i,
                e,
                [n]
              )
            );
          }
      }),
      isBrowser &&
        !cfg.skipDataMain &&
        eachReverse(scripts(), function (e) {
          if (
            (head || (head = e.parentNode),
            (dataMain = e.getAttribute("data-main")))
          )
            return (
              (mainScript = dataMain),
              cfg.baseUrl ||
                -1 !== mainScript.indexOf("!") ||
                ((mainScript = (src = mainScript.split("/")).pop()),
                (subPath = src.length ? src.join("/") + "/" : "./"),
                (cfg.baseUrl = subPath)),
              (mainScript = mainScript.replace(jsSuffixRegExp, "")),
              req.jsExtRegExp.test(mainScript) && (mainScript = dataMain),
              (cfg.deps = cfg.deps
                ? cfg.deps.concat(mainScript)
                : [mainScript]),
              !0
            );
        }),
      (define = function (e, n, t) {
        var i, r;
        "string" != typeof e && ((t = n), (n = e), (e = null)),
          isArray(n) || ((t = n), (n = null)),
          !n &&
            isFunction(t) &&
            ((n = []),
            t.length &&
              (t
                .toString()
                .replace(commentRegExp, commentReplace)
                .replace(cjsRequireRegExp, function (e, t) {
                  n.push(t);
                }),
              (n = (
                1 === t.length ? ["require"] : ["require", "exports", "module"]
              ).concat(n)))),
          useInteractive &&
            (i = currentlyAddingScript || getInteractiveScript()) &&
            (e || (e = i.getAttribute("data-requiremodule")),
            (r = contexts[i.getAttribute("data-requirecontext")])),
          r
            ? (r.defQueue.push([e, n, t]), (r.defQueueMap[e] = !0))
            : globalDefQueue.push([e, n, t]);
      }),
      (define.amd = { jQuery: !0 }),
      (req.exec = function (text) {
        return eval(text);
      }),
      req(cfg);
  }
  function newContext(u) {
    var n,
      e,
      f,
      l,
      c,
      m = {
        waitSeconds: 7,
        baseUrl: "./",
        paths: {},
        bundles: {},
        pkgs: {},
        shim: {},
        config: {},
      },
      d = {},
      h = {},
      i = {},
      p = [],
      g = {},
      r = {},
      v = {},
      b = 1,
      y = 1;
    function w(e, t, n) {
      var i,
        r,
        o,
        a,
        s,
        u,
        l,
        c,
        d,
        h,
        f = t && t.split("/"),
        p = m.map,
        g = p && p["*"];
      if (
        (e &&
          ((u = (e = e.split("/")).length - 1),
          m.nodeIdCompat &&
            jsSuffixRegExp.test(e[u]) &&
            (e[u] = e[u].replace(jsSuffixRegExp, "")),
          "." === e[0].charAt(0) &&
            f &&
            (e = f.slice(0, f.length - 1).concat(e)),
          (function (e) {
            var t, n;
            for (t = 0; t < e.length; t++)
              if ("." === (n = e[t])) e.splice(t, 1), (t -= 1);
              else if (".." === n) {
                if (0 === t || (1 === t && ".." === e[2]) || ".." === e[t - 1])
                  continue;
                0 < t && (e.splice(t - 1, 2), (t -= 2));
              }
          })(e),
          (e = e.join("/"))),
        n && p && (f || g))
      ) {
        e: for (o = (r = e.split("/")).length; 0 < o; o -= 1) {
          if (((s = r.slice(0, o).join("/")), f))
            for (a = f.length; 0 < a; a -= 1)
              if (
                (i = getOwn(p, f.slice(0, a).join("/"))) &&
                (i = getOwn(i, s))
              ) {
                (l = i), (c = o);
                break e;
              }
          !d && g && getOwn(g, s) && ((d = getOwn(g, s)), (h = o));
        }
        !l && d && ((l = d), (c = h)),
          l && (r.splice(0, c, l), (e = r.join("/")));
      }
      return getOwn(m.pkgs, e) || e;
    }
    function _(t) {
      isBrowser &&
        each(scripts(), function (e) {
          if (
            e.getAttribute("data-requiremodule") === t &&
            e.getAttribute("data-requirecontext") === f.contextName
          )
            return e.parentNode.removeChild(e), !0;
        });
    }
    function x(e) {
      var t = getOwn(m.paths, e);
      if (t && isArray(t) && 1 < t.length)
        return (
          t.shift(),
          f.require.undef(e),
          f.makeRequire(null, { skipMap: !0 })([e]),
          !0
        );
    }
    function T(e) {
      var t,
        n = e ? e.indexOf("!") : -1;
      return (
        -1 < n && ((t = e.substring(0, n)), (e = e.substring(n + 1, e.length))),
        [t, e]
      );
    }
    function C(e, t, n, i) {
      var r,
        o,
        a,
        s,
        u = null,
        l = t ? t.name : null,
        c = e,
        d = !0,
        h = "";
      return (
        e || ((d = !1), (e = "_@r" + (b += 1))),
        (u = (s = T(e))[0]),
        (e = s[1]),
        u && ((u = w(u, l, i)), (o = getOwn(g, u))),
        e &&
          (u
            ? (h = n
                ? e
                : o && o.normalize
                ? o.normalize(e, function (e) {
                    return w(e, l, i);
                  })
                : -1 === e.indexOf("!")
                ? w(e, l, i)
                : e)
            : ((u = (s = T((h = w(e, l, i))))[0]),
              (h = s[1]),
              (n = !0),
              (r = f.nameToUrl(h)))),
        {
          prefix: u,
          name: h,
          parentMap: t,
          unnormalized: !!(a = !u || o || n ? "" : "_unnormalized" + (y += 1)),
          url: r,
          originalName: c,
          isDefine: d,
          id: (u ? u + "!" + h : h) + a,
        }
      );
    }
    function S(e) {
      var t = e.id,
        n = getOwn(d, t);
      return n || (n = d[t] = new f.Module(e)), n;
    }
    function E(e, t, n) {
      var i = e.id,
        r = getOwn(d, i);
      !hasProp(g, i) || (r && !r.defineEmitComplete)
        ? (r = S(e)).error && "error" === t
          ? n(r.error)
          : r.on(t, n)
        : "defined" === t && n(g[i]);
    }
    function D(n, e) {
      var t = n.requireModules,
        i = !1;
      e
        ? e(n)
        : (each(t, function (e) {
            var t = getOwn(d, e);
            t &&
              ((t.error = n), t.events.error && ((i = !0), t.emit("error", n)));
          }),
          i || req.onError(n));
    }
    function O() {
      globalDefQueue.length &&
        (each(globalDefQueue, function (e) {
          var t = e[0];
          "string" == typeof t && (f.defQueueMap[t] = !0), p.push(e);
        }),
        (globalDefQueue = []));
    }
    function M(e) {
      delete d[e], delete h[e];
    }
    function j() {
      var e,
        i,
        t = 1e3 * m.waitSeconds,
        r = t && f.startTime + t < new Date().getTime(),
        o = [],
        a = [],
        s = !1,
        u = !0;
      if (!n) {
        if (
          ((n = !0),
          eachProp(h, function (e) {
            var t = e.map,
              n = t.id;
            if (e.enabled && (t.isDefine || a.push(e), !e.error))
              if (!e.inited && r) x(n) ? (s = i = !0) : (o.push(n), _(n));
              else if (
                !e.inited &&
                e.fetched &&
                t.isDefine &&
                ((s = !0), !t.prefix)
              )
                return (u = !1);
          }),
          r && o.length)
        )
          return (
            ((e = makeError(
              "timeout",
              "Load timeout for modules: " + o,
              null,
              o
            )).contextName = f.contextName),
            D(e)
          );
        u &&
          each(a, function (e) {
            !(function r(o, a, s) {
              var e = o.map.id;
              o.error
                ? o.emit("error", o.error)
                : ((a[e] = !0),
                  each(o.depMaps, function (e, t) {
                    var n = e.id,
                      i = getOwn(d, n);
                    !i ||
                      o.depMatched[t] ||
                      s[n] ||
                      (getOwn(a, n)
                        ? (o.defineDep(t, g[n]), o.check())
                        : r(i, a, s));
                  }),
                  (s[e] = !0));
            })(e, {}, {});
          }),
          (r && !i) ||
            !s ||
            (!isBrowser && !isWebWorker) ||
            c ||
            (c = setTimeout(function () {
              (c = 0), j();
            }, 50)),
          (n = !1);
      }
    }
    function a(e) {
      hasProp(g, e[0]) || S(C(e[0], null, !0)).init(e[1], e[2]);
    }
    function o(e, t, n, i) {
      e.detachEvent && !isOpera
        ? i && e.detachEvent(i, t)
        : e.removeEventListener(n, t, !1);
    }
    function s(e) {
      var t = e.currentTarget || e.srcElement;
      return (
        o(t, f.onScriptLoad, "load", "onreadystatechange"),
        o(t, f.onScriptError, "error"),
        { node: t, id: t && t.getAttribute("data-requiremodule") }
      );
    }
    function P() {
      var e;
      for (O(); p.length; ) {
        if (null === (e = p.shift())[0])
          return D(
            makeError(
              "mismatch",
              "Mismatched anonymous define() module: " + e[e.length - 1]
            )
          );
        a(e);
      }
      f.defQueueMap = {};
    }
    return (
      (l = {
        require: function (e) {
          return e.require ? e.require : (e.require = f.makeRequire(e.map));
        },
        exports: function (e) {
          if (((e.usingExports = !0), e.map.isDefine))
            return e.exports
              ? (g[e.map.id] = e.exports)
              : (e.exports = g[e.map.id] = {});
        },
        module: function (e) {
          return e.module
            ? e.module
            : (e.module = {
                id: e.map.id,
                uri: e.map.url,
                config: function () {
                  return getOwn(m.config, e.map.id) || {};
                },
                exports: e.exports || (e.exports = {}),
              });
        },
      }),
      ((e = function (e) {
        (this.events = getOwn(i, e.id) || {}),
          (this.map = e),
          (this.shim = getOwn(m.shim, e.id)),
          (this.depExports = []),
          (this.depMaps = []),
          (this.depMatched = []),
          (this.pluginMaps = {}),
          (this.depCount = 0);
      }).prototype = {
        init: function (e, t, n, i) {
          (i = i || {}),
            this.inited ||
              ((this.factory = t),
              n
                ? this.on("error", n)
                : this.events.error &&
                  (n = bind(this, function (e) {
                    this.emit("error", e);
                  })),
              (this.depMaps = e && e.slice(0)),
              (this.errback = n),
              (this.inited = !0),
              (this.ignore = i.ignore),
              i.enabled || this.enabled ? this.enable() : this.check());
        },
        defineDep: function (e, t) {
          this.depMatched[e] ||
            ((this.depMatched[e] = !0),
            (this.depCount -= 1),
            (this.depExports[e] = t));
        },
        fetch: function () {
          if (!this.fetched) {
            (this.fetched = !0), (f.startTime = new Date().getTime());
            var e = this.map;
            if (!this.shim) return e.prefix ? this.callPlugin() : this.load();
            f.makeRequire(this.map, { enableBuildCallback: !0 })(
              this.shim.deps || [],
              bind(this, function () {
                return e.prefix ? this.callPlugin() : this.load();
              })
            );
          }
        },
        load: function () {
          var e = this.map.url;
          r[e] || ((r[e] = !0), f.load(this.map.id, e));
        },
        check: function () {
          if (this.enabled && !this.enabling) {
            var t,
              e,
              n = this.map.id,
              i = this.depExports,
              r = this.exports,
              o = this.factory;
            if (this.inited) {
              if (this.error) this.emit("error", this.error);
              else if (!this.defining) {
                if (
                  ((this.defining = !0), this.depCount < 1 && !this.defined)
                ) {
                  if (isFunction(o)) {
                    if (
                      (this.events.error && this.map.isDefine) ||
                      req.onError !== defaultOnError
                    )
                      try {
                        r = f.execCb(n, o, i, r);
                      } catch (e) {
                        t = e;
                      }
                    else r = f.execCb(n, o, i, r);
                    if (
                      (this.map.isDefine &&
                        void 0 === r &&
                        ((e = this.module)
                          ? (r = e.exports)
                          : this.usingExports && (r = this.exports)),
                      t)
                    )
                      return (
                        (t.requireMap = this.map),
                        (t.requireModules = this.map.isDefine
                          ? [this.map.id]
                          : null),
                        (t.requireType = this.map.isDefine
                          ? "define"
                          : "require"),
                        D((this.error = t))
                      );
                  } else r = o;
                  if (
                    ((this.exports = r),
                    this.map.isDefine &&
                      !this.ignore &&
                      ((g[n] = r), req.onResourceLoad))
                  ) {
                    var a = [];
                    each(this.depMaps, function (e) {
                      a.push(e.normalizedMap || e);
                    }),
                      req.onResourceLoad(f, this.map, a);
                  }
                  M(n), (this.defined = !0);
                }
                (this.defining = !1),
                  this.defined &&
                    !this.defineEmitted &&
                    ((this.defineEmitted = !0),
                    this.emit("defined", this.exports),
                    (this.defineEmitComplete = !0));
              }
            } else hasProp(f.defQueueMap, n) || this.fetch();
          }
        },
        callPlugin: function () {
          var u = this.map,
            l = u.id,
            e = C(u.prefix);
          this.depMaps.push(e),
            E(
              e,
              "defined",
              bind(this, function (e) {
                var o,
                  t,
                  n,
                  i = getOwn(v, this.map.id),
                  r = this.map.name,
                  a = this.map.parentMap ? this.map.parentMap.name : null,
                  s = f.makeRequire(u.parentMap, { enableBuildCallback: !0 });
                return this.map.unnormalized
                  ? (e.normalize &&
                      (r =
                        e.normalize(r, function (e) {
                          return w(e, a, !0);
                        }) || ""),
                    E(
                      (t = C(u.prefix + "!" + r, this.map.parentMap, !0)),
                      "defined",
                      bind(this, function (e) {
                        (this.map.normalizedMap = t),
                          this.init(
                            [],
                            function () {
                              return e;
                            },
                            null,
                            { enabled: !0, ignore: !0 }
                          );
                      })
                    ),
                    void (
                      (n = getOwn(d, t.id)) &&
                      (this.depMaps.push(t),
                      this.events.error &&
                        n.on(
                          "error",
                          bind(this, function (e) {
                            this.emit("error", e);
                          })
                        ),
                      n.enable())
                    ))
                  : i
                  ? ((this.map.url = f.nameToUrl(i)), void this.load())
                  : (((o = bind(this, function (e) {
                      this.init(
                        [],
                        function () {
                          return e;
                        },
                        null,
                        { enabled: !0 }
                      );
                    })).error = bind(this, function (e) {
                      (this.inited = !0),
                        ((this.error = e).requireModules = [l]),
                        eachProp(d, function (e) {
                          0 === e.map.id.indexOf(l + "_unnormalized") &&
                            M(e.map.id);
                        }),
                        D(e);
                    })),
                    (o.fromText = bind(this, function (e, t) {
                      var n = u.name,
                        i = C(n),
                        r = useInteractive;
                      t && (e = t),
                        r && (useInteractive = !1),
                        S(i),
                        hasProp(m.config, l) && (m.config[n] = m.config[l]);
                      try {
                        req.exec(e);
                      } catch (e) {
                        return D(
                          makeError(
                            "fromtexteval",
                            "fromText eval for " + l + " failed: " + e,
                            e,
                            [l]
                          )
                        );
                      }
                      r && (useInteractive = !0),
                        this.depMaps.push(i),
                        f.completeLoad(n),
                        s([n], o);
                    })),
                    void e.load(u.name, s, o, m));
              })
            ),
            f.enable(e, this),
            (this.pluginMaps[e.id] = e);
        },
        enable: function () {
          ((h[this.map.id] = this).enabled = !0),
            (this.enabling = !0),
            each(
              this.depMaps,
              bind(this, function (e, t) {
                var n, i, r;
                if ("string" == typeof e) {
                  if (
                    ((e = C(
                      e,
                      this.map.isDefine ? this.map : this.map.parentMap,
                      !1,
                      !this.skipMap
                    )),
                    (this.depMaps[t] = e),
                    (r = getOwn(l, e.id)))
                  )
                    return void (this.depExports[t] = r(this));
                  (this.depCount += 1),
                    E(
                      e,
                      "defined",
                      bind(this, function (e) {
                        this.undefed || (this.defineDep(t, e), this.check());
                      })
                    ),
                    this.errback
                      ? E(e, "error", bind(this, this.errback))
                      : this.events.error &&
                        E(
                          e,
                          "error",
                          bind(this, function (e) {
                            this.emit("error", e);
                          })
                        );
                }
                (n = e.id),
                  (i = d[n]),
                  hasProp(l, n) || !i || i.enabled || f.enable(e, this);
              })
            ),
            eachProp(
              this.pluginMaps,
              bind(this, function (e) {
                var t = getOwn(d, e.id);
                t && !t.enabled && f.enable(e, this);
              })
            ),
            (this.enabling = !1),
            this.check();
        },
        on: function (e, t) {
          var n = this.events[e];
          n || (n = this.events[e] = []), n.push(t);
        },
        emit: function (e, t) {
          each(this.events[e], function (e) {
            e(t);
          }),
            "error" === e && delete this.events[e];
        },
      }),
      ((f = {
        config: m,
        contextName: u,
        registry: d,
        defined: g,
        urlFetched: r,
        defQueue: p,
        defQueueMap: {},
        Module: e,
        makeModuleMap: C,
        nextTick: req.nextTick,
        onError: D,
        configure: function (e) {
          if (
            (e.baseUrl &&
              "/" !== e.baseUrl.charAt(e.baseUrl.length - 1) &&
              (e.baseUrl += "/"),
            "string" == typeof e.urlArgs)
          ) {
            var n = e.urlArgs;
            e.urlArgs = function (e, t) {
              return (-1 === t.indexOf("?") ? "?" : "&") + n;
            };
          }
          var i = m.shim,
            r = { paths: !0, bundles: !0, config: !0, map: !0 };
          eachProp(e, function (e, t) {
            r[t] ? (m[t] || (m[t] = {}), mixin(m[t], e, !0, !0)) : (m[t] = e);
          }),
            e.bundles &&
              eachProp(e.bundles, function (e, t) {
                each(e, function (e) {
                  e !== t && (v[e] = t);
                });
              }),
            e.shim &&
              (eachProp(e.shim, function (e, t) {
                isArray(e) && (e = { deps: e }),
                  (!e.exports && !e.init) ||
                    e.exportsFn ||
                    (e.exportsFn = f.makeShimExports(e)),
                  (i[t] = e);
              }),
              (m.shim = i)),
            e.packages &&
              each(e.packages, function (e) {
                var t;
                (t = (e = "string" == typeof e ? { name: e } : e).name),
                  e.location && (m.paths[t] = e.location),
                  (m.pkgs[t] =
                    e.name +
                    "/" +
                    (e.main || "main")
                      .replace(currDirRegExp, "")
                      .replace(jsSuffixRegExp, ""));
              }),
            eachProp(d, function (e, t) {
              e.inited || e.map.unnormalized || (e.map = C(t, null, !0));
            }),
            (e.deps || e.callback) && f.require(e.deps || [], e.callback);
        },
        makeShimExports: function (t) {
          return function () {
            var e;
            return (
              t.init && (e = t.init.apply(global, arguments)),
              e || (t.exports && getGlobal(t.exports))
            );
          };
        },
        makeRequire: function (o, a) {
          function s(e, t, n) {
            var i, r;
            return (
              a.enableBuildCallback &&
                t &&
                isFunction(t) &&
                (t.__requireJsBuild = !0),
              "string" == typeof e
                ? isFunction(t)
                  ? D(makeError("requireargs", "Invalid require call"), n)
                  : o && hasProp(l, e)
                  ? l[e](d[o.id])
                  : req.get
                  ? req.get(f, e, o, s)
                  : ((i = C(e, o, !1, !0).id),
                    hasProp(g, i)
                      ? g[i]
                      : D(
                          makeError(
                            "notloaded",
                            'Module name "' +
                              i +
                              '" has not been loaded yet for context: ' +
                              u +
                              (o ? "" : ". Use require([])")
                          )
                        ))
                : (P(),
                  f.nextTick(function () {
                    P(),
                      ((r = S(C(null, o))).skipMap = a.skipMap),
                      r.init(e, t, n, { enabled: !0 }),
                      j();
                  }),
                  s)
            );
          }
          return (
            (a = a || {}),
            mixin(s, {
              isBrowser: isBrowser,
              toUrl: function (e) {
                var t,
                  n = e.lastIndexOf("."),
                  i = e.split("/")[0];
                return (
                  -1 !== n &&
                    (!("." === i || ".." === i) || 1 < n) &&
                    ((t = e.substring(n, e.length)), (e = e.substring(0, n))),
                  f.nameToUrl(w(e, o && o.id, !0), t, !0)
                );
              },
              defined: function (e) {
                return hasProp(g, C(e, o, !1, !0).id);
              },
              specified: function (e) {
                return (e = C(e, o, !1, !0).id), hasProp(g, e) || hasProp(d, e);
              },
            }),
            o ||
              (s.undef = function (n) {
                O();
                var e = C(n, o, !0),
                  t = getOwn(d, n);
                (t.undefed = !0),
                  _(n),
                  delete g[n],
                  delete r[e.url],
                  delete i[n],
                  eachReverse(p, function (e, t) {
                    e[0] === n && p.splice(t, 1);
                  }),
                  delete f.defQueueMap[n],
                  t && (t.events.defined && (i[n] = t.events), M(n));
              }),
            s
          );
        },
        enable: function (e) {
          getOwn(d, e.id) && S(e).enable();
        },
        completeLoad: function (e) {
          var t,
            n,
            i,
            r = getOwn(m.shim, e) || {},
            o = r.exports;
          for (O(); p.length; ) {
            if (null === (n = p.shift())[0]) {
              if (((n[0] = e), t)) break;
              t = !0;
            } else n[0] === e && (t = !0);
            a(n);
          }
          if (
            ((f.defQueueMap = {}),
            (i = getOwn(d, e)),
            !t && !hasProp(g, e) && i && !i.inited)
          ) {
            if (!(!m.enforceDefine || (o && getGlobal(o))))
              return x(e)
                ? void 0
                : D(
                    makeError("nodefine", "No define call for " + e, null, [e])
                  );
            a([e, r.deps || [], r.exportsFn]);
          }
          j();
        },
        nameToUrl: function (e, t, n) {
          var i,
            r,
            o,
            a,
            s,
            u,
            l = getOwn(m.pkgs, e);
          if ((l && (e = l), (u = getOwn(v, e)))) return f.nameToUrl(u, t, n);
          if (req.jsExtRegExp.test(e)) a = e + (t || "");
          else {
            for (i = m.paths, o = (r = e.split("/")).length; 0 < o; o -= 1)
              if ((s = getOwn(i, r.slice(0, o).join("/")))) {
                isArray(s) && (s = s[0]), r.splice(0, o, s);
                break;
              }
            (a = r.join("/")),
              (a =
                ("/" ===
                  (a +=
                    t ||
                    (/^data\:|^blob\:|\?/.test(a) || n ? "" : ".js")).charAt(
                    0
                  ) || a.match(/^[\w\+\.\-]+:/)
                  ? ""
                  : m.baseUrl) + a);
          }
          return m.urlArgs && !/^blob\:/.test(a) ? a + m.urlArgs(e, a) : a;
        },
        load: function (e, t) {
          req.load(f, e, t);
        },
        execCb: function (e, t, n, i) {
          return t.apply(i, n);
        },
        onScriptLoad: function (e) {
          if (
            "load" === e.type ||
            readyRegExp.test((e.currentTarget || e.srcElement).readyState)
          ) {
            interactiveScript = null;
            var t = s(e);
            f.completeLoad(t.id);
          }
        },
        onScriptError: function (e) {
          var n = s(e);
          if (!x(n.id)) {
            var i = [];
            return (
              eachProp(d, function (e, t) {
                0 !== t.indexOf("_@r") &&
                  each(e.depMaps, function (e) {
                    if (e.id === n.id) return i.push(t), !0;
                  });
              }),
              D(
                makeError(
                  "scripterror",
                  'Script error for "' +
                    n.id +
                    (i.length ? '", needed by: ' + i.join(", ") : '"'),
                  e,
                  [n.id]
                )
              )
            );
          }
        },
      }).require = f.makeRequire()),
      f
    );
  }
  function getInteractiveScript() {
    return (
      (interactiveScript && "interactive" === interactiveScript.readyState) ||
        eachReverse(scripts(), function (e) {
          if ("interactive" === e.readyState) return (interactiveScript = e);
        }),
      interactiveScript
    );
  }
})(this, "undefined" == typeof setTimeout ? void 0 : setTimeout),
  define("../node_modules/requirejs/require", function () {}),
  /** @license
   * JS Signals <http://millermedeiros.github.com/js-signals/>
   * Released under the MIT license
   * Author: Miller Medeiros
   * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)
   */
  (function (e) {
    function a(e, t, n, i, r) {
      (this._listener = t),
        (this._isOnce = n),
        (this.context = i),
        (this._signal = e),
        (this._priority = r || 0);
    }
    function i(e, t) {
      if ("function" != typeof e)
        throw new Error(
          "listener is a required param of {fn}() and should be a Function.".replace(
            "{fn}",
            t
          )
        );
    }
    function t() {
      (this._bindings = []), (this._prevParams = null);
      var e = this;
      this.dispatch = function () {
        t.prototype.dispatch.apply(e, arguments);
      };
    }
    t.prototype = {
      VERSION: "1.0.0",
      memorize: !(a.prototype = {
        active: !0,
        params: null,
        execute: function (e) {
          var t, n;
          return (
            this.active &&
              this._listener &&
              ((n = this.params ? this.params.concat(e) : e),
              (t = this._listener.apply(this.context, n)),
              this._isOnce && this.detach()),
            t
          );
        },
        detach: function () {
          return this.isBound()
            ? this._signal.remove(this._listener, this.context)
            : null;
        },
        isBound: function () {
          return !!this._signal && !!this._listener;
        },
        isOnce: function () {
          return this._isOnce;
        },
        getListener: function () {
          return this._listener;
        },
        getSignal: function () {
          return this._signal;
        },
        _destroy: function () {
          delete this._signal, delete this._listener, delete this.context;
        },
        toString: function () {
          return (
            "[SignalBinding isOnce:" +
            this._isOnce +
            ", isBound:" +
            this.isBound() +
            ", active:" +
            this.active +
            "]"
          );
        },
      }),
      _shouldPropagate: !0,
      active: !0,
      _registerListener: function (e, t, n, i) {
        var r,
          o = this._indexOfListener(e, n);
        if (-1 !== o) {
          if ((r = this._bindings[o]).isOnce() !== t)
            throw new Error(
              "You cannot add" +
                (t ? "" : "Once") +
                "() then add" +
                (t ? "Once" : "") +
                "() the same listener without removing the relationship first."
            );
        } else (r = new a(this, e, t, n, i)), this._addBinding(r);
        return (
          this.memorize && this._prevParams && r.execute(this._prevParams), r
        );
      },
      _addBinding: function (e) {
        for (
          var t = this._bindings.length;
          --t, this._bindings[t] && e._priority <= this._bindings[t]._priority;

        );
        this._bindings.splice(t + 1, 0, e);
      },
      _indexOfListener: function (e, t) {
        for (var n, i = this._bindings.length; i--; )
          if ((n = this._bindings[i])._listener === e && n.context === t)
            return i;
        return -1;
      },
      has: function (e, t) {
        return -1 !== this._indexOfListener(e, t);
      },
      add: function (e, t, n) {
        return i(e, "add"), this._registerListener(e, !1, t, n);
      },
      addOnce: function (e, t, n) {
        return i(e, "addOnce"), this._registerListener(e, !0, t, n);
      },
      remove: function (e, t) {
        i(e, "remove");
        var n = this._indexOfListener(e, t);
        return (
          -1 !== n &&
            (this._bindings[n]._destroy(), this._bindings.splice(n, 1)),
          e
        );
      },
      removeAll: function () {
        for (var e = this._bindings.length; e--; ) this._bindings[e]._destroy();
        this._bindings.length = 0;
      },
      getNumListeners: function () {
        return this._bindings.length;
      },
      halt: function () {
        this._shouldPropagate = !1;
      },
      dispatch: function (e) {
        if (this.active) {
          var t,
            n = Array.prototype.slice.call(arguments),
            i = this._bindings.length;
          if ((this.memorize && (this._prevParams = n), i))
            for (
              t = this._bindings.slice(), this._shouldPropagate = !0;
              t[--i] && this._shouldPropagate && !1 !== t[i].execute(n);

            );
        }
      },
      forget: function () {
        this._prevParams = null;
      },
      dispose: function () {
        this.removeAll(), delete this._bindings, delete this._prevParams;
      },
      toString: function () {
        return (
          "[Signal active:" +
          this.active +
          " numListeners:" +
          this.getNumListeners() +
          "]"
        );
      },
    };
    var n = t;
    (n.Signal = t),
      "function" == typeof define && define.amd
        ? define("signals", [], function () {
            return n;
          })
        : "undefined" != typeof module && module.exports
        ? (module.exports = n)
        : (e.signals = n);
  })(this),
  define(
    "HMIWeb/Source/App/ClientWindowLifecycleManager",
    ["require", "exports", "signals"],
    function (e, t, S) {
      "use strict";
      var E, n;
      Object.defineProperty(t, "__esModule", { value: !0 }),
        ((n = E || (E = {}))[(n.WaitingDueToStagger = 0)] =
          "WaitingDueToStagger"),
        (n[(n.ReadyToCreate = 1)] = "ReadyToCreate"),
        (n[(n.PreparingToCreate = 2)] = "PreparingToCreate"),
        (n[(n.InvokedCreate = 3)] = "InvokedCreate"),
        (n[(n.Created = 4)] = "Created"),
        (n[(n.Complete = 5)] = "Complete"),
        (n[(n.Deleted = 6)] = "Deleted"),
        (t.manageClientWindowLifecycle = function (
          a,
          e,
          s,
          u,
          n,
          t,
          i,
          l,
          c,
          r
        ) {
          var d = null == e ? Promise.resolve({}) : e,
            h = document.head.getAttribute("data-displayfilesyncid"),
            f = null != h,
            o = E.WaitingDueToStagger,
            p = new t(function () {
              return (function () {
                if (u.isInUse || u.areConfigurationUpdatesSuspended) return 2;
                switch (o) {
                  case E.WaitingDueToStagger:
                    a.debug(
                      "Default",
                      "Configuration change suppressed since window creation is staggered"
                    );
                    break;
                  case E.ReadyToCreate:
                    f
                      ? (a.debug(
                          "Default",
                          "Configuration change has triggered graphic window creation"
                        ),
                        (t = window.location.pathname),
                        T(function (e) {
                          return s
                            .getWindowDataService()
                            .createWindowAndSubscribeToGraphic(
                              t,
                              e,
                              "1.50.1.407",
                              h
                            );
                        }))
                      : u.dataObjectConfigurationStore.hasUpdatedConfiguration
                      ? (a.debug(
                          "Default",
                          "Configuration change has triggered window creation"
                        ),
                        T(function (e) {
                          return s
                            .getWindowDataService()
                            .createWindow(
                              e,
                              "1.50.1.407",
                              u.dataObjectConfigurationStore.getChangedConfiguration()
                            );
                        }))
                      : a.debug(
                          "Default",
                          "Window is ready but has no configuration "
                        );
                    break;
                  case E.PreparingToCreate:
                    if (f)
                      throw new Error(
                        "Got a configuration change while preparing to create a graphic. This should not happen"
                      );
                    a.debug(
                      "Default",
                      "Configuration change while preparing is ignored. Changes will be picked up when create window is called anyway"
                    );
                    break;
                  case E.InvokedCreate:
                    f
                      ? a.debug(
                          "Default",
                          "Configuration change before create window and subscribe call returned. Probably after publish, before resolve. Changes will be auto collected after create window"
                        )
                      : a.debug(
                          "Default",
                          "Configuration change while create window call in progress is ignored. Changes will be auto collected after create window"
                        );
                    break;
                  case E.Created:
                  case E.Complete:
                    if (!u.dataObjectConfigurationStore.hasUpdatedConfiguration)
                      break;
                    s.getDataService()
                      .updateConfigurations(
                        u.dataObjectConfigurationStore.getChangedConfiguration()
                      )
                      .catch(function () {});
                    break;
                  case E.Deleted:
                    a.debug(
                      "Default",
                      "Configuration change suppressed since window has been deleted"
                    );
                    break;
                  default:
                    throw new Error("Unknown window state " + o);
                }
                var t;
              })();
            }),
            g = new S.Signal(),
            m = new Promise(function (t, n) {
              g.addOnce(function (e) {
                e instanceof Error ? n(e) : t(e);
              });
            }),
            v = Math.floor(5e3 + 25e3 * Math.random());
          setTimeout(function () {
            return _("delay of " + v + "ms expired");
          }, v);
          var b = s.getPoller();
          b.setPageLoadState(1);
          var y = s.getServerToClientNotifier();
          function w(e) {
            var t = s.getPoller(),
              n = s.getServerToClientNotifier();
            "hidden" === i.getDocumentVisibility()
              ? (t.setVisibility(!1),
                n.setVisibility(!1),
                p.setRateLimitMs(6e4))
              : (_(e ? "document is visible" : "document has become visible"),
                t.setVisibility(!0),
                n.setVisibility(!0),
                p.setRateLimitMs(1e3));
          }
          function _(e) {
            o === E.WaitingDueToStagger &&
              (a.debug("Default", "Proceeding with create window as " + e),
              (o = E.ReadyToCreate),
              x());
          }
          function x() {
            p.invoke();
          }
          function T(t) {
            (o = E.PreparingToCreate),
              d
                .then(function (e) {
                  return (
                    (o = E.InvokedCreate),
                    n.startPhase("subscribe_reply"),
                    n.startPhase("subscribe_until_first_data"),
                    n.startPhase("subscribe_until_data_model_complete"),
                    t(e)
                  );
                })
                .then(
                  function (e) {
                    return (
                      (t = e),
                      o === E.InvokedCreate && (o = E.Created),
                      void g.dispatch(t)
                    );
                    var t;
                  },
                  function (e) {
                    return (
                      (t = e),
                      o === E.InvokedCreate && (o = E.Created),
                      void (t instanceof Error
                        ? g.dispatch(t)
                        : g.dispatch(new Error(t)))
                    );
                    var t;
                  }
                )
                .then(function () {
                  s.getPoller().setPageLoadState(2),
                    o === E.Complete && s.getPoller().setPageLoadState(3),
                    s.getServerToClientNotifier().startListening(),
                    n.endPhase("subscribe_reply"),
                    x();
                });
          }
          y.dataAvailableToRequest.add(function () {
            return b.triggerOnDemandPoll();
          }),
            y.notificationsAvailabilityChange.add(function () {
              return b.setNotifierAvailability(y.areNotificationsAvailable);
            }),
            w(!0),
            i.addEventListenerToVisibilityChange(function () {
              w(!1);
            }),
            i.addEventListenerToUnload(function () {
              var e, t, n;
              (e = s.getPoller()),
                (t = s.getServerToClientNotifier()),
                (n = o),
                e.setPageLoadState(1),
                (o = E.Deleted),
                (n === E.Created || n === E.Complete) &&
                  (s.getWindowDataService().deleteWindow(),
                  t.stopListening(),
                  t.dispose());
            }),
            u.dataModelComplete.then(function () {
              o === E.Created && s.getPoller().setPageLoadState(3),
                o < E.Complete && (o = E.Complete),
                n.endPhase("subscribe_until_data_model_complete"),
                n.logAllPhases();
            }),
            u.onHasUpdatedConfiguration.add(function () {
              return x();
            }),
            s.getCommunicationEvents().updateReceived.add(function (t) {
              u.use(function (e) {
                return e.updateDataObjects(t);
              });
            }),
            s.getCommunicationEvents().errorReceived.add(function (e) {
              r.updateStatus(e, !0);
            }),
            s.getCommunicationEvents().recoveryReceived.add(function () {
              C ||
                ((C = !0),
                (function t(n) {
                  var i = null,
                    r = null;
                  f && ((i = window.location.pathname), (r = h));
                  var e,
                    o = s.getWindowDataService();
                  return (
                    (e =
                      0 === n
                        ? Promise.resolve()
                        : new Promise(function (e) {
                            setTimeout(function () {
                              return e();
                            }, n);
                          })),
                    a.info("Communication", "Attempting to recover"),
                    e
                      .then(function () {
                        return d;
                      })
                      .then(function (e) {
                        return o.recoverWindow(
                          i,
                          e,
                          u.dataObjectConfigurationStore.getEntireConfiguration(),
                          "1.50.1.407",
                          r
                        );
                      })
                      .then(function () {
                        return l.getLocalisedStrings();
                      })
                      .then(function (e) {
                        0 !== n &&
                          c.updateStatus(
                            e.getStringOrError("recoverSuccess"),
                            !1
                          );
                      })
                      .catch(function (e) {
                        return (
                          l.getLocalisedStrings().then(function (e) {
                            c.updateStatus(
                              e.getStringOrError("recoverAttempt"),
                              !0
                            );
                          }),
                          (n = 0 === n ? 1e3 : Math.min(2 * n, 6e4)),
                          a.warn(
                            "Communication",
                            "Error recovering: " + e + ". Retrying in " + n
                          ),
                          t(n)
                        );
                      })
                  );
                })(0).then(function () {
                  (C = !1), a.info("Communication", "Recover successful");
                  var e = s.getServerToClientNotifier();
                  e.sendImmediateHeartbeat();
                }));
            }),
            m.then(
              function (e) {
                a.debug(
                  "Communication",
                  "Connection and subscription established"
                );
              },
              function (e) {
                a.error(
                  "Communication",
                  "Unable to connect or subscribe - " + (e.description || e)
                ),
                  l.getLocalisedStrings().then(function (e) {
                    var t = e.getStringOrError(
                      "Connection_Error_DataConnection"
                    );
                    r.updateStatus(t, !0);
                  });
              }
            );
          var C = !1;
        });
    }
  ),
  (function (e, t) {
    "object" == typeof exports && "undefined" != typeof module
      ? (module.exports = t())
      : "function" == typeof define && define.amd
      ? define("dialogPolyfill", t)
      : ((e = e || self).dialogPolyfill = t());
  })(this, function () {
    "use strict";
    var i = window.CustomEvent;
    function r(e) {
      for (; e; ) {
        if ("dialog" === e.localName) return e;
        e = e.parentElement;
      }
      return null;
    }
    function n(e) {
      e && e.blur && e !== document.body && e.blur();
    }
    function l(e, t) {
      for (var n = 0; n < e.length; ++n) if (e[n] === t) return !0;
      return !1;
    }
    function o(e) {
      return (
        !(!e || !e.hasAttribute("method")) &&
        "dialog" === e.getAttribute("method").toLowerCase()
      );
    }
    function t(n) {
      if (
        ((this.dialog_ = n),
        (this.replacedStyleTop_ = !1),
        (this.openAsModal_ = !1),
        n.hasAttribute("role") || n.setAttribute("role", "dialog"),
        (n.show = this.show.bind(this)),
        (n.showModal = this.showModal.bind(this)),
        (n.close = this.close.bind(this)),
        "returnValue" in n || (n.returnValue = ""),
        "MutationObserver" in window)
      ) {
        new MutationObserver(this.maybeHideModal.bind(this)).observe(n, {
          attributes: !0,
          attributeFilter: ["open"],
        });
      } else {
        var i,
          r = !1,
          o = function () {
            r ? this.downgradeModal() : this.maybeHideModal(), (r = !1);
          }.bind(this),
          t = function (e) {
            if (e.target === n) {
              var t = "DOMNodeRemoved";
              (r |= e.type.substr(0, t.length) === t),
                window.clearTimeout(i),
                (i = window.setTimeout(o, 0));
            }
          };
        [
          "DOMAttrModified",
          "DOMNodeRemoved",
          "DOMNodeRemovedFromDocument",
        ].forEach(function (e) {
          n.addEventListener(e, t);
        });
      }
      Object.defineProperty(n, "open", {
        set: this.setOpen.bind(this),
        get: n.hasAttribute.bind(n, "open"),
      }),
        (this.backdrop_ = document.createElement("div")),
        (this.backdrop_.className = "backdrop"),
        this.backdrop_.addEventListener(
          "click",
          this.backdropClick_.bind(this)
        );
    }
    (i && "object" != typeof i) ||
      ((i = function (e, t) {
        t = t || {};
        var n = document.createEvent("CustomEvent");
        return (
          n.initCustomEvent(e, !!t.bubbles, !!t.cancelable, t.detail || null), n
        );
      }).prototype = window.Event.prototype),
      (t.prototype = {
        get dialog() {
          return this.dialog_;
        },
        maybeHideModal: function () {
          (this.dialog_.hasAttribute("open") &&
            document.body.contains(this.dialog_)) ||
            this.downgradeModal();
        },
        downgradeModal: function () {
          this.openAsModal_ &&
            ((this.openAsModal_ = !1),
            (this.dialog_.style.zIndex = ""),
            this.replacedStyleTop_ &&
              ((this.dialog_.style.top = ""), (this.replacedStyleTop_ = !1)),
            this.backdrop_.parentNode &&
              this.backdrop_.parentNode.removeChild(this.backdrop_),
            a.dm.removeDialog(this));
        },
        setOpen: function (e) {
          e
            ? this.dialog_.hasAttribute("open") ||
              this.dialog_.setAttribute("open", "")
            : (this.dialog_.removeAttribute("open"), this.maybeHideModal());
        },
        backdropClick_: function (e) {
          if (this.dialog_.hasAttribute("tabindex")) this.dialog_.focus();
          else {
            var t = document.createElement("div");
            this.dialog_.insertBefore(t, this.dialog_.firstChild),
              (t.tabIndex = -1),
              t.focus(),
              this.dialog_.removeChild(t);
          }
          var n = document.createEvent("MouseEvents");
          n.initMouseEvent(
            e.type,
            e.bubbles,
            e.cancelable,
            window,
            e.detail,
            e.screenX,
            e.screenY,
            e.clientX,
            e.clientY,
            e.ctrlKey,
            e.altKey,
            e.shiftKey,
            e.metaKey,
            e.button,
            e.relatedTarget
          ),
            this.dialog_.dispatchEvent(n),
            e.stopPropagation();
        },
        focus_: function () {
          var e = this.dialog_.querySelector("[autofocus]:not([disabled])");
          if ((!e && 0 <= this.dialog_.tabIndex && (e = this.dialog_), !e)) {
            var t = ["button", "input", "keygen", "select", "textarea"].map(
              function (e) {
                return e + ":not([disabled])";
              }
            );
            t.push('[tabindex]:not([disabled]):not([tabindex=""])'),
              (e = this.dialog_.querySelector(t.join(", ")));
          }
          n(document.activeElement), e && e.focus();
        },
        updateZIndex: function (e, t) {
          if (e < t) throw new Error("dialogZ should never be < backdropZ");
          (this.dialog_.style.zIndex = e), (this.backdrop_.style.zIndex = t);
        },
        show: function () {
          this.dialog_.open || (this.setOpen(!0), this.focus_());
        },
        showModal: function () {
          if (this.dialog_.hasAttribute("open"))
            throw new Error(
              "Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally."
            );
          if (!document.body.contains(this.dialog_))
            throw new Error(
              "Failed to execute 'showModal' on dialog: The element is not in a Document."
            );
          if (!a.dm.pushDialog(this))
            throw new Error(
              "Failed to execute 'showModal' on dialog: There are too many open modal dialogs."
            );
          (function (e) {
            for (; e && e !== document.body; ) {
              var n = window.getComputedStyle(e),
                t = function (e, t) {
                  return !(void 0 === n[e] || n[e] === t);
                };
              if (
                n.opacity < 1 ||
                t("zIndex", "auto") ||
                t("transform", "none") ||
                t("mixBlendMode", "normal") ||
                t("filter", "none") ||
                t("perspective", "none") ||
                "isolate" === n.isolation ||
                "fixed" === n.position ||
                "touch" === n.webkitOverflowScrolling
              )
                return !0;
              e = e.parentElement;
            }
            return !1;
          })(this.dialog_.parentElement) &&
            console.warn(
              "A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"
            ),
            this.setOpen(!0),
            (this.openAsModal_ = !0),
            a.needsCentering(this.dialog_)
              ? (a.reposition(this.dialog_), (this.replacedStyleTop_ = !0))
              : (this.replacedStyleTop_ = !1),
            this.dialog_.parentNode.insertBefore(
              this.backdrop_,
              this.dialog_.nextSibling
            ),
            this.focus_();
        },
        close: function (e) {
          if (!this.dialog_.hasAttribute("open"))
            throw new Error(
              "Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed."
            );
          this.setOpen(!1), void 0 !== e && (this.dialog_.returnValue = e);
          var t = new i("close", { bubbles: !1, cancelable: !1 });
          this.dialog_.dispatchEvent(t);
        },
      });
    var a = {
      reposition: function (e) {
        var t = document.body.scrollTop || document.documentElement.scrollTop,
          n = t + (window.innerHeight - e.offsetHeight) / 2;
        e.style.top = Math.max(t, n) + "px";
      },
      isInlinePositionSetByStylesheet: function (e) {
        for (var t = 0; t < document.styleSheets.length; ++t) {
          var n = document.styleSheets[t],
            i = null;
          try {
            i = n.cssRules;
          } catch (e) {}
          if (i)
            for (var r = 0; r < i.length; ++r) {
              var o = i[r],
                a = null;
              try {
                a = document.querySelectorAll(o.selectorText);
              } catch (e) {}
              if (a && l(a, e)) {
                var s = o.style.getPropertyValue("top"),
                  u = o.style.getPropertyValue("bottom");
                if ((s && "auto" !== s) || (u && "auto" !== u)) return !0;
              }
            }
        }
        return !1;
      },
      needsCentering: function (e) {
        return (
          "absolute" === window.getComputedStyle(e).position &&
          !(
            ("auto" !== e.style.top && "" !== e.style.top) ||
            ("auto" !== e.style.bottom && "" !== e.style.bottom)
          ) &&
          !a.isInlinePositionSetByStylesheet(e)
        );
      },
      forceRegisterDialog: function (e) {
        if (
          ((window.HTMLDialogElement || e.showModal) &&
            console.warn(
              "This browser already supports <dialog>, the polyfill may not work correctly",
              e
            ),
          "dialog" !== e.localName)
        )
          throw new Error(
            "Failed to register dialog: The element is not a dialog."
          );
        new t(e);
      },
      registerDialog: function (e) {
        e.showModal || a.forceRegisterDialog(e);
      },
      DialogManager: function () {
        this.pendingDialogStack = [];
        var t = this.checkDOM_.bind(this);
        (this.overlay = document.createElement("div")),
          (this.overlay.className = "_dialog_overlay"),
          this.overlay.addEventListener(
            "click",
            function (e) {
              (this.forwardTab_ = void 0), e.stopPropagation(), t([]);
            }.bind(this)
          ),
          (this.handleKey_ = this.handleKey_.bind(this)),
          (this.handleFocus_ = this.handleFocus_.bind(this)),
          (this.zIndexLow_ = 1e5),
          (this.zIndexHigh_ = 100150),
          (this.forwardTab_ = void 0),
          "MutationObserver" in window &&
            (this.mo_ = new MutationObserver(function (e) {
              var i = [];
              e.forEach(function (e) {
                for (var t, n = 0; (t = e.removedNodes[n]); ++n)
                  t instanceof Element &&
                    ("dialog" === t.localName && i.push(t),
                    (i = i.concat(t.querySelectorAll("dialog"))));
              }),
                i.length && t(i);
            }));
      },
    };
    if (
      ((a.DialogManager.prototype.blockDocument = function () {
        document.documentElement.addEventListener(
          "focus",
          this.handleFocus_,
          !0
        ),
          document.addEventListener("keydown", this.handleKey_),
          this.mo_ &&
            this.mo_.observe(document, { childList: !0, subtree: !0 });
      }),
      (a.DialogManager.prototype.unblockDocument = function () {
        document.documentElement.removeEventListener(
          "focus",
          this.handleFocus_,
          !0
        ),
          document.removeEventListener("keydown", this.handleKey_),
          this.mo_ && this.mo_.disconnect();
      }),
      (a.DialogManager.prototype.updateStacking = function () {
        for (
          var e, t = this.zIndexHigh_, n = 0;
          (e = this.pendingDialogStack[n]);
          ++n
        )
          e.updateZIndex(--t, --t),
            0 === n && (this.overlay.style.zIndex = --t);
        var i = this.pendingDialogStack[0];
        i
          ? (i.dialog.parentNode || document.body).appendChild(this.overlay)
          : this.overlay.parentNode &&
            this.overlay.parentNode.removeChild(this.overlay);
      }),
      (a.DialogManager.prototype.containedByTopDialog_ = function (e) {
        for (; (e = r(e)); ) {
          for (var t, n = 0; (t = this.pendingDialogStack[n]); ++n)
            if (t.dialog === e) return 0 === n;
          e = e.parentElement;
        }
        return !1;
      }),
      (a.DialogManager.prototype.handleFocus_ = function (e) {
        if (
          !this.containedByTopDialog_(e.target) &&
          document.activeElement !== document.documentElement &&
          (e.preventDefault(),
          e.stopPropagation(),
          n(e.target),
          void 0 !== this.forwardTab_)
        ) {
          var t = this.pendingDialogStack[0];
          return (
            t.dialog.compareDocumentPosition(e.target) &
              Node.DOCUMENT_POSITION_PRECEDING &&
              (this.forwardTab_
                ? t.focus_()
                : e.target !== document.documentElement &&
                  document.documentElement.focus()),
            !1
          );
        }
      }),
      (a.DialogManager.prototype.handleKey_ = function (e) {
        if (((this.forwardTab_ = void 0), 27 === e.keyCode)) {
          e.preventDefault(), e.stopPropagation();
          var t = new i("cancel", { bubbles: !1, cancelable: !0 }),
            n = this.pendingDialogStack[0];
          n && n.dialog.dispatchEvent(t) && n.dialog.close();
        } else 9 === e.keyCode && (this.forwardTab_ = !e.shiftKey);
      }),
      (a.DialogManager.prototype.checkDOM_ = function (t) {
        this.pendingDialogStack.slice().forEach(function (e) {
          -1 !== t.indexOf(e.dialog) ? e.downgradeModal() : e.maybeHideModal();
        });
      }),
      (a.DialogManager.prototype.pushDialog = function (e) {
        var t = (this.zIndexHigh_ - this.zIndexLow_) / 2 - 1;
        return (
          !(this.pendingDialogStack.length >= t) &&
          (1 === this.pendingDialogStack.unshift(e) && this.blockDocument(),
          this.updateStacking(),
          !0)
        );
      }),
      (a.DialogManager.prototype.removeDialog = function (e) {
        var t = this.pendingDialogStack.indexOf(e);
        -1 !== t &&
          (this.pendingDialogStack.splice(t, 1),
          0 === this.pendingDialogStack.length && this.unblockDocument(),
          this.updateStacking());
      }),
      (a.dm = new a.DialogManager()),
      (a.formSubmitter = null),
      (a.useValue = null),
      void 0 === window.HTMLDialogElement)
    ) {
      var e = document.createElement("form");
      if ((e.setAttribute("method", "dialog"), "dialog" !== e.method)) {
        var s = Object.getOwnPropertyDescriptor(
          HTMLFormElement.prototype,
          "method"
        );
        if (s) {
          var u = s.get;
          s.get = function () {
            return o(this) ? "dialog" : u.call(this);
          };
          var c = s.set;
          (s.set = function (e) {
            return "string" == typeof e && "dialog" === e.toLowerCase()
              ? this.setAttribute("method", e)
              : c.call(this, e);
          }),
            Object.defineProperty(HTMLFormElement.prototype, "method", s);
        }
      }
      document.addEventListener(
        "click",
        function (e) {
          if (
            ((a.formSubmitter = null), (a.useValue = null), !e.defaultPrevented)
          ) {
            var t = e.target;
            if (t && o(t.form)) {
              if (
                !(
                  "submit" === t.type &&
                  -1 < ["button", "input"].indexOf(t.localName)
                )
              ) {
                if ("input" !== t.localName || "image" !== t.type) return;
                a.useValue = e.offsetX + "," + e.offsetY;
              }
              r(t) && (a.formSubmitter = t);
            }
          }
        },
        !1
      );
      var d = HTMLFormElement.prototype.submit;
      (HTMLFormElement.prototype.submit = function () {
        if (!o(this)) return d.call(this);
        var e = r(this);
        e && e.close();
      }),
        document.addEventListener(
          "submit",
          function (e) {
            var t = e.target;
            if (o(t)) {
              e.preventDefault();
              var n = r(t);
              if (n) {
                var i = a.formSubmitter;
                i && i.form === t ? n.close(a.useValue || i.value) : n.close(),
                  (a.formSubmitter = null);
              }
            }
          },
          !0
        );
    }
    return a;
  }),
  define(
    "HMIWeb/Source/Core/Logging/NotificationFactory",
    ["require", "exports", "dialogPolyfill"],
    function (e, t, r) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function e(e, t) {
          (this.logger = e), (this.externalNotifier = t);
        }
        return (
          (e.prototype.create = function (e, t, n, i, r, o) {
            if ((void 0 === o && (o = !1), 1 === r && 2 === i && 3 === n))
              return new s(this, this.logger, e, t, o);
            if (1 === r && 2 === i && 0 === n)
              return new a(this, this.logger, e, !1, t, o);
            if (1 === r && 1 === i && 0 === n)
              return new a(this, this.logger, e, !0, t, o);
            throw new Error(
              "Unsupported combination of emphasis, lifecycle and block behaviors"
            );
          }),
          (e.prototype.reportNotification = function (e, t, n, i) {
            i || this.sendToExternal(n, e, t), this.sendToLogger(n, e, t);
          }),
          (e.prototype.sendToExternal = function (e, t, n) {
            if (
              void 0 !== this.externalNotifier &&
              null !== this.externalNotifier
            )
              switch (e) {
                case 1:
                  this.externalNotifier.error(t);
                  break;
                case 2:
                  this.externalNotifier.warn(t);
                  break;
                case 3:
                  this.externalNotifier.info(t);
                  break;
                case 4:
                  this.externalNotifier.success(t);
                  break;
                default:
                  this.logger.error(
                    "Default",
                    "Unknown external notification level. Raising as error"
                  ),
                    this.externalNotifier.error(t);
              }
          }),
          (e.prototype.sendToLogger = function (e, t, n) {
            switch (e) {
              case 1:
                this.logger.error(n, t);
                break;
              case 2:
                this.logger.warn(n, t);
                break;
              case 3:
              case 4:
                this.logger.info(n, t);
                break;
              default:
                this.logger.error(n, t);
            }
          }),
          e
        );
      })();
      t.NotificationFactory = n;
      var a = (function () {
          function e(e, t, n, i, r, o) {
            (this.notifier = e),
              (this.logger = t),
              (this.group = n),
              (this.isDismissible = i),
              (this.dialog = null),
              (this.level = r),
              (this.internalNotificationsOnly = o);
          }
          return (
            (e.prototype.add = function (e) {
              throw new Error("not implemented");
            }),
            (e.prototype.remove = function (e) {
              throw new Error("not implemented");
            }),
            (e.prototype.updateStatus = function (e, t) {
              t ? this.showDialog(e) : this.hideDialog();
            }),
            (e.prototype.showDialog = function (e) {
              var t = this;
              if (
                (this.notifier.reportNotification(
                  e,
                  this.group,
                  this.level,
                  this.internalNotificationsOnly
                ),
                null === this.dialog)
              ) {
                (this.dialog = document.createElement("dialog")),
                  (this.dialog.id = "errorDialog");
                var n = document.createElement("p");
                if (
                  ((n.innerHTML = e),
                  this.dialog.appendChild(n),
                  this.isDismissible)
                ) {
                  var i = document.createElement("button");
                  (i.innerHTML = "Close"),
                    i.addEventListener("click", function (e) {
                      e.preventDefault(), t.hideDialog();
                    }),
                    this.dialog.appendChild(i);
                }
                document.body.appendChild(this.dialog),
                  this.dialog instanceof HTMLUnknownElement &&
                    r.registerDialog(this.dialog);
                try {
                  this.dialog.showModal();
                } catch (e) {
                  this.logger.debug(this.group, e);
                }
              }
            }),
            (e.prototype.hideDialog = function () {
              null !== this.dialog &&
                (document.body.removeChild(this.dialog),
                this.dialog.close(),
                (this.dialog = null));
            }),
            e
          );
        })(),
        s = (function () {
          function e(e, t, n, i, r) {
            (this.notifier = e),
              (this.logger = t),
              (this.group = n),
              (this.level = i),
              (this.internalNotificationsOnly = r);
          }
          return (
            (e.prototype.add = function (e) {
              throw new Error("not implemented");
            }),
            (e.prototype.remove = function (e) {
              throw new Error("not implemented");
            }),
            (e.prototype.updateStatus = function (e, t) {
              if (
                (this.notifier.reportNotification(
                  e,
                  this.group,
                  t ? this.level : 4,
                  this.internalNotificationsOnly
                ),
                t)
              ) {
                if (null == this.backdrop)
                  (this.backdrop = document.createElement("div")),
                    (this.backdrop.className = "backdrop");
                else if (document.body.contains(this.backdrop))
                  return void this.logger.debug(
                    this.group,
                    "OverlayNotification.updateStatus: backdrop already applied. Ignoring"
                  );
                document.body.appendChild(this.backdrop), r.dm.blockDocument();
              } else {
                if (!document.body.contains(this.backdrop))
                  return void this.logger.debug(
                    this.group,
                    "OverlayNotification.updateStatus: backdrop not found. Ignoring"
                  );
                document.body.removeChild(this.backdrop),
                  r.dm.unblockDocument();
              }
            }),
            e
          );
        })();
    }
  );
var __extends =
    (this && this.__extends) ||
    (function () {
      var i =
        Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array &&
          function (e, t) {
            e.__proto__ = t;
          }) ||
        function (e, t) {
          for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
        };
      return function (e, t) {
        function n() {
          this.constructor = e;
        }
        i(e, t),
          (e.prototype =
            null === t
              ? Object.create(t)
              : ((n.prototype = t.prototype), new n()));
      };
    })(),
  define;
function JL(e) {
  if (!e) return JL.__;
  Array.prototype.reduce ||
    (Array.prototype.reduce = function (e, t) {
      for (var n = t, i = 0; i < this.length; i++) n = e(n, this[i], i, this);
      return n;
    });
  var o = "";
  return ("." + e).split(".").reduce(function (e, t, n, i) {
    o ? (o += "." + t) : (o = t);
    var r = e["__" + o];
    return (
      void 0 === r &&
        ((JL.Logger.prototype = e), (r = new JL.Logger(o)), (e["__" + o] = r)),
      r
    );
  }, JL.__);
}
!(function (s) {
  function t(e, t, n) {
    void 0 !== t[e] && (null !== t[e] ? (n[e] = t[e]) : delete n[e]);
  }
  function u(e) {
    if (null != s.enabled && !s.enabled) return !1;
    try {
      if (
        e.userAgentRegex &&
        !new RegExp(e.userAgentRegex).test(navigator.userAgent)
      )
        return !1;
    } catch (e) {}
    try {
      if (e.ipRegex && s.clientIP && !new RegExp(e.ipRegex).test(s.clientIP))
        return !1;
    } catch (e) {}
    return !0;
  }
  function l(e, t) {
    try {
      if (e.disallow && new RegExp(e.disallow).test(t)) return !1;
    } catch (e) {}
    return !0;
  }
  function c(e) {
    return "function" == typeof e
      ? e instanceof RegExp
        ? e.toString()
        : e()
      : e;
  }
  (s.requestId = ""),
    (s.entryId = 0),
    (s._createXMLHttpRequest = function () {
      return new XMLHttpRequest();
    }),
    (s._getTime = function () {
      return new Date().getTime();
    }),
    (s._console = console),
    (s._appenderNames = []);
  var i = function (e, t, n) {
    (this.msg = e), (this.meta = t), (this.finalString = n);
  };
  function d(e) {
    var t,
      n = c(e);
    switch (typeof n) {
      case "string":
        return new i(n, null, n);
      case "number":
      case "boolean":
        return (t = n.toString()), new i(t, null, t);
      case "undefined":
        return new i("undefined", null, "undefined");
      case "object":
        return n instanceof RegExp ||
          n instanceof String ||
          n instanceof Number ||
          n instanceof Boolean
          ? ((t = n.toString()), new i(t, null, t))
          : ((t =
              "function" == typeof s.serialize
                ? s.serialize.call(this, n)
                : JSON.stringify(n)),
            new i("", n, t));
      default:
        return new i("unknown", null, "unknown");
    }
  }
  function e() {
    return 1e3;
  }
  function n() {
    return 2e3;
  }
  function r() {
    return 3e3;
  }
  function o() {
    return 4e3;
  }
  function a() {
    return 5e3;
  }
  function h() {
    return 6e3;
  }
  (s.setOptions = function (e) {
    return (
      t("enabled", e, this),
      t("maxMessages", e, this),
      t("defaultAjaxUrl", e, this),
      t("clientIP", e, this),
      t("requestId", e, this),
      t("defaultBeforeSend", e, this),
      t("serialize", e, this),
      this
    );
  }),
    (s.getAllLevel = function () {
      return -2147483648;
    }),
    (s.getTraceLevel = e),
    (s.getDebugLevel = n),
    (s.getInfoLevel = r),
    (s.getWarnLevel = o),
    (s.getErrorLevel = a),
    (s.getFatalLevel = h),
    (s.getOffLevel = function () {
      return 2147483647;
    });
  var f = function (e, t) {
    (this.inner = t),
      (this.name = "JL.Exception"),
      (this.message = d(e).finalString);
  };
  (s.Exception = f).prototype = new Error();
  var p = function (e, t, n, i, r) {
    (this.l = e), (this.m = t), (this.n = n), (this.t = i), (this.u = r);
  };
  function g(e, t, n) {
    return s.entryId++, new p(e, t, n, s._getTime(), s.entryId);
  }
  function m(e) {
    e.id && (clearTimeout(e.id), (e.id = null));
  }
  function v(e, t, n) {
    var i = this;
    e.id ||
      (e.id = setTimeout(function () {
        n.call(i);
      }, t));
  }
  s.LogItem = p;
  var b = (function () {
      function e(e, t) {
        (this.appenderName = e),
          (this.sendLogItems = t),
          (this.level = s.getTraceLevel()),
          (this.sendWithBufferLevel = 2147483647),
          (this.storeInBufferLevel = -2147483648),
          (this.bufferSize = 0),
          (this.batchSize = 1),
          (this.maxBatchSize = 20),
          (this.batchTimeout = 2147483647),
          (this.sendTimeout = 5e3),
          (this.buffer = []),
          (this.batchBuffer = []),
          (this.batchTimeoutTimer = { id: null }),
          (this.sendTimeoutTimer = { id: null }),
          (this.nbrLogItemsSkipped = 0),
          (this.nbrLogItemsBeingSent = 0);
        var n =
          "Trying to create an appender without a name or with an empty name";
        if (null == e) throw n;
        if (-1 != s._appenderNames.indexOf(e)) {
          if (!e) throw n;
          throw "Multiple appenders use the same name " + e;
        }
        s._appenderNames.push(e);
      }
      return (
        (e.prototype.addLogItemsToBuffer = function (e) {
          if (this.batchBuffer.length >= this.maxBatchSize)
            this.nbrLogItemsSkipped += e.length;
          else {
            if (null != s.maxMessages) {
              if (s.maxMessages < 1) return;
              s.maxMessages -= e.length;
            }
            this.batchBuffer = this.batchBuffer.concat(e);
            var t = this;
            v(this.batchTimeoutTimer, this.batchTimeout, function () {
              t.sendBatch.call(t);
            });
          }
        }),
        (e.prototype.batchBufferHasOverdueMessages = function () {
          for (var e = 0; e < this.batchBuffer.length; e++) {
            if (s._getTime() - this.batchBuffer[e].t > this.batchTimeout)
              return !0;
          }
          return !1;
        }),
        (e.prototype.batchBufferHasStrandedMessage = function () {
          return (
            !(null == s.maxMessages) &&
            s.maxMessages < 1 &&
            0 < this.batchBuffer.length
          );
        }),
        (e.prototype.sendBatchIfComplete = function () {
          (this.batchBuffer.length >= this.batchSize ||
            this.batchBufferHasOverdueMessages() ||
            this.batchBufferHasStrandedMessage()) &&
            this.sendBatch();
        }),
        (e.prototype.onSendingEnded = function () {
          m(this.sendTimeoutTimer),
            (this.nbrLogItemsBeingSent = 0),
            this.sendBatchIfComplete();
        }),
        (e.prototype.setOptions = function (e) {
          if (
            (t("level", e, this),
            t("ipRegex", e, this),
            t("userAgentRegex", e, this),
            t("disallow", e, this),
            t("sendWithBufferLevel", e, this),
            t("storeInBufferLevel", e, this),
            t("bufferSize", e, this),
            t("batchSize", e, this),
            t("maxBatchSize", e, this),
            t("batchTimeout", e, this),
            t("sendTimeout", e, this),
            this.bufferSize < this.buffer.length &&
              (this.buffer.length = this.bufferSize),
            this.maxBatchSize < this.batchSize)
          )
            throw new s.Exception({
              message: "maxBatchSize cannot be smaller than batchSize",
              maxBatchSize: this.maxBatchSize,
              batchSize: this.batchSize,
            });
          return this;
        }),
        (e.prototype.log = function (e, t, n, i, r, o, a) {
          var s;
          u(this) &&
            l(this, o) &&
            (r < this.storeInBufferLevel ||
              ((s = g(r, o, a)),
              r < this.level
                ? 0 < this.bufferSize &&
                  (this.buffer.push(s),
                  this.buffer.length > this.bufferSize && this.buffer.shift())
                : (this.addLogItemsToBuffer([s]),
                  r >= this.sendWithBufferLevel &&
                    this.buffer.length &&
                    (this.addLogItemsToBuffer(this.buffer),
                    (this.buffer.length = 0)),
                  this.sendBatchIfComplete())));
        }),
        (e.prototype.sendBatch = function () {
          if (
            !(0 < this.nbrLogItemsBeingSent) &&
            (m(this.batchTimeoutTimer), 0 != this.batchBuffer.length)
          ) {
            this.nbrLogItemsBeingSent = this.batchBuffer.length;
            var e = this;
            v(this.sendTimeoutTimer, this.sendTimeout, function () {
              e.onSendingEnded.call(e);
            }),
              this.sendLogItems(this.batchBuffer, function () {
                e.batchBuffer.splice(0, e.nbrLogItemsBeingSent),
                  0 < e.nbrLogItemsSkipped &&
                    (e.batchBuffer.push(
                      g(
                        4e3,
                        "Lost " +
                          e.nbrLogItemsSkipped +
                          " messages. Either connection with the server was down or logging was disabled via the enabled option. Reduce lost messages by increasing the ajaxAppender option maxBatchSize.",
                        e.appenderName
                      )
                    ),
                    (e.nbrLogItemsSkipped = 0)),
                  e.onSendingEnded.call(e);
              });
          }
        }),
        e
      );
    })(),
    y = (function (n) {
      function i(e) {
        var t = n.call(this, e, i.prototype.sendLogItemsAjax) || this;
        return (t.xhr = s._createXMLHttpRequest()), t;
      }
      return (
        __extends(i, n),
        (i.prototype.setOptions = function (e) {
          return (
            t("url", e, this),
            t("beforeSend", e, this),
            n.prototype.setOptions.call(this, e),
            this
          );
        }),
        (i.prototype.sendLogItemsAjax = function (e, t) {
          try {
            if (!u(this)) return;
            var n = this.xhr.readyState;
            0 != n && 4 != n && this.xhr.abort();
            var i = "/jsnlog.logger";
            null != s.defaultAjaxUrl && (i = s.defaultAjaxUrl),
              this.url && (i = this.url),
              this.xhr.open("POST", i),
              this.xhr.setRequestHeader("Content-Type", "application/json"),
              this.xhr.setRequestHeader("JSNLog-RequestId", s.requestId);
            var r = this;
            this.xhr.onreadystatechange = function () {
              4 == r.xhr.readyState &&
                200 <= r.xhr.status &&
                r.xhr.status < 300 &&
                t();
            };
            var o = { r: s.requestId, lg: e };
            "function" == typeof this.beforeSend
              ? this.beforeSend.call(this, this.xhr, o)
              : "function" == typeof s.defaultBeforeSend &&
                s.defaultBeforeSend.call(this, this.xhr, o);
            var a = JSON.stringify(o);
            // this.xhr.send(a);
          } catch (e) {}
        }),
        i
      );
    })((s.Appender = b));
  s.AjaxAppender = y;
  var w = (function (t) {
    function n(e) {
      return t.call(this, e, n.prototype.sendLogItemsConsole) || this;
    }
    return (
      __extends(n, t),
      (n.prototype.clog = function (e) {
        s._console.log(e);
      }),
      (n.prototype.cerror = function (e) {
        s._console.error ? s._console.error(e) : this.clog(e);
      }),
      (n.prototype.cwarn = function (e) {
        s._console.warn ? s._console.warn(e) : this.clog(e);
      }),
      (n.prototype.cinfo = function (e) {
        s._console.info ? s._console.info(e) : this.clog(e);
      }),
      (n.prototype.cdebug = function (e) {
        s._console.debug ? s._console.debug(e) : this.cinfo(e);
      }),
      (n.prototype.sendLogItemsConsole = function (e, t) {
        try {
          if (!u(this)) return;
          if (!s._console) return;
          var n;
          for (n = 0; n < e.length; ++n) {
            var i = e[n],
              r = i.n + ": " + i.m;
            "undefined" == typeof window && (r = new Date(i.t) + " | " + r),
              i.l <= s.getDebugLevel()
                ? this.cdebug(r)
                : i.l <= s.getInfoLevel()
                ? this.cinfo(r)
                : i.l <= s.getWarnLevel()
                ? this.cwarn(r)
                : this.cerror(r);
          }
        } catch (e) {}
        t();
      }),
      n
    );
  })(b);
  s.ConsoleAppender = w;
  var _,
    x = (function () {
      function e(e) {
        (this.loggerName = e), (this.seenRegexes = []);
      }
      return (
        (e.prototype.setOptions = function (e) {
          return (
            t("level", e, this),
            t("userAgentRegex", e, this),
            t("disallow", e, this),
            t("ipRegex", e, this),
            t("appenders", e, this),
            t("onceOnly", e, this),
            (this.seenRegexes = []),
            this
          );
        }),
        (e.prototype.buildExceptionObject = function (e) {
          var t = {};
          return (
            e.stack ? (t.stack = e.stack) : (t.e = e),
            e.message && (t.message = e.message),
            e.name && (t.name = e.name),
            e.data && (t.data = e.data),
            e.inner && (t.inner = this.buildExceptionObject(e.inner)),
            t
          );
        }),
        (e.prototype.log = function (e, t, n) {
          var i,
            r,
            o,
            a = 0;
          if (!this.appenders) return this;
          if (
            e >= this.level &&
            u(this) &&
            (n ? ((r = this.buildExceptionObject(n)).logData = c(t)) : (r = t),
            l(this, (i = d(r)).finalString))
          ) {
            if (this.onceOnly)
              for (a = this.onceOnly.length - 1; 0 <= a; ) {
                if (new RegExp(this.onceOnly[a]).test(i.finalString)) {
                  if (this.seenRegexes[a]) return this;
                  this.seenRegexes[a] = !0;
                }
                a--;
              }
            for (i.meta = i.meta || {}, a = this.appenders.length - 1; 0 <= a; )
              this.appenders[a].log(
                (o = e) <= 1e3
                  ? "trace"
                  : o <= 2e3
                  ? "debug"
                  : o <= 3e3
                  ? "info"
                  : o <= 4e3
                  ? "warn"
                  : o <= 5e3
                  ? "error"
                  : "fatal",
                i.msg,
                i.meta,
                function () {},
                e,
                i.finalString,
                this.loggerName
              ),
                a--;
          }
          return this;
        }),
        (e.prototype.trace = function (e) {
          return this.log(1e3, e);
        }),
        (e.prototype.debug = function (e) {
          return this.log(2e3, e);
        }),
        (e.prototype.info = function (e) {
          return this.log(3e3, e);
        }),
        (e.prototype.warn = function (e) {
          return this.log(4e3, e);
        }),
        (e.prototype.error = function (e) {
          return this.log(5e3, e);
        }),
        (e.prototype.fatal = function (e) {
          return this.log(6e3, e);
        }),
        (e.prototype.fatalException = function (e, t) {
          return this.log(6e3, e, t);
        }),
        e
      );
    })();
  (s.Logger = x),
    (s.createAjaxAppender = function (e) {
      return new y(e);
    }),
    (s.createConsoleAppender = function (e) {
      return new w(e);
    }),
    (_ = "undefined" != typeof window ? new y("") : new w("")),
    (s.__ = new s.Logger("")),
    s.__.setOptions({ level: s.getDebugLevel(), appenders: [_] });
})(JL || (JL = {})),
  "undefined" != typeof exports &&
    ((exports.__esModule = !0), (exports.JL = JL)),
  "function" == typeof define &&
    define.amd &&
    define("jsnlog", [], function () {
      return JL;
    }),
  "function" == typeof __jsnlog_configure && __jsnlog_configure(JL),
  "undefined" == typeof window ||
    window.onerror ||
    (window.onerror = function (e, t, n, i, r) {
      return (
        JL("onerrorLogger").fatalException(
          {
            msg: "Uncaught Exception",
            errorMsg: e ? e.message || e : "",
            url: t,
            "line number": n,
            column: i,
          },
          r
        ),
        !1
      );
    }),
  "undefined" == typeof window ||
    window.onunhandledrejection ||
    (window.onunhandledrejection = function (e) {
      JL("onerrorLogger").fatalException(
        {
          msg: "unhandledrejection",
          errorMsg: e.reason ? e.reason.message : e.message || null,
        },
        e.reason
      );
    }),
  define(
    "HMIWeb/Source/Core/Logging/LoggerFactory",
    ["require", "exports", "jsnlog"],
    function (e, t) {
      "use strict";
      var i, n;
      Object.defineProperty(t, "__esModule", { value: !0 }),
        ((n = i || (i = {}))[(n.Error = 5e3)] = "Error"),
        (n[(n.Warn = 4e3)] = "Warn"),
        (n[(n.Info = 3e3)] = "Info"),
        (n[(n.Debug = 2e3)] = "Debug");
      var r = (function () {
        function e() {}
        return (
          (e.prototype.createDedicatedLogger = function (e) {
            return new o(e);
          }),
          e
        );
      })();
      t.LoggerFactory = r;
      var o = (function () {
        function e(e) {
          this.traceId = e;
        }
        return (
          (e.prototype.debug = function (e, t) {
            JL(e.toString()).debug(this.attachTraceId(t));
          }),
          (e.prototype.warn = function (e, t) {
            JL(e.toString()).warn(this.attachTraceId(t));
          }),
          (e.prototype.info = function (e, t) {
            JL(e.toString()).info(this.attachTraceId(t));
          }),
          (e.prototype.error = function (e, t) {
            JL(e.toString()).error(this.attachTraceId(t));
          }),
          (e.prototype.exception = function (e, t, n) {
            JL(e.toString()).log(i.Error, this.attachTraceId(t), n);
          }),
          (e.prototype.attachTraceId = function (e) {
            return this.traceId + "\t" + e;
          }),
          e
        );
      })();
    }
  ),
  define(
    "HMIWeb/Source/Core/UniqueIdGenerator",
    ["require", "exports"],
    function (e, t) {
      "use strict";
      var n;
      return (
        (function (e) {
          var o = "BCDFGHJKLMNPQRSTVWXYZbcdfghjkmnpqrstvwxyz23456789";
          function t(e, t) {
            var n = new Uint8Array(e);
            (window.crypto || window.msCrypto).getRandomValues(n);
            for (var i = new Array(e), r = 0; r < n.length; r++)
              i[r] =
                !t || !r || (r + 1) % t
                  ? o.charCodeAt(n[r] % o.length)
                  : "-".charCodeAt(0);
            return String.fromCharCode.apply(this, i);
          }
          (e.generateId = t), (e.frameId = t(24, 5)), (e.csrfToken = t(100, 0));
        })(n || (n = {})),
        n
      );
    }
  ),
  /*!
   * @overview es6-promise - a tiny implementation of Promises/A+.
   * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
   * @license   Licensed under MIT license
   *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
   * @version   v4.2.6+9869a4bc
   */
  (function (e, t) {
    "object" == typeof exports && "undefined" != typeof module
      ? (module.exports = t())
      : "function" == typeof define && define.amd
      ? define("promise", t)
      : (e.ES6Promise = t());
  })(this, function () {
    "use strict";
    function l(e) {
      return "function" == typeof e;
    }
    var n = Array.isArray
        ? Array.isArray
        : function (e) {
            return "[object Array]" === Object.prototype.toString.call(e);
          },
      i = 0,
      t = void 0,
      r = void 0,
      s = function (e, t) {
        (h[i] = e), (h[i + 1] = t), 2 === (i += 2) && (r ? r(f) : b());
      };
    var e = "undefined" != typeof window ? window : void 0,
      o = e || {},
      a = o.MutationObserver || o.WebKitMutationObserver,
      u =
        "undefined" == typeof self &&
        "undefined" != typeof process &&
        "[object process]" === {}.toString.call(process),
      c =
        "undefined" != typeof Uint8ClampedArray &&
        "undefined" != typeof importScripts &&
        "undefined" != typeof MessageChannel;
    function d() {
      var e = setTimeout;
      return function () {
        return e(f, 1);
      };
    }
    var h = new Array(1e3);
    function f() {
      for (var e = 0; e < i; e += 2) {
        (0, h[e])(h[e + 1]), (h[e] = void 0), (h[e + 1] = void 0);
      }
      i = 0;
    }
    var p,
      g,
      m,
      v,
      b = void 0;
    function y(e, t) {
      var n = this,
        i = new this.constructor(x);
      void 0 === i[_] && R(i);
      var r = n._state;
      if (r) {
        var o = arguments[r - 1];
        s(function () {
          return N(r, i, o, n._result);
        });
      } else k(n, i, e, t);
      return i;
    }
    function w(e) {
      if (e && "object" == typeof e && e.constructor === this) return e;
      var t = new this(x);
      return M(t, e), t;
    }
    u
      ? (b = function () {
          return process.nextTick(f);
        })
      : a
      ? ((g = 0),
        (m = new a(f)),
        (v = document.createTextNode("")),
        m.observe(v, { characterData: !0 }),
        (b = function () {
          v.data = g = ++g % 2;
        }))
      : c
      ? (((p = new MessageChannel()).port1.onmessage = f),
        (b = function () {
          return p.port2.postMessage(0);
        }))
      : (b =
          void 0 === e && "function" == typeof require
            ? (function () {
                try {
                  var e = Function("return this")().require("vertx");
                  return void 0 !== (t = e.runOnLoop || e.runOnContext)
                    ? function () {
                        t(f);
                      }
                    : d();
                } catch (e) {
                  return d();
                }
              })()
            : d());
    var _ = Math.random().toString(36).substring(2);
    function x() {}
    var T = void 0,
      C = 1,
      S = 2,
      E = { error: null };
    function D(e) {
      try {
        return e.then;
      } catch (e) {
        return (E.error = e), E;
      }
    }
    function O(e, t, n) {
      var i, r, o, a;
      t.constructor === e.constructor && n === y && t.constructor.resolve === w
        ? ((o = e),
          (a = t)._state === C
            ? P(o, a._result)
            : a._state === S
            ? I(o, a._result)
            : k(
                a,
                void 0,
                function (e) {
                  return M(o, e);
                },
                function (e) {
                  return I(o, e);
                }
              ))
        : n === E
        ? (I(e, E.error), (E.error = null))
        : void 0 === n
        ? P(e, t)
        : l(n)
        ? ((i = t),
          (r = n),
          s(function (t) {
            var n = !1,
              e = (function (e, t, n, i) {
                try {
                  e.call(t, n, i);
                } catch (e) {
                  return e;
                }
              })(
                r,
                i,
                function (e) {
                  n || ((n = !0), i !== e ? M(t, e) : P(t, e));
                },
                function (e) {
                  n || ((n = !0), I(t, e));
                },
                t._label
              );
            !n && e && ((n = !0), I(t, e));
          }, e))
        : P(e, t);
    }
    function M(e, t) {
      var n, i;
      e === t
        ? I(e, new TypeError("You cannot resolve a promise with itself"))
        : ((i = typeof (n = t)),
          null === n || ("object" !== i && "function" !== i)
            ? P(e, t)
            : O(e, t, D(t)));
    }
    function j(e) {
      e._onerror && e._onerror(e._result), A(e);
    }
    function P(e, t) {
      e._state === T &&
        ((e._result = t),
        (e._state = C),
        0 !== e._subscribers.length && s(A, e));
    }
    function I(e, t) {
      e._state === T && ((e._state = S), (e._result = t), s(j, e));
    }
    function k(e, t, n, i) {
      var r = e._subscribers,
        o = r.length;
      (e._onerror = null),
        (r[o] = t),
        (r[o + C] = n),
        (r[o + S] = i),
        0 === o && e._state && s(A, e);
    }
    function A(e) {
      var t = e._subscribers,
        n = e._state;
      if (0 !== t.length) {
        for (
          var i = void 0, r = void 0, o = e._result, a = 0;
          a < t.length;
          a += 3
        )
          (i = t[a]), (r = t[a + n]), i ? N(n, i, r, o) : r(o);
        e._subscribers.length = 0;
      }
    }
    function N(e, t, n, i) {
      var r = l(n),
        o = void 0,
        a = void 0,
        s = void 0,
        u = void 0;
      if (r) {
        if (
          ((o = (function (e, t) {
            try {
              return e(t);
            } catch (e) {
              return (E.error = e), E;
            }
          })(n, i)) === E
            ? ((u = !0), (a = o.error), (o.error = null))
            : (s = !0),
          t === o)
        )
          return void I(
            t,
            new TypeError(
              "A promises callback cannot return that same promise."
            )
          );
      } else (o = i), (s = !0);
      t._state !== T ||
        (r && s
          ? M(t, o)
          : u
          ? I(t, a)
          : e === C
          ? P(t, o)
          : e === S && I(t, o));
    }
    var L = 0;
    function R(e) {
      (e[_] = L++),
        (e._state = void 0),
        (e._result = void 0),
        (e._subscribers = []);
    }
    var H = (function () {
      function e(e, t) {
        (this._instanceConstructor = e),
          (this.promise = new e(x)),
          this.promise[_] || R(this.promise),
          n(t)
            ? ((this.length = t.length),
              (this._remaining = t.length),
              (this._result = new Array(this.length)),
              0 === this.length
                ? P(this.promise, this._result)
                : ((this.length = this.length || 0),
                  this._enumerate(t),
                  0 === this._remaining && P(this.promise, this._result)))
            : I(
                this.promise,
                new Error("Array Methods must be provided an Array")
              );
      }
      return (
        (e.prototype._enumerate = function (e) {
          for (var t = 0; this._state === T && t < e.length; t++)
            this._eachEntry(e[t], t);
        }),
        (e.prototype._eachEntry = function (t, e) {
          var n = this._instanceConstructor,
            i = n.resolve;
          if (i === w) {
            var r = D(t);
            if (r === y && t._state !== T)
              this._settledAt(t._state, e, t._result);
            else if ("function" != typeof r)
              this._remaining--, (this._result[e] = t);
            else if (n === F) {
              var o = new n(x);
              O(o, t, r), this._willSettleAt(o, e);
            } else
              this._willSettleAt(
                new n(function (e) {
                  return e(t);
                }),
                e
              );
          } else this._willSettleAt(i(t), e);
        }),
        (e.prototype._settledAt = function (e, t, n) {
          var i = this.promise;
          i._state === T &&
            (this._remaining--, e === S ? I(i, n) : (this._result[t] = n)),
            0 === this._remaining && P(i, this._result);
        }),
        (e.prototype._willSettleAt = function (e, t) {
          var n = this;
          k(
            e,
            void 0,
            function (e) {
              return n._settledAt(C, t, e);
            },
            function (e) {
              return n._settledAt(S, t, e);
            }
          );
        }),
        e
      );
    })();
    var F = (function () {
      function t(e) {
        (this[_] = L++),
          (this._result = this._state = void 0),
          (this._subscribers = []),
          x !== e &&
            ("function" != typeof e &&
              (function () {
                throw new TypeError(
                  "You must pass a resolver function as the first argument to the promise constructor"
                );
              })(),
            this instanceof t
              ? (function (t, e) {
                  try {
                    e(
                      function (e) {
                        M(t, e);
                      },
                      function (e) {
                        I(t, e);
                      }
                    );
                  } catch (e) {
                    I(t, e);
                  }
                })(this, e)
              : (function () {
                  throw new TypeError(
                    "Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function."
                  );
                })());
      }
      return (
        (t.prototype.catch = function (e) {
          return this.then(null, e);
        }),
        (t.prototype.finally = function (t) {
          var n = this.constructor;
          return l(t)
            ? this.then(
                function (e) {
                  return n.resolve(t()).then(function () {
                    return e;
                  });
                },
                function (e) {
                  return n.resolve(t()).then(function () {
                    throw e;
                  });
                }
              )
            : this.then(t, t);
        }),
        t
      );
    })();
    return (
      (F.prototype.then = y),
      (F.all = function (e) {
        return new H(this, e).promise;
      }),
      (F.race = function (r) {
        var o = this;
        return n(r)
          ? new o(function (e, t) {
              for (var n = r.length, i = 0; i < n; i++)
                o.resolve(r[i]).then(e, t);
            })
          : new o(function (e, t) {
              return t(new TypeError("You must pass an array to race."));
            });
      }),
      (F.resolve = w),
      (F.reject = function (e) {
        var t = new this(x);
        return I(t, e), t;
      }),
      (F._setScheduler = function (e) {
        r = e;
      }),
      (F._setAsap = function (e) {
        s = e;
      }),
      (F._asap = s),
      (F.polyfill = function () {
        var e = void 0;
        if ("undefined" != typeof global) e = global;
        else if ("undefined" != typeof self) e = self;
        else
          try {
            e = Function("return this")();
          } catch (e) {
            throw new Error(
              "polyfill failed because global object is unavailable in this environment"
            );
          }
        var t = e.Promise;
        if (t) {
          var n = null;
          try {
            n = Object.prototype.toString.call(t.resolve());
          } catch (e) {}
          if ("[object Promise]" === n && !t.cast) return;
        }
        e.Promise = F;
      }),
      (F.Promise = F)
    );
  }),
  define(
    "HMIWeb/Source/Core/Logging/LoggerConfiguration",
    [
      "require",
      "exports",
      "./LoggerFactory",
      "./../UniqueIdGenerator",
      "promise",
    ],
    function (e, t, n, o) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var i = (function () {
        function e() {
          var e = this;
          (this._paranoidRequestUrl = "http://localhost:6001/paranoid"),
            (this._logBufferTimerId = null),
            (this.factory = new n.LoggerFactory()),
            (this.logger = this.factory.createDedicatedLogger(o.frameId)),
            (this._serverAppender = JL.createAjaxAppender("Default")),
            (this._consoleAppender =
              JL.createConsoleAppender("consoleAppender")),
            (this._logLevels = {}),
            this._serverAppender.setOptions({
              batchSize: 1e9,
              maxBatchSize: 1e9,
            }),
            JL().setOptions({
              appenders: [this._consoleAppender, this._serverAppender],
            }),
            addEventListener("beforeunload", function () {
              e.stopLogBufferFlushTimer(), e._serverAppender.sendBatch();
            }),
            this.startLogBufferFlushTimer();
        }
        return (
          (e.setDefaultOptions = function () {
            JL.setOptions({
              defaultAjaxUrl:
                "/MES/HMIWeb/UI/HMIWebServer1.0/api/logging/jsnlog",
              defaultBeforeSend: function (e) {
                e.setRequestHeader("X-XSRF-TOKEN", o.csrfToken);
              },
            });
          }),
          (e.prototype.setParanoids = function () {
            var r = this;
            this.sendAjaxRequest([
              "Default",
              "Binding",
              "Data",
              "Trend",
              "Table",
              "Performance",
              "Communication",
              "WorkspacePlugin",
              "Trace.IlmToVis",
              "Trace.VisToIlm",
              "Visualization",
            ]).then(
              function (e) {
                var t = e.ls;
                for (var n in t) {
                  var i = t[n];
                  JL(i.p.toString()).setOptions({ level: i.l }),
                    (r._logLevels[i.p] = i.l);
                }
              },
              function (e) {
                var t;
                (t = void 0 !== e.description ? e.description : e),
                  r.logger.error(
                    "Default",
                    "Error requesting server paranoids for logger: " + t
                  );
              }
            );
          }),
          (e.prototype.sendAjaxRequest = function (e) {
            var i = this,
              r = JSON.stringify({ p: e });
            return new Promise(function (e, t) {
              var n = new XMLHttpRequest();
              n.open("POST", i._paranoidRequestUrl),
                n.setRequestHeader("Content-Type", "application/json"),
                n.setRequestHeader("X-XSRF-TOKEN", o.csrfToken),
                (n.onload = function () {
                  200 === n.status
                    ? e(JSON.parse(n.response))
                    : t(new Error(n.statusText));
                }),
                (n.onerror = function () {
                  t(new Error("Network Error"));
                }),
                n.send(r);
            });
          }),
          (e.prototype.startLogBufferFlushTimer = function () {
            this._logBufferTimerId = window.setInterval(
              function (e) {
                e._serverAppender.sendBatch();
              },
              3e4,
              this
            );
          }),
          (e.prototype.stopLogBufferFlushTimer = function () {
            null != this._logBufferTimerId &&
              window.clearInterval(this._logBufferTimerId);
          }),
          e
        );
      })();
      t.LoggerConfiguration = i;
    }
  ),
  define(
    "HMIWeb/Source/Communications/CommunicationConstants",
    ["require", "exports"],
    function (e, t) {
      "use strict";
      var n, i;
      return (
        ((i = n || (n = {})).MAX_SEQUENCE_NUMBER = 65535),
        (i.HEARTBEAT_INTERVAL_MS = 3e4),
        n
      );
    }
  ),
  define(
    "HMIWeb/Source/Communications/ServerToClientSequenceManager",
    ["require", "exports", "./CommunicationConstants"],
    function (e, t, n) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var i = (function () {
        function e(e, t, n) {
          void 0 === t && (t = 0),
            void 0 === n && (n = 1e4),
            (this.unsentMessages = {}),
            (this.timeToWaitForMissingSequenceNo = n),
            (this.logger = e),
            this.restartSequenceNumbers(t);
        }
        return (
          (e.prototype.checkSequenceNumber = function (e, t, n) {
            var i = this;
            if (null != e)
              e === this.expectedSequenceNumber ||
                (this.logger.info(
                  "Communication",
                  "Unexpected sequence number. Received: " +
                    e +
                    ", expecting: " +
                    this.expectedSequenceNumber
                ),
                setTimeout(function () {
                  return i.checkMessageHasBeenHandled(e, t);
                }, this.timeToWaitForMissingSequenceNo)),
                this.enqueueMessage(e, t, n),
                this.processQueuedMessages();
            else
              try {
                t();
              } catch (e) {
                this.logger.exception(
                  "Communication",
                  "Exception while processing message",
                  e
                );
              }
          }),
          (e.prototype.restartSequenceNumbers = function (e) {
            if ("number" != typeof e)
              throw new Error("expected seed to be a number");
            this.expectedSequenceNumber = e;
          }),
          (e.prototype.purgePendingMessages = function () {
            this.unsentMessages = {};
          }),
          (e.prototype.enqueueMessage = function (e, t, n) {
            null != this.unsentMessages[e] &&
              (this.logger.error(
                "Communication",
                "Duplicate message with sequence number " +
                  e +
                  ", discarding old message"
              ),
              this.discardMessage(e)),
              (this.unsentMessages[e] = { success: t, failure: n });
          }),
          (e.prototype.processQueuedMessages = function () {
            for (
              ;
              void 0 !== this.unsentMessages[this.expectedSequenceNumber];

            ) {
              try {
                this.unsentMessages[this.expectedSequenceNumber].success();
              } catch (e) {
                this.logger.exception(
                  "Communication",
                  "Exception while processing message",
                  e
                );
              }
              delete this.unsentMessages[this.expectedSequenceNumber],
                this.moveExpectedSequenceNumber();
            }
          }),
          (e.prototype.checkMessageHasBeenHandled = function (e, t) {
            void 0 !== this.unsentMessages[e] &&
              this.unsentMessages[e].success === t &&
              (this.logger.error(
                "Communication",
                "Timed out (" +
                  this.timeToWaitForMissingSequenceNo +
                  "ms) waiting to receive a message with sequence number " +
                  this.expectedSequenceNumber +
                  ", discarding received message with sequence number " +
                  e
              ),
              this.discardMessage(e));
          }),
          (e.prototype.discardMessage = function (e) {
            var t = this.unsentMessages[e].failure;
            delete this.unsentMessages[e];
            try {
              t(new Error("response is discarded"));
            } catch (e) {
              this.logger.exception(
                "Communication",
                "Exception while processing message",
                e
              );
            }
          }),
          (e.prototype.moveExpectedSequenceNumber = function () {
            this.expectedSequenceNumber++,
              this.expectedSequenceNumber > n.MAX_SEQUENCE_NUMBER &&
                (this.expectedSequenceNumber = 1);
          }),
          e
        );
      })();
      t.ServerToClientSequenceManager = i;
    }
  ),
  define(
    "HMIWeb/Source/Communications/SignalR/SignalRNotifier",
    ["require", "exports", "signals", "../CommunicationConstants"],
    function (e, n, r, t) {
      "use strict";
      Object.defineProperty(n, "__esModule", { value: !0 }),
        (n.ImmediateHeatbeatDelay = 1e3);
      var i = (function () {
        function e(e, t, n) {
          var i = this;
          (this.dataAvailableToRequest = new r.Signal()),
            (this.notificationsAvailabilityChange = new r.Signal()),
            (this.areNotificationsAvailable = !1),
            (this.connectionHub = null),
            (this.heartbeatIntervalMs = 0),
            (this.connection = e),
            (this.windowId = t),
            (this.logger = n),
            (this.hasActiveRequest = !1),
            (this.timerId = null),
            (this.lastHeartbeatStartTime = null),
            (this.isImmediateHeatbeatQueued = !1),
            (this.isPageVisible = !1),
            (this.onAvailableDataToRequestCallback = function () {
              i.dataAvailableToRequest.dispatch();
            }),
            (this.connectedListener = function () {
              return i.sendImmediateHeartbeat();
            }),
            (this.disconnectedListener = function () {
              return i.setNotificationsAvailable(!1);
            }),
            this.connection.connected.add(this.connectedListener),
            this.connection.disconnected.add(this.disconnectedListener);
        }
        return (
          (e.prototype.setVisibility = function (e) {
            (this.isPageVisible = e), this.prepareForNextHeartbeat();
          }),
          (e.prototype.startListening = function () {
            (this.heartbeatIntervalMs = t.HEARTBEAT_INTERVAL_MS),
              this.prepareForNextHeartbeat();
          }),
          (e.prototype.stopListening = function () {
            (this.heartbeatIntervalMs = 0), this.prepareForNextHeartbeat();
          }),
          (e.prototype.dispose = function () {
            this.connection.connected.remove(this.connectedListener),
              this.connection.disconnected.remove(this.disconnectedListener),
              null !== this.timerId && window.clearTimeout(this.timerId),
              null != this.connectionHub &&
                null != this.connectionHub.off &&
                this.connectionHub.off(
                  this.windowId + "-dataAvailableToRequest",
                  this.onAvailableDataToRequestCallback
                );
          }),
          (e.prototype.sendImmediateHeartbeat = function () {
            (this.isImmediateHeatbeatQueued = !0),
              this.prepareForNextHeartbeat();
          }),
          (e.prototype.prepareForNextHeartbeat = function () {
            var e = this;
            if (!this.hasActiveRequest)
              if (
                (null !== this.timerId &&
                  (window.clearTimeout(this.timerId), (this.timerId = null)),
                this.isPageVisible)
              )
                if (0 !== this.heartbeatIntervalMs) {
                  var t = 0;
                  null !== this.lastHeartbeatStartTime &&
                    (t = Math.max(
                      0,
                      this.heartbeatIntervalMs -
                        (Date.now() - this.lastHeartbeatStartTime)
                    )),
                    this.isImmediateHeatbeatQueued &&
                      ((this.isImmediateHeatbeatQueued = !1),
                      (t = n.ImmediateHeatbeatDelay)),
                    (this.timerId = window.setTimeout(function () {
                      (e.timerId = null), e.executeScheduledHeartbeat();
                    }, t));
                } else this.setNotificationsAvailable(!1);
              else this.setNotificationsAvailable(!1);
          }),
          (e.prototype.executeScheduledHeartbeat = function () {
            var t = this,
              e = setTimeout(function () {
                t.logger.warn(
                  "Communication",
                  "Timeout while sending heartbeat. Marking notifications unavailable"
                ),
                  t.setNotificationsAvailable(!1),
                  (t.hasActiveRequest = !1),
                  t.sendImmediateHeartbeat();
              }, this.heartbeatIntervalMs / 2);
            (this.lastHeartbeatStartTime = Date.now()),
              (this.hasActiveRequest = !0),
              this.sendHeartbeat()
                .then(
                  function () {
                    t.setNotificationsAvailable(!0);
                  },
                  function (e) {
                    t.logger.error(
                      "Communication",
                      "Error sending heartbeat (" + e + ")"
                    ),
                      t.setNotificationsAvailable(!1);
                  }
                )
                .then(function () {
                  clearTimeout(e),
                    (t.hasActiveRequest = !1),
                    t.prepareForNextHeartbeat();
                });
          }),
          (e.prototype.sendHeartbeat = function () {
            var i = this;
            return this.connection.getConnectedSignalr().then(function (e) {
              if (null == i.connectionHub) {
                i.connectionHub = e.createHubProxy("connectionHub");
                var t = i.connectionHub;
                t.hasOwnProperty("on") &&
                  !t.hasOwnProperty("alwaysCalledWithExactly") &&
                  delete i.connectionHub.on,
                  t.hasOwnProperty("off") && delete i.connectionHub.off,
                  i.connectionHub.on(
                    i.windowId + "-dataAvailableToRequest",
                    i.onAvailableDataToRequestCallback
                  );
              }
              return new Promise(function (t, n) {
                i.logger.debug(
                  "Communication",
                  "Invoking connectionHub.keepAlive()"
                ),
                  i.connectionHub
                    .invoke("keepAlive", i.windowId)
                    .done(function (e) {
                      i.logger.debug(
                        "Communication",
                        "Invoked connectionHub.keepAlive() - Result is '" +
                          e +
                          "'"
                      ),
                        e
                          ? t(void 0)
                          : n(
                              new Error("The window was unknown on the server")
                            );
                    })
                    .fail(function (e) {
                      i.logger.warn(
                        "Communication",
                        "Invoked connectionHub.keepAlive() - Error is '" +
                          e +
                          "' - Retrying"
                      ),
                        i.connectionHub
                          .invoke("keepAlive", i.windowId)
                          .done(function (e) {
                            i.logger.warn(
                              "Communication",
                              "Invoked connectionHub.keepAlive() - Result is '" +
                                e +
                                "' - Retry was successful"
                            ),
                              e
                                ? t(void 0)
                                : n(
                                    new Error(
                                      "The window was unknown on the server"
                                    )
                                  );
                          })
                          .fail(function (e) {
                            i.logger.error(
                              "Communication",
                              "Invoked connectionHub.keepAlive() - Error is '" +
                                e +
                                "' - Retry failed"
                            ),
                              n(
                                new Error(
                                  "Error invoking connectionHub.keepAlive()"
                                )
                              );
                          });
                    });
              });
            });
          }),
          (e.prototype.setNotificationsAvailable = function (e) {
            if (e !== this.areNotificationsAvailable) {
              this.areNotificationsAvailable = e;
              try {
                this.notificationsAvailabilityChange.dispatch(
                  this.areNotificationsAvailable
                );
              } catch (e) {
                this.logger.error(
                  "Communication",
                  "Error dispatching notification availablity change. Error is " +
                    e
                );
              }
            }
          }),
          e
        );
      })();
      n.SignalRNotifier = i;
    }
  ),
  define(
    "HMIWeb/Source/Communications/ClientToServerSequenceManager",
    ["require", "exports", "./CommunicationConstants"],
    function (e, t, n) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var i = (function () {
        function e() {
          this.sequenceNumber = 0;
        }
        return (
          (e.prototype.getNextSequenceNumber = function () {
            return (
              this.sequenceNumber++,
              this.sequenceNumber > n.MAX_SEQUENCE_NUMBER &&
                (this.sequenceNumber = 0),
              this.sequenceNumber
            );
          }),
          e
        );
      })();
      t.ClientToServerSequenceManager = i;
    }
  ),
  define(
    "HMIWeb/Source/Communications/WebAPI/WebApiInvoker",
    ["require", "exports", "./../../Core/UniqueIdGenerator"],
    function (e, t, o) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var a = (function () {
        function e(e, t, n) {
          (this.statusCode = e), (this.statusText = t), (this.message = n);
        }
        return (
          (e.prototype.toString = function () {
            return (
              "InvokerError - " +
              this.message +
              ", " +
              this.statusText +
              ", " +
              this.statusCode
            );
          }),
          e
        );
      })();
      t.InvokerError = a;
      var n = (function () {
        function e(e, t, n, i, r, o) {
          (this.communicationEvents = o),
            (this.localisationCache = r),
            (this.windowId = i),
            (this.logger = n),
            (this.clientToServerSequenceManager = e),
            (this.serverToClientSequenceManager = t),
            (this.isKillSwitchEnabled = !1),
            (this.currentKeyFrameMessage = null),
            (this.allCallsChained = Promise.resolve());
        }
        return (
          (e.prototype.enableKillSwitch = function () {
            this.isKillSwitchEnabled ||
              ((this.isKillSwitchEnabled = !0),
              this.logger.warn(
                "Communication",
                "Kill switch engaged in WebApiInvoker. All subsequent comms will be suppressed"
              ));
          }),
          (e.prototype.invokeServer = function (e, t, n, i) {
            return this.invokeServerImpl(e, t, n, i, !0, !1);
          }),
          (e.prototype.invokeServerUnsequenced = function (e, t, n, i) {
            return this.invokeServerImpl(e, t, n, i, !1, !1);
          }),
          (e.prototype.invokeServerKeyFrameMessage = function (e, t, n, i) {
            var r = this.invokeServerImpl(e, t, n, i, !0, !0);
            return (this.currentKeyFrameMessage = r);
          }),
          (e.prototype.invokeServerImpl = function (t, n, i, e, r, o) {
            var a = this;
            if (this.isKillSwitchEnabled)
              return this.localisationCache
                .getLocalisedStrings()
                .then(function (e) {
                  throw (
                    (a.logger.warn(
                      "Communication",
                      "Suppressing " +
                        n +
                        "/" +
                        i +
                        "." +
                        t +
                        " [" +
                        a.windowId +
                        "] since killswitch is engaged"
                    ),
                    a.communicationEvents.errorReceived.dispatch(
                      e.getStringOrEmpty("Communication_Error_Need_Refresh")
                    ),
                    new Error("Killswitch enabled"))
                  );
                });
            var s = { w: this.windowId, m: void 0 !== e ? e : null },
              u = void 0;
            r &&
              ((u = this.clientToServerSequenceManager.getNextSequenceNumber()),
              (s.s = u)),
              this.logger.info(
                "Communication",
                "Invoking " +
                  n +
                  "/" +
                  i +
                  "[seq:" +
                  u +
                  "]." +
                  t +
                  " [" +
                  this.windowId +
                  "]"
              );

            var l = "http://localhost:6001/" + i,
              c = (
                o
                  ? this.allCallsChained
                  : this.currentKeyFrameMessage ||
                    Promise.reject("There is no initial key frame")
              )
                .then(function () {
                  return a.sendAjaxRequest(l, s).then(
                    function (e) {
                      return (
                        a.logger.debug(
                          "Communication",
                          "Invoked " + n + "/" + i + "[seq:" + u + "]." + t
                        ),
                        e
                      );
                    },
                    function (e) {
                      if (409 === e.statusCode)
                        throw (
                          (a.logger.warn(
                            "Communication",
                            "Invoked " +
                              n +
                              "/" +
                              i +
                              "[seq:" +
                              u +
                              "]." +
                              t +
                              " - Error is '" +
                              e +
                              "' - Aborting"
                          ),
                          e)
                        );
                      if ("window" === n && "recoverWindow" === i)
                        throw (
                          (a.logger.warn(
                            "Communication",
                            "Invoked " +
                              n +
                              "/" +
                              i +
                              "[seq:" +
                              u +
                              "]." +
                              t +
                              " - Error is '" +
                              e +
                              "' - Aborting"
                          ),
                          e)
                        );
                      return (
                        a.logger.warn(
                          "Communication",
                          "Invoked " +
                            n +
                            "/" +
                            i +
                            "[seq:" +
                            u +
                            "]." +
                            t +
                            " - Error is '" +
                            e +
                            "' - Retrying"
                        ),
                        a.sendAjaxRequest(l, s).then(
                          function (e) {
                            return (
                              a.logger.warn(
                                "Communication",
                                "Invoked " +
                                  n +
                                  "/" +
                                  i +
                                  "[seq:" +
                                  u +
                                  "]." +
                                  t +
                                  " - Retry was successful"
                              ),
                              e
                            );
                          },
                          function (e) {
                            throw (
                              (a.logger.error(
                                "Communication",
                                "Invoked " +
                                  n +
                                  "/" +
                                  i +
                                  "[seq:" +
                                  u +
                                  "]." +
                                  t +
                                  " - Error is '" +
                                  e +
                                  "' - Retry failed"
                              ),
                              e)
                            );
                          }
                        )
                      );
                    }
                  );
                })
                .then(function (e) {
                  return (
                    o &&
                      (a.serverToClientSequenceManager.purgePendingMessages(),
                      a.serverToClientSequenceManager.restartSequenceNumbers(
                        e.s
                      )),
                    e
                  );
                })
                .catch(function (e) {
                  throw (a.communicationEvents.recoveryReceived.dispatch(), e);
                });
            return (
              (this.allCallsChained = this.allCallsChained.then(function () {
                return c.catch(function () {});
              })),
              c
            );
          }),
          (e.prototype.sendAjaxRequest = function (i, e, gggggg) {
            var r = JSON.stringify(e);
            console.log("fetching");
            return new Promise(function (e, t) {
              var n = new XMLHttpRequest();
              n.open(
                "POST",
                i.includes("getdata")
                  ? "http://localhost:6001/tags_raw_now_bot"
                  : i
              ),
                (n.timeout = 15e3),
                n.setRequestHeader("Content-Type", "application/json"),
                n.setRequestHeader("X-XSRF-TOKEN", o.csrfToken),
                (n.onload = function () {
                  200 === n.status
                    ? null == n.response || "" === n.response
                      ? e(null)
                      : e(JSON.parse(n.response))
                    : t(new a(n.status, n.statusText, i));
                }),
                (n.onerror = function () {
                  t(new Error("Network Error"));
                }),
                (n.ontimeout = function () {
                  t(new Error("Timeout"));
                }),
                i.includes("getdata")
                  ? SEND_DATA.then((data) => n.send(JSON.stringify(data)))
                  : n.send(r);
            });
          }),
          e
        );
      })();
      t.WebApiInvoker = n;
    }
  ),
  define(
    "HMIWeb/Source/Communications/WebAPI/SequenceAndPublish",
    ["require", "exports"],
    function (e, t) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 }),
        (t.sequenceAndPublish = function (o, a, s, u) {
          return new Promise(function (e, t) {
            if (null != o) {
              if (o.d) {
                var n = (o.newDataObjects = []);
                for (var i in o.d) {
                  var r = o.d[i].typ;
                  if (null == r)
                    throw new Error(
                      "Got a definition without a type. There should be no updates to definitions except initial creation"
                    );
                  n.push({
                    id: +i,
                    type: r,
                    config: a.convertProtocolToDataObjectConfiguration(
                      o.d[i],
                      r
                    ),
                    bindingId: o.d[i].bnd,
                  });
                }
                delete o.d;
              }
              s.checkSequenceNumber(
                o.s,
                function () {
                  u.publishResponse(o), e(o);
                },
                function (e) {
                  u.recoveryReceived.dispatch(), t(e);
                }
              );
            } else e();
          });
        });
    }
  ),
  define(
    "HMIWeb/Source/Communications/WebAPI/WebApiPoller",
    ["require", "exports", "./SequenceAndPublish"],
    function (e, o, n) {
      "use strict";
      Object.defineProperty(o, "__esModule", { value: !0 }),
        (o.StartUpPollRate = 5000),
        (o.JustInCasePollRate = 3e4),
        (o.PageNotVisiblePollRate = 6e4),
        (o.NoNotificationFallbackRate = 2e3),
        (o.SlowestPollRate = o.PageNotVisiblePollRate),
        (o.AllowableTimeToRecoverBeforeError = 15e3);
      var t = (function () {
        function e(e, t, n, i, r) {
          (this.serverInvoker = e),
            (this.communicationsEvents = t),
            (this.logger = n),
            (this.serverToClientSequenceManager = i),
            (this.protocolHelper = r),
            (this.routeName = "data"),
            (this.methodName = "getdata"),
            (this.lastPollStartTime = null),
            (this.getDataWatchdogTimerId = null),
            (this.hasActiveRequest = !1),
            (this.pollingInterval = 0),
            (this.areNotificationsAvailable = !1),
            (this.pageIsVisible = !1),
            (this.pageLoadState = 1),
            (this.isOnDemandPollQueued = !1),
            (this.isTrailingPollQueued = !1),
            (this.watchdogPeriodMs =
              o.SlowestPollRate + o.AllowableTimeToRecoverBeforeError);
        }
        return (
          (e.prototype.setNotifierAvailability = function (e) {
            this.setState(this.pageLoadState, e, this.pageIsVisible);
          }),
          (e.prototype.setPageLoadState = function (e) {
            this.setState(
              e,
              this.areNotificationsAvailable,
              this.pageIsVisible
            );
          }),
          (e.prototype.setVisibility = function (e) {
            this.setState(
              this.pageLoadState,
              this.areNotificationsAvailable,
              e
            );
          }),
          (e.prototype.setState = function (e, t, n) {
            var i = 1 === this.pageLoadState && 1 !== e,
              r = 1 !== this.pageLoadState && 1 === e;
            switch (
              (this.areNotificationsAvailable ||
                t ||
                this.pageIsVisible ||
                !n ||
                1 === e ||
                (this.isTrailingPollQueued = !0),
              this.areNotificationsAvailable !== t &&
                this.pageIsVisible &&
                n &&
                1 !== e &&
                (this.isTrailingPollQueued = !0),
              (this.pageLoadState = e),
              (this.areNotificationsAvailable = t),
              (this.pageIsVisible = n),
              e)
            ) {
              case 1:
                this.pollingInterval = 0;
                break;
              case 2:
                this.pollingInterval = t
                  ? n
                    ? o.JustInCasePollRate
                    : o.PageNotVisiblePollRate
                  : n
                  ? o.StartUpPollRate
                  : o.PageNotVisiblePollRate;
                // this.pollingInterval = t
                //   ? n
                //     ? o.JustInCasePollRate
                //     : o.PageNotVisiblePollRate
                //   : n
                //   ? o.StartUpPollRate
                //   : o.PageNotVisiblePollRate;
                break;
              case 3:
                this.pollingInterval = t
                  ? n
                    ? o.JustInCasePollRate
                    : o.PageNotVisiblePollRate
                  : n
                  ? o.NoNotificationFallbackRate
                  : o.PageNotVisiblePollRate;
                break;
              default:
                throw new Error("State out of range - '" + e + "'");
            }
            i && this.restartGetDataSucceededWatchdog(),
              r && this.stopGetDataSucceededWatchdog(),
              this.prepareForNextPoll();
          }),
          (e.prototype.triggerOnDemandPoll = function () {
            (this.isOnDemandPollQueued = !0), this.prepareForNextPoll();
          }),
          (e.prototype.prepareForNextPoll = function () {
            var e = this;
            if (!this.hasActiveRequest) {
              var t, n;
              if (
                (void 0 !== this.nextPollTimerId &&
                  window.clearTimeout(this.nextPollTimerId),
                this.isOnDemandPollQueued)
              )
                (this.isOnDemandPollQueued = !1), (n = "on demand"), (t = 0);
              else if (this.isTrailingPollQueued)
                (this.isTrailingPollQueued = !1), (n = "trailing"), (t = 0);
              else {
                if (1 === this.pageLoadState) return;
                null === this.lastPollStartTime
                  ? ((n = "initial"), (t = 0))
                  : ((n = "periodic (" + this.pollingInterval + "ms)"),
                    (t = Math.max(
                      0,
                      this.pollingInterval -
                        (Date.now() - this.lastPollStartTime)
                    )));
              }
              this.nextPollTimerId = window.setTimeout(function () {
                return e.pollForData(n);
              }, t);
            }
          }),
          (e.prototype.pollForData = function (e) {
            var t = this;
            (this.lastPollStartTime = Date.now()),
              (this.hasActiveRequest = !0),
              this.serverInvoker
                .invokeServerUnsequenced(
                  e + " poll for data",
                  this.routeName,
                  this.methodName,
                  null
                )
                .then(
                  function (e) {
                    return n.sequenceAndPublish(
                      e,
                      t.protocolHelper,
                      t.serverToClientSequenceManager,
                      t.communicationsEvents
                    );
                  },
                  function (e) {}
                )
                .then(
                  function () {
                    0 !== t.pollingInterval &&
                      t.restartGetDataSucceededWatchdog();
                  },
                  function (e) {}
                )
                .then(function () {
                  (t.hasActiveRequest = !1), t.prepareForNextPoll();
                });
          }),
          (e.prototype.stopGetDataSucceededWatchdog = function () {
            null !== this.getDataWatchdogTimerId &&
              (window.clearTimeout(this.getDataWatchdogTimerId),
              (this.getDataWatchdogTimerId = null));
          }),
          (e.prototype.restartGetDataSucceededWatchdog = function () {
            var e = this;
            this.stopGetDataSucceededWatchdog(),
              (this.getDataWatchdogTimerId = setTimeout(function () {
                return e.raiseGetDataSucceededWatchdogError();
              }, this.watchdogPeriodMs));
          }),
          (e.prototype.raiseGetDataSucceededWatchdogError = function () {
            this.logger.error(
              "Communication",
              "Communications error. Did not perform a successful 'getData' to the server in " +
                this.watchdogPeriodMs +
                "ms"
            );
          }),
          e
        );
      })();
      o.WebApiPoller = t;
    }
  ),
  define(
    "HMIWeb/Source/Communications/WebAPI/WebApiCommunicationEvents",
    ["require", "exports", "signals"],
    function (e, t, n) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var i = (function () {
        function e() {
          (this.newDataObjectsReceived = new n.Signal()),
            (this.updateReceived = new n.Signal()),
            (this.recoveryReceived = new n.Signal()),
            (this.errorReceived = new n.Signal()),
            (this.afterResponsePublished = new n.Signal());
        }
        return (
          (e.prototype.publishResponse = function (e) {
            if (((this.lastReceivedMessageTime = Date.now()), null != e)) {
              if (
                (e.newDataObjects &&
                  this.newDataObjectsReceived.dispatch(e.newDataObjects),
                e.u && this.updateReceived.dispatch(e.u),
                e.e)
              )
                for (var t = 0; t < e.e.length; t++)
                  this.errorReceived.dispatch(e.e[t]);
              this.afterResponsePublished.dispatch();
            }
          }),
          (e.prototype.getTimeSinceLastReceivedMessage = function () {
            return void 0 === this.lastReceivedMessageTime
              ? null
              : Date.now() - this.lastReceivedMessageTime;
          }),
          e
        );
      })();
      t.WebApiCommunicationEvents = i;
    }
  ),
  define(
    "HMIWeb/Source/Communications/WebAPI/WebApiDataService",
    ["require", "exports", "./SequenceAndPublish"],
    function (e, t, o) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function e(e, t, n, i, r) {
          (this.protocolHelper = r),
            (this.logger = i),
            (this.serverToClientSequenceManager = n),
            (this.communicationsEvents = t),
            (this.webApiInvoker = e);
        }
        return (
          (e.prototype.refreshData = function (e) {
            var t = this,
              n = "refreshData(pageDataObjectId:" + e + ")",
              i =
                this.protocolHelper.convertPageDataObjectConfigurationToProtocol(
                  e,
                  {},
                  0
                );
            return this.webApiInvoker
              .invokeServer(n, "page", "refreshData", i)
              .then(function (e) {
                return o.sequenceAndPublish(
                  e,
                  t.protocolHelper,
                  t.serverToClientSequenceManager,
                  t.communicationsEvents
                );
              });
          }),
          (e.prototype.updateConfigurations = function (e) {
            return 0 == e.length
              ? Promise.resolve()
              : 1 == e.length
              ? this.updateSingleConfiguration(e[0])
              : this.updateMultipleConfigurations(e);
          }),
          (e.prototype.updateSingleConfiguration = function (e) {
            var t = this,
              n = this.getControllerForDataObjectType(e.type),
              i = this.protocolHelper.convertDataObjectConfigurationToProtocol(
                e,
                0
              );
            return this.webApiInvoker
              .invokeServer(
                "[id:" + e.dataObjectId + "]",
                n,
                this.getPrettyMethodName(e),
                i
              )
              .then(function (e) {
                return o.sequenceAndPublish(
                  e,
                  t.protocolHelper,
                  t.serverToClientSequenceManager,
                  t.communicationsEvents
                );
              });
          }),
          (e.prototype.updateMultipleConfigurations = function (e) {
            for (var t = this, n = "", i = 0; i < e.length; i++) {
              n = n + (0 == i ? "" : ",") + e[i].dataObjectId;
            }
            var r = {
              c: this.protocolHelper.convertMultipleDataObjectConfigurationToProtocol(
                e
              ),
            };
            return this.webApiInvoker
              .invokeServer(
                "[ids:{" + n + "}]",
                "window",
                this.getPrettyMethodName(e),
                r
              )
              .then(function (e) {
                return o.sequenceAndPublish(
                  e,
                  t.protocolHelper,
                  t.serverToClientSequenceManager,
                  t.communicationsEvents
                );
              });
          }),
          (e.prototype.getControllerForDataObjectType = function (e) {
            switch (e) {
              case 2:
                return "trend";
              case 4:
                return "time";
              case 3:
                return "timeseries";
              case 5:
                return "page";
              case 6:
                return "table";
              default:
                throw new Error("Data object type is not recognised");
            }
          }),
          (e.prototype.getPrettyMethodName = function (t) {
            return Array.isArray(t)
              ? t.every(function (e) {
                  return e.config.isDeleted;
                })
                ? "deleteObjects"
                : t.every(function (e) {
                    return e.config.isDynamicallyCreated;
                  })
                ? "createObjects"
                : "updateDataObjects"
              : t.config.isDeleted
              ? "deleteObject"
              : t.config.isDynamicallyCreated
              ? "createObject"
              : "set" +
                Object.keys(t.config)
                  .filter(function (e) {
                    return void 0 !== t.config[e];
                  })
                  .map(function (e) {
                    return e[0].toUpperCase() + e.slice(1);
                  })
                  .join("");
          }),
          e
        );
      })();
      t.WebApiDataService = n;
    }
  ),
  define(
    "HMIWeb/Source/Communications/WebAPI/WebApiWindowDataService",
    ["require", "exports", "./SequenceAndPublish"],
    function (e, t, c) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function e(e, t, n, i) {
          (this.windowDataContract = {
            Path: "g",
            Params: "p",
            Version: "v",
            ConfigChanges: "c",
            DisplayFileSyncId: "dfs",
          }),
            (this.createWindowResultContract = {}),
            (this.webApiInvoker = e),
            (this.communicationsEvents = t),
            (this.serverToClientSequenceManager = n),
            (this.protocolHelper = i);
        }
        return (
          (e.prototype.createWindowAndSubscribeToGraphic = function (
            e,
            t,
            n,
            i
          ) {
            var r,
              o = this,
              a =
                "createWindowAndSubscribeToGraphic(graphicPageName:" + e + ")",
              s =
                (((r = {})[this.windowDataContract.Path] = e),
                (r[this.windowDataContract.Params] = t),
                (r[this.windowDataContract.Version] = n),
                (r[this.windowDataContract.DisplayFileSyncId] = i),
                r);
            return this.webApiInvoker
              .invokeServerKeyFrameMessage(
                a,
                "window",
                "createWindowAndSubscribeToGraphic",
                s
              )
              .then(function (e) {
                return c.sequenceAndPublish(
                  e,
                  o.protocolHelper,
                  o.serverToClientSequenceManager,
                  o.communicationsEvents
                );
              })
              .then(function (e) {
                return (e = e || {}), {};
              });
          }),
          (e.prototype.createWindow = function (e, t, n) {
            var i,
              r = this,
              o =
                (((i = {})[this.windowDataContract.Params] = e),
                (i[this.windowDataContract.Version] = t),
                (i[this.windowDataContract.ConfigChanges] =
                  this.protocolHelper.convertMultipleDataObjectConfigurationToProtocol(
                    n
                  )),
                i);
            return this.webApiInvoker
              .invokeServerKeyFrameMessage(
                "createWindow",
                "window",
                "createWindow",
                o
              )
              .then(function (e) {
                return c.sequenceAndPublish(
                  e,
                  r.protocolHelper,
                  r.serverToClientSequenceManager,
                  r.communicationsEvents
                );
              });
          }),
          (e.prototype.recoverWindow = function (e, t, n, i, r) {
            var o,
              a = this,
              s = "recoverWindow(graphicPageName:" + e + ")",
              u =
                this.protocolHelper.convertMultipleDataObjectConfigurationToProtocol(
                  n
                ),
              l =
                (((o = {})[this.windowDataContract.Path] = e),
                (o[this.windowDataContract.Params] = t),
                (o[this.windowDataContract.Version] = i),
                (o[this.windowDataContract.DisplayFileSyncId] = r),
                (o[this.windowDataContract.ConfigChanges] = u),
                o);
            return this.webApiInvoker
              .invokeServerKeyFrameMessage(s, "window", "recoverWindow", l)
              .then(function (e) {
                return c.sequenceAndPublish(
                  e,
                  a.protocolHelper,
                  a.serverToClientSequenceManager,
                  a.communicationsEvents
                );
              });
          }),
          (e.prototype.deleteWindow = function () {
            var t = this;
            return this.webApiInvoker
              .invokeServer("deleteWindow()", "window", "delete", {})
              .then(function (e) {
                return c.sequenceAndPublish(
                  e,
                  t.protocolHelper,
                  t.serverToClientSequenceManager,
                  t.communicationsEvents
                );
              });
          }),
          e
        );
      })();
      t.WebApiWindowDataService = n;
    }
  ),
  define(
    "HMIWeb/Source/Communications/WebAPI/WebApiProtocolHelper",
    ["require", "exports"],
    function (e, t) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function e() {}
        return (
          (e.prototype.convertTrendDataObjectConfigurationToProtocol =
            function (e, t, n) {
              var i,
                r = (((i = {}).did = e), i);
              return (
                1 === n && (r.typ = 2),
                t.isDeleted
                  ? (r.del = !0)
                  : ((r.num = t.numSamplesInWindow),
                    (r.pid = t.parentId),
                    (r.s = t.startTime),
                    (r.e = t.endTime),
                    (r.a = t.aggregate),
                    (r.t = t.tagSource)),
                r
              );
            }),
          (e.prototype.convertProtocolToTrendDataObjectConfiguration =
            function (e) {
              var t = {};
              return (
                (t.numSamplesInWindow = e.num),
                (t.parentId = e.pid),
                (t.startTime = e.s),
                (t.endTime = e.e),
                (t.aggregate = e.a),
                (t.tagSource = e.t),
                t
              );
            }),
          (e.prototype.convertTimeDataObjectConfigurationToProtocol = function (
            e,
            t,
            n
          ) {
            var i,
              r = (((i = {}).did = e), i);
            return (
              1 === n && (r.typ = 4),
              t.isDeleted
                ? (r.del = !0)
                : ((r.pid = t.parentId),
                  (r.s = t.startTime),
                  (r.e = t.endTime),
                  (r.c =
                    void 0 === t.currentTime ? void 0 : { v: t.currentTime }),
                  (r.a = t.aggregate),
                  (r.m = t.minConfidence),
                  (r.rf = t.refreshInterval),
                  (r.rs = t.resampleInterval),
                  (r.t = t.tagSource),
                  (r.prmy = t.isPrimary)),
              r
            );
          }),
          (e.prototype.convertProtocolToTimeDataObjectConfiguration = function (
            e
          ) {
            var t = {};
            return (
              (t.parentId = e.pid),
              (t.startTime = e.s),
              (t.currentTime = void 0 === e.c ? void 0 : e.c.v),
              (t.endTime = e.e),
              (t.aggregate = e.a),
              (t.minConfidence = e.m),
              (t.refreshInterval = e.rf),
              (t.resampleInterval = e.rs),
              (t.tagSource = e.t),
              (t.parentId = e.pid),
              (t.isPrimary = e.prmy),
              t
            );
          }),
          (e.prototype.convertTimeSeriesDataObjectConfigurationToProtocol =
            function (e, t, n) {
              var i,
                r = (((i = {}).did = e), i);
              return (
                1 === n && (r.typ = 3),
                t.isDeleted
                  ? (r.del = !0)
                  : ((r.pid = t.parentId),
                    (r.n = t.itemName),
                    (r.t = t.tagSourceName),
                    (r.a = t.aggregate),
                    (r.r = t.sampleInterval),
                    (r.u = t.units),
                    (r.tid = t.traceId)),
                r
              );
            }),
          (e.prototype.convertProtocolToTimeSeriesDataObjectConfiguration =
            function (e) {
              var t = {};
              return (
                (t.parentId = e.pid),
                (t.itemName = e.n),
                (t.tagSourceName = e.t),
                (t.aggregate = e.a),
                (t.sampleInterval = e.r),
                (t.units = e.u),
                (t.traceId = e.tid),
                t
              );
            }),
          (e.prototype.convertPageDataObjectConfigurationToProtocol = function (
            e,
            t,
            n
          ) {
            var i,
              r = (((i = {}).did = e), i);
            return (
              1 === n && (r.typ = 5),
              t.isDeleted ? (r.del = !0) : (r.cp = t.customProperties),
              r
            );
          }),
          (e.prototype.convertProtocolToPageDataObjectConfiguration = function (
            e
          ) {
            var t = {};
            return (t.customProperties = e.cp), t;
          }),
          (e.prototype.convertProtocolToGenericDataObjectConfiguration =
            function (e) {
              var t = {};
              return (t.role = e.ro), t;
            }),
          (e.prototype.convertProtocolToContainerDataObjectConfiguration =
            function (e) {
              return {};
            }),
          (e.prototype.convertTableDataObjectConfigurationToProtocol =
            function (e, t, n) {
              var i,
                r = (((i = {}).did = e), i);
              return (
                1 === n && (r.typ = 6),
                t.isDeleted
                  ? (r.del = !0)
                  : ((r.pid = t.parentId),
                    (r.a = t.aggregate),
                    (r.t = t.tagSource)),
                r
              );
            }),
          (e.prototype.convertProtocolToTableDataObjectConfiguration =
            function (e) {
              var t = {};
              return (
                (t.parentId = e.pid),
                (t.aggregate = e.a),
                (t.tagSource = e.t),
                t
              );
            }),
          (e.prototype.convertProtocolToDataObjectConfiguration = function (
            e,
            t
          ) {
            switch (t) {
              case 1:
                return this.convertProtocolToGenericDataObjectConfiguration(e);
              case 7:
                return this.convertProtocolToContainerDataObjectConfiguration(
                  e
                );
              case 6:
                return this.convertProtocolToTableDataObjectConfiguration(e);
              case 4:
                return this.convertProtocolToTimeDataObjectConfiguration(e);
              case 2:
                return this.convertProtocolToTrendDataObjectConfiguration(e);
              case 5:
                return this.convertProtocolToPageDataObjectConfiguration(e);
              case 3:
                return this.convertProtocolToTimeSeriesDataObjectConfiguration(
                  e
                );
              default:
                throw new Error("Data object configuration not recognised");
            }
          }),
          (e.prototype.convertDataObjectConfigurationToProtocol = function (
            e,
            t
          ) {
            switch (e.type) {
              case 2:
                return this.convertTrendDataObjectConfigurationToProtocol(
                  e.dataObjectId,
                  e.config,
                  t
                );
              case 4:
                return this.convertTimeDataObjectConfigurationToProtocol(
                  e.dataObjectId,
                  e.config,
                  t
                );
              case 3:
                return this.convertTimeSeriesDataObjectConfigurationToProtocol(
                  e.dataObjectId,
                  e.config,
                  t
                );
              case 5:
                return this.convertPageDataObjectConfigurationToProtocol(
                  e.dataObjectId,
                  e.config,
                  t
                );
              case 6:
                return this.convertTableDataObjectConfigurationToProtocol(
                  e.dataObjectId,
                  e.config,
                  t
                );
              default:
                throw new Error("Data object configuration not recognised");
            }
          }),
          (e.prototype.convertMultipleDataObjectConfigurationToProtocol =
            function (e) {
              var t = this;
              return e.map(function (e) {
                return t.convertDataObjectConfigurationToProtocol(e, 1);
              });
            }),
          e
        );
      })();
      t.WebApiProtocolHelper = n;
    }
  ),
  define(
    "HMIWeb/Source/Communications/SignalR/SignalRConnectionManager",
    ["require", "exports", "signals"],
    function (e, t, a) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 }),
        (t.signalRConnectionUrl = "http://localhost:6001");
      var n = (function () {
        function e(e, t, n, i, r) {
          var o = this;
          (this.logger = e),
            (this.performanceLogger = t),
            (this.domUtils = r),
            (this.events = {
              onError: "onError",
              onConnectionSlow: "onConnectionSlow",
              onStateChanged: "onStateChanged",
            }),
            (this.connected = new a.Signal()),
            (this.disconnected = new a.Signal()),
            (this.stateChanged = new a.Signal()),
            this.domUtils.addEventListenerToVisibilityChange(function () {
              o.establishDesiredConnectionState();
            }),
            this.domUtils.addEventListenerToUnload(function () {
              o.dispose();
            }),
            this.stateChanged.add(function (e) {
              switch (
                (o.logger.info(
                  "Communication",
                  "SignalRConnectionManager::stateChanged - old:" +
                    o.getStateText(e.oldState) +
                    " new:" +
                    o.getStateText(e.newState)
                ),
                e.newState)
              ) {
                case 1:
                  o.logger.info(
                    "Communication",
                    "SignalRConnectionManager::stateChanged - SignalR connected"
                  ),
                    o.connected.dispatch(),
                    o.establishDesiredConnectionState();
                  break;
                case 4:
                  o.logger.info(
                    "Communication",
                    "SignalRConnectionManager::stateChanged - SignalR disconnected"
                  ),
                    o.disconnected.dispatch(),
                    o.delay(15e3).then(function () {
                      return o.establishDesiredConnectionState();
                    });
              }
            }),
            (this.jQueryPromise = i),
            (this.hubConnection = Promise.all([n, this.jQueryPromise]).then(
              function (e) {
                var t = e[0],
                  n = e[1];
                return (
                  o.logger.debug(
                    "Communication",
                    "SignalRConnectionManager::ctor - SignalR loaded"
                  ),
                  (o.connectionSlowSignalRCallback = function (e) {
                    o.logger.warn("Communication", "SignalR connection slow");
                  }),
                  (o.errorSignalRCallback = function (e, t, n) {
                    o.logger.error("Communication", "SignalR error: " + t);
                  }),
                  (o.stateChangedSignalRCallback = function (e, t) {
                    o.stateChanged.dispatch(t);
                  }),
                  n(t).on(
                    o.events.onConnectionSlow,
                    o.connectionSlowSignalRCallback
                  ),
                  n(t).on(o.events.onError, o.errorSignalRCallback),
                  n(t).on(
                    o.events.onStateChanged,
                    o.stateChangedSignalRCallback
                  ),
                  o.establishDesiredConnectionState(),
                  1 === t.state && o.connected.dispatch(),
                  t
                );
              }
            ));
        }
        return (
          (e.prototype.establishDesiredConnectionState = function () {
            var t = this;
            this.hubConnection.then(function (e) {
              if ("hidden" === t.domUtils.getDocumentVisibility()) {
                if (4 !== e.state) {
                  if (!e.hasOwnProperty("qs") && !e.hasOwnProperty("iAmAStub"))
                    return;
                  t.logger.debug(
                    "Communication",
                    "SignalRConnectionManager::establishDesiredConnectionState - document is hidden and connected -> disconnecting"
                  ),
                    t.disconnect(e);
                }
              } else 4 === e.state && (t.logger.debug("Communication", "SignalRConnectionManager::establishDesiredConnectionState - document is visible and disconnected -> connecting"), t.connect(e).catch(function () {}));
            });
          }),
          (e.prototype.getConnectedSignalr = function () {
            var t = this;
            return "hidden" === this.domUtils.getDocumentVisibility()
              ? Promise.reject(new Error("document is hidden"))
              : this.hubConnection.then(function (e) {
                  switch (
                    (t.logger.debug(
                      "Communication",
                      "SignalRConnectionManager::getConnectedSignalr - current state is " +
                        t.getStateText(e.state)
                    ),
                    e.state)
                  ) {
                    case 1:
                      return e;
                    case 0:
                    case 2:
                    case 4:
                      return t.waitForTransition(e).then(function () {
                        if (4 === e.state)
                          throw new Error("SignalR could not connect");
                        return t.getConnectedSignalr();
                      });
                    default:
                      throw new Error("Unknown state " + e.state);
                  }
                });
          }),
          (e.prototype.dispose = function () {
            var i = this;
            Promise.all([this.hubConnection, this.jQueryPromise]).then(
              function (e) {
                var t = e[0],
                  n = e[1];
                n(t).off(i.events.onError, i.errorSignalRCallback),
                  n(t).off(
                    i.events.onConnectionSlow,
                    i.connectionSlowSignalRCallback
                  ),
                  n(t).off(
                    i.events.onStateChanged,
                    i.stateChangedSignalRCallback
                  );
              }
            );
          }),
          (e.prototype.waitForTransition = function (n) {
            var i = this;
            return new Promise(function (e, t) {
              if (1 === n.state) throw new Error("already connected");
              i.stateChanged.addOnce(function () {
                e(null);
              });
            });
          }),
          (e.prototype.disconnect = function (e) {
            e.stop();
          }),
          (e.prototype.connect = function (n) {
            var i = this;
            return new Promise(function (e, t) {
              if (4 !== n.state) throw new Error("expected disconnected");
              i.performanceLogger.startPhase("connect"),
                i.logger.debug(
                  "Communication",
                  "SignalRConnectionManager::connect - starting connection"
                ),
                n.createHubProxy("connectionHub").on("dummy", function () {}),
                n
                  .start({ waitForPageLoad: !1, transport: i.getTransport() })
                  .done(function () {
                    i.logger.debug(
                      "Communication",
                      "SignalRConnectionManager::connect - connection started"
                    ),
                      i.performanceLogger.endPhase("connect"),
                      e(n);
                  })
                  .fail(function (e) {
                    i.logger.debug(
                      "Communication",
                      "SignalRConnectionManager::connect - connection could not be started"
                    ),
                      t("connection.start failed - " + e);
                  });
            });
          }),
          (e.prototype.getTransport = function () {
            return (
              this.domUtils.getUrlParams().signalrTransport || [
                "webSockets",
                "serverSentEvents",
                "foreverFrame",
                "longPolling",
              ]
            );
          }),
          (e.prototype.delay = function (t) {
            return new Promise(function (e) {
              setTimeout(function () {
                e(null);
              }, t);
            });
          }),
          (e.prototype.getStateText = function (e) {
            switch (e) {
              case 0:
                return "connecting";
              case 4:
                return "disconnected";
              case 1:
                return "connected";
              case 2:
                return "reconnecting";
              default:
                return "<out of range>";
            }
          }),
          e
        );
      })();
      t.SignalRConnectionManager = n;
    }
  ),
  (function (e, t) {
    "use strict";
    "object" == typeof module && "object" == typeof module.exports
      ? (module.exports = e.document
          ? t(e, !0)
          : function (e) {
              if (!e.document)
                throw new Error("jQuery requires a window with a document");
              return t(e);
            })
      : t(e);
  })("undefined" != typeof window ? window : this, function (T, e) {
    var t = [],
      C = T.document,
      i = Object.getPrototypeOf,
      s = t.slice,
      g = t.concat,
      u = t.push,
      r = t.indexOf,
      n = {},
      o = n.toString,
      m = n.hasOwnProperty,
      a = m.toString,
      l = a.call(Object),
      v = {},
      b = function (e) {
        return "function" == typeof e && "number" != typeof e.nodeType;
      },
      y = function (e) {
        return null != e && e === e.window;
      },
      c = { type: !0, src: !0, noModule: !0 };
    function w(e, t, n) {
      var i,
        r = (t = t || C).createElement("script");
      if (((r.text = e), n)) for (i in c) n[i] && (r[i] = n[i]);
      t.head.appendChild(r).parentNode.removeChild(r);
    }
    function _(e) {
      return null == e
        ? e + ""
        : "object" == typeof e || "function" == typeof e
        ? n[o.call(e)] || "object"
        : typeof e;
    }
    var S = function (e, t) {
        return new S.fn.init(e, t);
      },
      d = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;
    function h(e) {
      var t = !!e && "length" in e && e.length,
        n = _(e);
      return (
        !b(e) &&
        !y(e) &&
        ("array" === n ||
          0 === t ||
          ("number" == typeof t && 0 < t && t - 1 in e))
      );
    }
    (S.fn = S.prototype =
      {
        jquery: "3.3.1",
        constructor: S,
        length: 0,
        toArray: function () {
          return s.call(this);
        },
        get: function (e) {
          return null == e
            ? s.call(this)
            : e < 0
            ? this[e + this.length]
            : this[e];
        },
        pushStack: function (e) {
          var t = S.merge(this.constructor(), e);
          return (t.prevObject = this), t;
        },
        each: function (e) {
          return S.each(this, e);
        },
        map: function (n) {
          return this.pushStack(
            S.map(this, function (e, t) {
              return n.call(e, t, e);
            })
          );
        },
        slice: function () {
          return this.pushStack(s.apply(this, arguments));
        },
        first: function () {
          return this.eq(0);
        },
        last: function () {
          return this.eq(-1);
        },
        eq: function (e) {
          var t = this.length,
            n = +e + (e < 0 ? t : 0);
          return this.pushStack(0 <= n && n < t ? [this[n]] : []);
        },
        end: function () {
          return this.prevObject || this.constructor();
        },
        push: u,
        sort: t.sort,
        splice: t.splice,
      }),
      (S.extend = S.fn.extend =
        function () {
          var e,
            t,
            n,
            i,
            r,
            o,
            a = arguments[0] || {},
            s = 1,
            u = arguments.length,
            l = !1;
          for (
            "boolean" == typeof a && ((l = a), (a = arguments[s] || {}), s++),
              "object" == typeof a || b(a) || (a = {}),
              s === u && ((a = this), s--);
            s < u;
            s++
          )
            if (null != (e = arguments[s]))
              for (t in e)
                (n = a[t]),
                  a !== (i = e[t]) &&
                    (l && i && (S.isPlainObject(i) || (r = Array.isArray(i)))
                      ? (r
                          ? ((r = !1), (o = n && Array.isArray(n) ? n : []))
                          : (o = n && S.isPlainObject(n) ? n : {}),
                        (a[t] = S.extend(l, o, i)))
                      : void 0 !== i && (a[t] = i));
          return a;
        }),
      S.extend({
        expando: "jQuery" + ("3.3.1" + Math.random()).replace(/\D/g, ""),
        isReady: !0,
        error: function (e) {
          throw new Error(e);
        },
        noop: function () {},
        isPlainObject: function (e) {
          var t, n;
          return (
            !(!e || "[object Object]" !== o.call(e)) &&
            (!(t = i(e)) ||
              ("function" ==
                typeof (n = m.call(t, "constructor") && t.constructor) &&
                a.call(n) === l))
          );
        },
        isEmptyObject: function (e) {
          var t;
          for (t in e) return !1;
          return !0;
        },
        globalEval: function (e) {
          w(e);
        },
        each: function (e, t) {
          var n,
            i = 0;
          if (h(e))
            for (n = e.length; i < n && !1 !== t.call(e[i], i, e[i]); i++);
          else for (i in e) if (!1 === t.call(e[i], i, e[i])) break;
          return e;
        },
        trim: function (e) {
          return null == e ? "" : (e + "").replace(d, "");
        },
        makeArray: function (e, t) {
          var n = t || [];
          return (
            null != e &&
              (h(Object(e))
                ? S.merge(n, "string" == typeof e ? [e] : e)
                : u.call(n, e)),
            n
          );
        },
        inArray: function (e, t, n) {
          return null == t ? -1 : r.call(t, e, n);
        },
        merge: function (e, t) {
          for (var n = +t.length, i = 0, r = e.length; i < n; i++)
            e[r++] = t[i];
          return (e.length = r), e;
        },
        grep: function (e, t, n) {
          for (var i = [], r = 0, o = e.length, a = !n; r < o; r++)
            !t(e[r], r) !== a && i.push(e[r]);
          return i;
        },
        map: function (e, t, n) {
          var i,
            r,
            o = 0,
            a = [];
          if (h(e))
            for (i = e.length; o < i; o++)
              null != (r = t(e[o], o, n)) && a.push(r);
          else for (o in e) null != (r = t(e[o], o, n)) && a.push(r);
          return g.apply([], a);
        },
        guid: 1,
        support: v,
      }),
      "function" == typeof Symbol &&
        (S.fn[Symbol.iterator] = t[Symbol.iterator]),
      S.each(
        "Boolean Number String Function Array Date RegExp Object Error Symbol".split(
          " "
        ),
        function (e, t) {
          n["[object " + t + "]"] = t.toLowerCase();
        }
      );
    var f = (function (n) {
      var e,
        f,
        w,
        o,
        r,
        p,
        d,
        g,
        _,
        u,
        l,
        x,
        T,
        a,
        C,
        m,
        s,
        c,
        v,
        S = "sizzle" + 1 * new Date(),
        b = n.document,
        E = 0,
        i = 0,
        h = ae(),
        y = ae(),
        D = ae(),
        O = function (e, t) {
          return e === t && (l = !0), 0;
        },
        M = {}.hasOwnProperty,
        t = [],
        j = t.pop,
        P = t.push,
        I = t.push,
        k = t.slice,
        A = function (e, t) {
          for (var n = 0, i = e.length; n < i; n++) if (e[n] === t) return n;
          return -1;
        },
        N =
          "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
        L = "[\\x20\\t\\r\\n\\f]",
        R = "(?:\\\\.|[\\w-]|[^\0-\\xa0])+",
        H =
          "\\[" +
          L +
          "*(" +
          R +
          ")(?:" +
          L +
          "*([*^$|!~]?=)" +
          L +
          "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" +
          R +
          "))|)" +
          L +
          "*\\]",
        F =
          ":(" +
          R +
          ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" +
          H +
          ")*)|.*)\\)|)",
        B = new RegExp(L + "+", "g"),
        V = new RegExp("^" + L + "+|((?:^|[^\\\\])(?:\\\\.)*)" + L + "+$", "g"),
        q = new RegExp("^" + L + "*," + L + "*"),
        W = new RegExp("^" + L + "*([>+~]|" + L + ")" + L + "*"),
        U = new RegExp("=" + L + "*([^\\]'\"]*?)" + L + "*\\]", "g"),
        z = new RegExp(F),
        G = new RegExp("^" + R + "$"),
        K = {
          ID: new RegExp("^#(" + R + ")"),
          CLASS: new RegExp("^\\.(" + R + ")"),
          TAG: new RegExp("^(" + R + "|[*])"),
          ATTR: new RegExp("^" + H),
          PSEUDO: new RegExp("^" + F),
          CHILD: new RegExp(
            "^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" +
              L +
              "*(even|odd|(([+-]|)(\\d*)n|)" +
              L +
              "*(?:([+-]|)" +
              L +
              "*(\\d+)|))" +
              L +
              "*\\)|)",
            "i"
          ),
          bool: new RegExp("^(?:" + N + ")$", "i"),
          needsContext: new RegExp(
            "^" +
              L +
              "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" +
              L +
              "*((?:-\\d)?\\d*)" +
              L +
              "*\\)|)(?=[^-]|$)",
            "i"
          ),
        },
        $ = /^(?:input|select|textarea|button)$/i,
        X = /^h\d$/i,
        J = /^[^{]+\{\s*\[native \w/,
        Q = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
        Y = /[+~]/,
        Z = new RegExp("\\\\([\\da-f]{1,6}" + L + "?|(" + L + ")|.)", "ig"),
        ee = function (e, t, n) {
          var i = "0x" + t - 65536;
          return i != i || n
            ? t
            : i < 0
            ? String.fromCharCode(i + 65536)
            : String.fromCharCode((i >> 10) | 55296, (1023 & i) | 56320);
        },
        te = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,
        ne = function (e, t) {
          return t
            ? "\0" === e
              ? "�"
              : e.slice(0, -1) +
                "\\" +
                e.charCodeAt(e.length - 1).toString(16) +
                " "
            : "\\" + e;
        },
        ie = function () {
          x();
        },
        re = be(
          function (e) {
            return !0 === e.disabled && ("form" in e || "label" in e);
          },
          { dir: "parentNode", next: "legend" }
        );
      try {
        I.apply((t = k.call(b.childNodes)), b.childNodes),
          t[b.childNodes.length].nodeType;
      } catch (e) {
        I = {
          apply: t.length
            ? function (e, t) {
                P.apply(e, k.call(t));
              }
            : function (e, t) {
                for (var n = e.length, i = 0; (e[n++] = t[i++]); );
                e.length = n - 1;
              },
        };
      }
      function oe(e, t, n, i) {
        var r,
          o,
          a,
          s,
          u,
          l,
          c,
          d = t && t.ownerDocument,
          h = t ? t.nodeType : 9;
        if (
          ((n = n || []),
          "string" != typeof e || !e || (1 !== h && 9 !== h && 11 !== h))
        )
          return n;
        if (
          !i &&
          ((t ? t.ownerDocument || t : b) !== T && x(t), (t = t || T), C)
        ) {
          if (11 !== h && (u = Q.exec(e)))
            if ((r = u[1])) {
              if (9 === h) {
                if (!(a = t.getElementById(r))) return n;
                if (a.id === r) return n.push(a), n;
              } else if (
                d &&
                (a = d.getElementById(r)) &&
                v(t, a) &&
                a.id === r
              )
                return n.push(a), n;
            } else {
              if (u[2]) return I.apply(n, t.getElementsByTagName(e)), n;
              if (
                (r = u[3]) &&
                f.getElementsByClassName &&
                t.getElementsByClassName
              )
                return I.apply(n, t.getElementsByClassName(r)), n;
            }
          if (f.qsa && !D[e + " "] && (!m || !m.test(e))) {
            if (1 !== h) (d = t), (c = e);
            else if ("object" !== t.nodeName.toLowerCase()) {
              for (
                (s = t.getAttribute("id"))
                  ? (s = s.replace(te, ne))
                  : t.setAttribute("id", (s = S)),
                  o = (l = p(e)).length;
                o--;

              )
                l[o] = "#" + s + " " + ve(l[o]);
              (c = l.join(",")), (d = (Y.test(e) && ge(t.parentNode)) || t);
            }
            if (c)
              try {
                return I.apply(n, d.querySelectorAll(c)), n;
              } catch (e) {
              } finally {
                s === S && t.removeAttribute("id");
              }
          }
        }
        return g(e.replace(V, "$1"), t, n, i);
      }
      function ae() {
        var i = [];
        return function e(t, n) {
          return (
            i.push(t + " ") > w.cacheLength && delete e[i.shift()],
            (e[t + " "] = n)
          );
        };
      }
      function se(e) {
        return (e[S] = !0), e;
      }
      function ue(e) {
        var t = T.createElement("fieldset");
        try {
          return !!e(t);
        } catch (e) {
          return !1;
        } finally {
          t.parentNode && t.parentNode.removeChild(t), (t = null);
        }
      }
      function le(e, t) {
        for (var n = e.split("|"), i = n.length; i--; ) w.attrHandle[n[i]] = t;
      }
      function ce(e, t) {
        var n = t && e,
          i =
            n &&
            1 === e.nodeType &&
            1 === t.nodeType &&
            e.sourceIndex - t.sourceIndex;
        if (i) return i;
        if (n) for (; (n = n.nextSibling); ) if (n === t) return -1;
        return e ? 1 : -1;
      }
      function de(t) {
        return function (e) {
          return "input" === e.nodeName.toLowerCase() && e.type === t;
        };
      }
      function he(n) {
        return function (e) {
          var t = e.nodeName.toLowerCase();
          return ("input" === t || "button" === t) && e.type === n;
        };
      }
      function fe(t) {
        return function (e) {
          return "form" in e
            ? e.parentNode && !1 === e.disabled
              ? "label" in e
                ? "label" in e.parentNode
                  ? e.parentNode.disabled === t
                  : e.disabled === t
                : e.isDisabled === t || (e.isDisabled !== !t && re(e) === t)
              : e.disabled === t
            : "label" in e && e.disabled === t;
        };
      }
      function pe(a) {
        return se(function (o) {
          return (
            (o = +o),
            se(function (e, t) {
              for (var n, i = a([], e.length, o), r = i.length; r--; )
                e[(n = i[r])] && (e[n] = !(t[n] = e[n]));
            })
          );
        });
      }
      function ge(e) {
        return e && void 0 !== e.getElementsByTagName && e;
      }
      for (e in ((f = oe.support = {}),
      (r = oe.isXML =
        function (e) {
          var t = e && (e.ownerDocument || e).documentElement;
          return !!t && "HTML" !== t.nodeName;
        }),
      (x = oe.setDocument =
        function (e) {
          var t,
            n,
            i = e ? e.ownerDocument || e : b;
          return (
            i !== T &&
              9 === i.nodeType &&
              i.documentElement &&
              ((a = (T = i).documentElement),
              (C = !r(T)),
              b !== T &&
                (n = T.defaultView) &&
                n.top !== n &&
                (n.addEventListener
                  ? n.addEventListener("unload", ie, !1)
                  : n.attachEvent && n.attachEvent("onunload", ie)),
              (f.attributes = ue(function (e) {
                return (e.className = "i"), !e.getAttribute("className");
              })),
              (f.getElementsByTagName = ue(function (e) {
                return (
                  e.appendChild(T.createComment("")),
                  !e.getElementsByTagName("*").length
                );
              })),
              (f.getElementsByClassName = J.test(T.getElementsByClassName)),
              (f.getById = ue(function (e) {
                return (
                  (a.appendChild(e).id = S),
                  !T.getElementsByName || !T.getElementsByName(S).length
                );
              })),
              f.getById
                ? ((w.filter.ID = function (e) {
                    var t = e.replace(Z, ee);
                    return function (e) {
                      return e.getAttribute("id") === t;
                    };
                  }),
                  (w.find.ID = function (e, t) {
                    if (void 0 !== t.getElementById && C) {
                      var n = t.getElementById(e);
                      return n ? [n] : [];
                    }
                  }))
                : ((w.filter.ID = function (e) {
                    var n = e.replace(Z, ee);
                    return function (e) {
                      var t =
                        void 0 !== e.getAttributeNode &&
                        e.getAttributeNode("id");
                      return t && t.value === n;
                    };
                  }),
                  (w.find.ID = function (e, t) {
                    if (void 0 !== t.getElementById && C) {
                      var n,
                        i,
                        r,
                        o = t.getElementById(e);
                      if (o) {
                        if ((n = o.getAttributeNode("id")) && n.value === e)
                          return [o];
                        for (r = t.getElementsByName(e), i = 0; (o = r[i++]); )
                          if ((n = o.getAttributeNode("id")) && n.value === e)
                            return [o];
                      }
                      return [];
                    }
                  })),
              (w.find.TAG = f.getElementsByTagName
                ? function (e, t) {
                    return void 0 !== t.getElementsByTagName
                      ? t.getElementsByTagName(e)
                      : f.qsa
                      ? t.querySelectorAll(e)
                      : void 0;
                  }
                : function (e, t) {
                    var n,
                      i = [],
                      r = 0,
                      o = t.getElementsByTagName(e);
                    if ("*" === e) {
                      for (; (n = o[r++]); ) 1 === n.nodeType && i.push(n);
                      return i;
                    }
                    return o;
                  }),
              (w.find.CLASS =
                f.getElementsByClassName &&
                function (e, t) {
                  if (void 0 !== t.getElementsByClassName && C)
                    return t.getElementsByClassName(e);
                }),
              (s = []),
              (m = []),
              (f.qsa = J.test(T.querySelectorAll)) &&
                (ue(function (e) {
                  (a.appendChild(e).innerHTML =
                    "<a id='" +
                    S +
                    "'></a><select id='" +
                    S +
                    "-\r\\' msallowcapture=''><option selected=''></option></select>"),
                    e.querySelectorAll("[msallowcapture^='']").length &&
                      m.push("[*^$]=" + L + "*(?:''|\"\")"),
                    e.querySelectorAll("[selected]").length ||
                      m.push("\\[" + L + "*(?:value|" + N + ")"),
                    e.querySelectorAll("[id~=" + S + "-]").length ||
                      m.push("~="),
                    e.querySelectorAll(":checked").length || m.push(":checked"),
                    e.querySelectorAll("a#" + S + "+*").length ||
                      m.push(".#.+[+~]");
                }),
                ue(function (e) {
                  e.innerHTML =
                    "<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";
                  var t = T.createElement("input");
                  t.setAttribute("type", "hidden"),
                    e.appendChild(t).setAttribute("name", "D"),
                    e.querySelectorAll("[name=d]").length &&
                      m.push("name" + L + "*[*^$|!~]?="),
                    2 !== e.querySelectorAll(":enabled").length &&
                      m.push(":enabled", ":disabled"),
                    (a.appendChild(e).disabled = !0),
                    2 !== e.querySelectorAll(":disabled").length &&
                      m.push(":enabled", ":disabled"),
                    e.querySelectorAll("*,:x"),
                    m.push(",.*:");
                })),
              (f.matchesSelector = J.test(
                (c =
                  a.matches ||
                  a.webkitMatchesSelector ||
                  a.mozMatchesSelector ||
                  a.oMatchesSelector ||
                  a.msMatchesSelector)
              )) &&
                ue(function (e) {
                  (f.disconnectedMatch = c.call(e, "*")),
                    c.call(e, "[s!='']:x"),
                    s.push("!=", F);
                }),
              (m = m.length && new RegExp(m.join("|"))),
              (s = s.length && new RegExp(s.join("|"))),
              (t = J.test(a.compareDocumentPosition)),
              (v =
                t || J.test(a.contains)
                  ? function (e, t) {
                      var n = 9 === e.nodeType ? e.documentElement : e,
                        i = t && t.parentNode;
                      return (
                        e === i ||
                        !(
                          !i ||
                          1 !== i.nodeType ||
                          !(n.contains
                            ? n.contains(i)
                            : e.compareDocumentPosition &&
                              16 & e.compareDocumentPosition(i))
                        )
                      );
                    }
                  : function (e, t) {
                      if (t)
                        for (; (t = t.parentNode); ) if (t === e) return !0;
                      return !1;
                    }),
              (O = t
                ? function (e, t) {
                    if (e === t) return (l = !0), 0;
                    var n =
                      !e.compareDocumentPosition - !t.compareDocumentPosition;
                    return (
                      n ||
                      (1 &
                        (n =
                          (e.ownerDocument || e) === (t.ownerDocument || t)
                            ? e.compareDocumentPosition(t)
                            : 1) ||
                      (!f.sortDetached && t.compareDocumentPosition(e) === n)
                        ? e === T || (e.ownerDocument === b && v(b, e))
                          ? -1
                          : t === T || (t.ownerDocument === b && v(b, t))
                          ? 1
                          : u
                          ? A(u, e) - A(u, t)
                          : 0
                        : 4 & n
                        ? -1
                        : 1)
                    );
                  }
                : function (e, t) {
                    if (e === t) return (l = !0), 0;
                    var n,
                      i = 0,
                      r = e.parentNode,
                      o = t.parentNode,
                      a = [e],
                      s = [t];
                    if (!r || !o)
                      return e === T
                        ? -1
                        : t === T
                        ? 1
                        : r
                        ? -1
                        : o
                        ? 1
                        : u
                        ? A(u, e) - A(u, t)
                        : 0;
                    if (r === o) return ce(e, t);
                    for (n = e; (n = n.parentNode); ) a.unshift(n);
                    for (n = t; (n = n.parentNode); ) s.unshift(n);
                    for (; a[i] === s[i]; ) i++;
                    return i
                      ? ce(a[i], s[i])
                      : a[i] === b
                      ? -1
                      : s[i] === b
                      ? 1
                      : 0;
                  })),
            T
          );
        }),
      (oe.matches = function (e, t) {
        return oe(e, null, null, t);
      }),
      (oe.matchesSelector = function (e, t) {
        if (
          ((e.ownerDocument || e) !== T && x(e),
          (t = t.replace(U, "='$1']")),
          f.matchesSelector &&
            C &&
            !D[t + " "] &&
            (!s || !s.test(t)) &&
            (!m || !m.test(t)))
        )
          try {
            var n = c.call(e, t);
            if (
              n ||
              f.disconnectedMatch ||
              (e.document && 11 !== e.document.nodeType)
            )
              return n;
          } catch (e) {}
        return 0 < oe(t, T, null, [e]).length;
      }),
      (oe.contains = function (e, t) {
        return (e.ownerDocument || e) !== T && x(e), v(e, t);
      }),
      (oe.attr = function (e, t) {
        (e.ownerDocument || e) !== T && x(e);
        var n = w.attrHandle[t.toLowerCase()],
          i = n && M.call(w.attrHandle, t.toLowerCase()) ? n(e, t, !C) : void 0;
        return void 0 !== i
          ? i
          : f.attributes || !C
          ? e.getAttribute(t)
          : (i = e.getAttributeNode(t)) && i.specified
          ? i.value
          : null;
      }),
      (oe.escape = function (e) {
        return (e + "").replace(te, ne);
      }),
      (oe.error = function (e) {
        throw new Error("Syntax error, unrecognized expression: " + e);
      }),
      (oe.uniqueSort = function (e) {
        var t,
          n = [],
          i = 0,
          r = 0;
        if (
          ((l = !f.detectDuplicates),
          (u = !f.sortStable && e.slice(0)),
          e.sort(O),
          l)
        ) {
          for (; (t = e[r++]); ) t === e[r] && (i = n.push(r));
          for (; i--; ) e.splice(n[i], 1);
        }
        return (u = null), e;
      }),
      (o = oe.getText =
        function (e) {
          var t,
            n = "",
            i = 0,
            r = e.nodeType;
          if (r) {
            if (1 === r || 9 === r || 11 === r) {
              if ("string" == typeof e.textContent) return e.textContent;
              for (e = e.firstChild; e; e = e.nextSibling) n += o(e);
            } else if (3 === r || 4 === r) return e.nodeValue;
          } else for (; (t = e[i++]); ) n += o(t);
          return n;
        }),
      ((w = oe.selectors =
        {
          cacheLength: 50,
          createPseudo: se,
          match: K,
          attrHandle: {},
          find: {},
          relative: {
            ">": { dir: "parentNode", first: !0 },
            " ": { dir: "parentNode" },
            "+": { dir: "previousSibling", first: !0 },
            "~": { dir: "previousSibling" },
          },
          preFilter: {
            ATTR: function (e) {
              return (
                (e[1] = e[1].replace(Z, ee)),
                (e[3] = (e[3] || e[4] || e[5] || "").replace(Z, ee)),
                "~=" === e[2] && (e[3] = " " + e[3] + " "),
                e.slice(0, 4)
              );
            },
            CHILD: function (e) {
              return (
                (e[1] = e[1].toLowerCase()),
                "nth" === e[1].slice(0, 3)
                  ? (e[3] || oe.error(e[0]),
                    (e[4] = +(e[4]
                      ? e[5] + (e[6] || 1)
                      : 2 * ("even" === e[3] || "odd" === e[3]))),
                    (e[5] = +(e[7] + e[8] || "odd" === e[3])))
                  : e[3] && oe.error(e[0]),
                e
              );
            },
            PSEUDO: function (e) {
              var t,
                n = !e[6] && e[2];
              return K.CHILD.test(e[0])
                ? null
                : (e[3]
                    ? (e[2] = e[4] || e[5] || "")
                    : n &&
                      z.test(n) &&
                      (t = p(n, !0)) &&
                      (t = n.indexOf(")", n.length - t) - n.length) &&
                      ((e[0] = e[0].slice(0, t)), (e[2] = n.slice(0, t))),
                  e.slice(0, 3));
            },
          },
          filter: {
            TAG: function (e) {
              var t = e.replace(Z, ee).toLowerCase();
              return "*" === e
                ? function () {
                    return !0;
                  }
                : function (e) {
                    return e.nodeName && e.nodeName.toLowerCase() === t;
                  };
            },
            CLASS: function (e) {
              var t = h[e + " "];
              return (
                t ||
                ((t = new RegExp("(^|" + L + ")" + e + "(" + L + "|$)")) &&
                  h(e, function (e) {
                    return t.test(
                      ("string" == typeof e.className && e.className) ||
                        (void 0 !== e.getAttribute &&
                          e.getAttribute("class")) ||
                        ""
                    );
                  }))
              );
            },
            ATTR: function (n, i, r) {
              return function (e) {
                var t = oe.attr(e, n);
                return null == t
                  ? "!=" === i
                  : !i ||
                      ((t += ""),
                      "=" === i
                        ? t === r
                        : "!=" === i
                        ? t !== r
                        : "^=" === i
                        ? r && 0 === t.indexOf(r)
                        : "*=" === i
                        ? r && -1 < t.indexOf(r)
                        : "$=" === i
                        ? r && t.slice(-r.length) === r
                        : "~=" === i
                        ? -1 < (" " + t.replace(B, " ") + " ").indexOf(r)
                        : "|=" === i &&
                          (t === r || t.slice(0, r.length + 1) === r + "-"));
              };
            },
            CHILD: function (p, e, t, g, m) {
              var v = "nth" !== p.slice(0, 3),
                b = "last" !== p.slice(-4),
                y = "of-type" === e;
              return 1 === g && 0 === m
                ? function (e) {
                    return !!e.parentNode;
                  }
                : function (e, t, n) {
                    var i,
                      r,
                      o,
                      a,
                      s,
                      u,
                      l = v !== b ? "nextSibling" : "previousSibling",
                      c = e.parentNode,
                      d = y && e.nodeName.toLowerCase(),
                      h = !n && !y,
                      f = !1;
                    if (c) {
                      if (v) {
                        for (; l; ) {
                          for (a = e; (a = a[l]); )
                            if (
                              y
                                ? a.nodeName.toLowerCase() === d
                                : 1 === a.nodeType
                            )
                              return !1;
                          u = l = "only" === p && !u && "nextSibling";
                        }
                        return !0;
                      }
                      if (((u = [b ? c.firstChild : c.lastChild]), b && h)) {
                        for (
                          f =
                            (s =
                              (i =
                                (r =
                                  (o = (a = c)[S] || (a[S] = {}))[a.uniqueID] ||
                                  (o[a.uniqueID] = {}))[p] || [])[0] === E &&
                              i[1]) && i[2],
                            a = s && c.childNodes[s];
                          (a = (++s && a && a[l]) || (f = s = 0) || u.pop());

                        )
                          if (1 === a.nodeType && ++f && a === e) {
                            r[p] = [E, s, f];
                            break;
                          }
                      } else if (
                        (h &&
                          (f = s =
                            (i =
                              (r =
                                (o = (a = e)[S] || (a[S] = {}))[a.uniqueID] ||
                                (o[a.uniqueID] = {}))[p] || [])[0] === E &&
                            i[1]),
                        !1 === f)
                      )
                        for (
                          ;
                          (a = (++s && a && a[l]) || (f = s = 0) || u.pop()) &&
                          ((y
                            ? a.nodeName.toLowerCase() !== d
                            : 1 !== a.nodeType) ||
                            !++f ||
                            (h &&
                              ((r =
                                (o = a[S] || (a[S] = {}))[a.uniqueID] ||
                                (o[a.uniqueID] = {}))[p] = [E, f]),
                            a !== e));

                        );
                      return (f -= m) === g || (f % g == 0 && 0 <= f / g);
                    }
                  };
            },
            PSEUDO: function (e, o) {
              var t,
                a =
                  w.pseudos[e] ||
                  w.setFilters[e.toLowerCase()] ||
                  oe.error("unsupported pseudo: " + e);
              return a[S]
                ? a(o)
                : 1 < a.length
                ? ((t = [e, e, "", o]),
                  w.setFilters.hasOwnProperty(e.toLowerCase())
                    ? se(function (e, t) {
                        for (var n, i = a(e, o), r = i.length; r--; )
                          e[(n = A(e, i[r]))] = !(t[n] = i[r]);
                      })
                    : function (e) {
                        return a(e, 0, t);
                      })
                : a;
            },
          },
          pseudos: {
            not: se(function (e) {
              var i = [],
                r = [],
                s = d(e.replace(V, "$1"));
              return s[S]
                ? se(function (e, t, n, i) {
                    for (var r, o = s(e, null, i, []), a = e.length; a--; )
                      (r = o[a]) && (e[a] = !(t[a] = r));
                  })
                : function (e, t, n) {
                    return (
                      (i[0] = e), s(i, null, n, r), (i[0] = null), !r.pop()
                    );
                  };
            }),
            has: se(function (t) {
              return function (e) {
                return 0 < oe(t, e).length;
              };
            }),
            contains: se(function (t) {
              return (
                (t = t.replace(Z, ee)),
                function (e) {
                  return -1 < (e.textContent || e.innerText || o(e)).indexOf(t);
                }
              );
            }),
            lang: se(function (n) {
              return (
                G.test(n || "") || oe.error("unsupported lang: " + n),
                (n = n.replace(Z, ee).toLowerCase()),
                function (e) {
                  var t;
                  do {
                    if (
                      (t = C
                        ? e.lang
                        : e.getAttribute("xml:lang") || e.getAttribute("lang"))
                    )
                      return (
                        (t = t.toLowerCase()) === n || 0 === t.indexOf(n + "-")
                      );
                  } while ((e = e.parentNode) && 1 === e.nodeType);
                  return !1;
                }
              );
            }),
            target: function (e) {
              var t = n.location && n.location.hash;
              return t && t.slice(1) === e.id;
            },
            root: function (e) {
              return e === a;
            },
            focus: function (e) {
              return (
                e === T.activeElement &&
                (!T.hasFocus || T.hasFocus()) &&
                !!(e.type || e.href || ~e.tabIndex)
              );
            },
            enabled: fe(!1),
            disabled: fe(!0),
            checked: function (e) {
              var t = e.nodeName.toLowerCase();
              return (
                ("input" === t && !!e.checked) ||
                ("option" === t && !!e.selected)
              );
            },
            selected: function (e) {
              return (
                e.parentNode && e.parentNode.selectedIndex, !0 === e.selected
              );
            },
            empty: function (e) {
              for (e = e.firstChild; e; e = e.nextSibling)
                if (e.nodeType < 6) return !1;
              return !0;
            },
            parent: function (e) {
              return !w.pseudos.empty(e);
            },
            header: function (e) {
              return X.test(e.nodeName);
            },
            input: function (e) {
              return $.test(e.nodeName);
            },
            button: function (e) {
              var t = e.nodeName.toLowerCase();
              return ("input" === t && "button" === e.type) || "button" === t;
            },
            text: function (e) {
              var t;
              return (
                "input" === e.nodeName.toLowerCase() &&
                "text" === e.type &&
                (null == (t = e.getAttribute("type")) ||
                  "text" === t.toLowerCase())
              );
            },
            first: pe(function () {
              return [0];
            }),
            last: pe(function (e, t) {
              return [t - 1];
            }),
            eq: pe(function (e, t, n) {
              return [n < 0 ? n + t : n];
            }),
            even: pe(function (e, t) {
              for (var n = 0; n < t; n += 2) e.push(n);
              return e;
            }),
            odd: pe(function (e, t) {
              for (var n = 1; n < t; n += 2) e.push(n);
              return e;
            }),
            lt: pe(function (e, t, n) {
              for (var i = n < 0 ? n + t : n; 0 <= --i; ) e.push(i);
              return e;
            }),
            gt: pe(function (e, t, n) {
              for (var i = n < 0 ? n + t : n; ++i < t; ) e.push(i);
              return e;
            }),
          },
        }).pseudos.nth = w.pseudos.eq),
      { radio: !0, checkbox: !0, file: !0, password: !0, image: !0 }))
        w.pseudos[e] = de(e);
      for (e in { submit: !0, reset: !0 }) w.pseudos[e] = he(e);
      function me() {}
      function ve(e) {
        for (var t = 0, n = e.length, i = ""; t < n; t++) i += e[t].value;
        return i;
      }
      function be(s, e, t) {
        var u = e.dir,
          l = e.next,
          c = l || u,
          d = t && "parentNode" === c,
          h = i++;
        return e.first
          ? function (e, t, n) {
              for (; (e = e[u]); ) if (1 === e.nodeType || d) return s(e, t, n);
              return !1;
            }
          : function (e, t, n) {
              var i,
                r,
                o,
                a = [E, h];
              if (n) {
                for (; (e = e[u]); )
                  if ((1 === e.nodeType || d) && s(e, t, n)) return !0;
              } else
                for (; (e = e[u]); )
                  if (1 === e.nodeType || d)
                    if (
                      ((r =
                        (o = e[S] || (e[S] = {}))[e.uniqueID] ||
                        (o[e.uniqueID] = {})),
                      l && l === e.nodeName.toLowerCase())
                    )
                      e = e[u] || e;
                    else {
                      if ((i = r[c]) && i[0] === E && i[1] === h)
                        return (a[2] = i[2]);
                      if (((r[c] = a)[2] = s(e, t, n))) return !0;
                    }
              return !1;
            };
      }
      function ye(r) {
        return 1 < r.length
          ? function (e, t, n) {
              for (var i = r.length; i--; ) if (!r[i](e, t, n)) return !1;
              return !0;
            }
          : r[0];
      }
      function we(e, t, n, i, r) {
        for (var o, a = [], s = 0, u = e.length, l = null != t; s < u; s++)
          (o = e[s]) && ((n && !n(o, i, r)) || (a.push(o), l && t.push(s)));
        return a;
      }
      function _e(f, p, g, m, v, e) {
        return (
          m && !m[S] && (m = _e(m)),
          v && !v[S] && (v = _e(v, e)),
          se(function (e, t, n, i) {
            var r,
              o,
              a,
              s = [],
              u = [],
              l = t.length,
              c =
                e ||
                (function (e, t, n) {
                  for (var i = 0, r = t.length; i < r; i++) oe(e, t[i], n);
                  return n;
                })(p || "*", n.nodeType ? [n] : n, []),
              d = !f || (!e && p) ? c : we(c, s, f, n, i),
              h = g ? (v || (e ? f : l || m) ? [] : t) : d;
            if ((g && g(d, h, n, i), m))
              for (r = we(h, u), m(r, [], n, i), o = r.length; o--; )
                (a = r[o]) && (h[u[o]] = !(d[u[o]] = a));
            if (e) {
              if (v || f) {
                if (v) {
                  for (r = [], o = h.length; o--; )
                    (a = h[o]) && r.push((d[o] = a));
                  v(null, (h = []), r, i);
                }
                for (o = h.length; o--; )
                  (a = h[o]) &&
                    -1 < (r = v ? A(e, a) : s[o]) &&
                    (e[r] = !(t[r] = a));
              }
            } else (h = we(h === t ? h.splice(l, h.length) : h)), v ? v(null, t, h, i) : I.apply(t, h);
          })
        );
      }
      function xe(e) {
        for (
          var r,
            t,
            n,
            i = e.length,
            o = w.relative[e[0].type],
            a = o || w.relative[" "],
            s = o ? 1 : 0,
            u = be(
              function (e) {
                return e === r;
              },
              a,
              !0
            ),
            l = be(
              function (e) {
                return -1 < A(r, e);
              },
              a,
              !0
            ),
            c = [
              function (e, t, n) {
                var i =
                  (!o && (n || t !== _)) ||
                  ((r = t).nodeType ? u(e, t, n) : l(e, t, n));
                return (r = null), i;
              },
            ];
          s < i;
          s++
        )
          if ((t = w.relative[e[s].type])) c = [be(ye(c), t)];
          else {
            if ((t = w.filter[e[s].type].apply(null, e[s].matches))[S]) {
              for (n = ++s; n < i && !w.relative[e[n].type]; n++);
              return _e(
                1 < s && ye(c),
                1 < s &&
                  ve(
                    e
                      .slice(0, s - 1)
                      .concat({ value: " " === e[s - 2].type ? "*" : "" })
                  ).replace(V, "$1"),
                t,
                s < n && xe(e.slice(s, n)),
                n < i && xe((e = e.slice(n))),
                n < i && ve(e)
              );
            }
            c.push(t);
          }
        return ye(c);
      }
      return (
        (me.prototype = w.filters = w.pseudos),
        (w.setFilters = new me()),
        (p = oe.tokenize =
          function (e, t) {
            var n,
              i,
              r,
              o,
              a,
              s,
              u,
              l = y[e + " "];
            if (l) return t ? 0 : l.slice(0);
            for (a = e, s = [], u = w.preFilter; a; ) {
              for (o in ((n && !(i = q.exec(a))) ||
                (i && (a = a.slice(i[0].length) || a), s.push((r = []))),
              (n = !1),
              (i = W.exec(a)) &&
                ((n = i.shift()),
                r.push({ value: n, type: i[0].replace(V, " ") }),
                (a = a.slice(n.length))),
              w.filter))
                !(i = K[o].exec(a)) ||
                  (u[o] && !(i = u[o](i))) ||
                  ((n = i.shift()),
                  r.push({ value: n, type: o, matches: i }),
                  (a = a.slice(n.length)));
              if (!n) break;
            }
            return t ? a.length : a ? oe.error(e) : y(e, s).slice(0);
          }),
        (d = oe.compile =
          function (e, t) {
            var n,
              m,
              v,
              b,
              y,
              i,
              r = [],
              o = [],
              a = D[e + " "];
            if (!a) {
              for (t || (t = p(e)), n = t.length; n--; )
                (a = xe(t[n]))[S] ? r.push(a) : o.push(a);
              (a = D(
                e,
                ((m = o),
                (b = 0 < (v = r).length),
                (y = 0 < m.length),
                (i = function (e, t, n, i, r) {
                  var o,
                    a,
                    s,
                    u = 0,
                    l = "0",
                    c = e && [],
                    d = [],
                    h = _,
                    f = e || (y && w.find.TAG("*", r)),
                    p = (E += null == h ? 1 : Math.random() || 0.1),
                    g = f.length;
                  for (
                    r && (_ = t === T || t || r);
                    l !== g && null != (o = f[l]);
                    l++
                  ) {
                    if (y && o) {
                      for (
                        a = 0, t || o.ownerDocument === T || (x(o), (n = !C));
                        (s = m[a++]);

                      )
                        if (s(o, t || T, n)) {
                          i.push(o);
                          break;
                        }
                      r && (E = p);
                    }
                    b && ((o = !s && o) && u--, e && c.push(o));
                  }
                  if (((u += l), b && l !== u)) {
                    for (a = 0; (s = v[a++]); ) s(c, d, t, n);
                    if (e) {
                      if (0 < u)
                        for (; l--; ) c[l] || d[l] || (d[l] = j.call(i));
                      d = we(d);
                    }
                    I.apply(i, d),
                      r &&
                        !e &&
                        0 < d.length &&
                        1 < u + v.length &&
                        oe.uniqueSort(i);
                  }
                  return r && ((E = p), (_ = h)), c;
                }),
                b ? se(i) : i)
              )).selector = e;
            }
            return a;
          }),
        (g = oe.select =
          function (e, t, n, i) {
            var r,
              o,
              a,
              s,
              u,
              l = "function" == typeof e && e,
              c = !i && p((e = l.selector || e));
            if (((n = n || []), 1 === c.length)) {
              if (
                2 < (o = c[0] = c[0].slice(0)).length &&
                "ID" === (a = o[0]).type &&
                9 === t.nodeType &&
                C &&
                w.relative[o[1].type]
              ) {
                if (!(t = (w.find.ID(a.matches[0].replace(Z, ee), t) || [])[0]))
                  return n;
                l && (t = t.parentNode), (e = e.slice(o.shift().value.length));
              }
              for (
                r = K.needsContext.test(e) ? 0 : o.length;
                r-- && ((a = o[r]), !w.relative[(s = a.type)]);

              )
                if (
                  (u = w.find[s]) &&
                  (i = u(
                    a.matches[0].replace(Z, ee),
                    (Y.test(o[0].type) && ge(t.parentNode)) || t
                  ))
                ) {
                  if ((o.splice(r, 1), !(e = i.length && ve(o))))
                    return I.apply(n, i), n;
                  break;
                }
            }
            return (
              (l || d(e, c))(
                i,
                t,
                !C,
                n,
                !t || (Y.test(e) && ge(t.parentNode)) || t
              ),
              n
            );
          }),
        (f.sortStable = S.split("").sort(O).join("") === S),
        (f.detectDuplicates = !!l),
        x(),
        (f.sortDetached = ue(function (e) {
          return 1 & e.compareDocumentPosition(T.createElement("fieldset"));
        })),
        ue(function (e) {
          return (
            (e.innerHTML = "<a href='#'></a>"),
            "#" === e.firstChild.getAttribute("href")
          );
        }) ||
          le("type|href|height|width", function (e, t, n) {
            if (!n)
              return e.getAttribute(t, "type" === t.toLowerCase() ? 1 : 2);
          }),
        (f.attributes &&
          ue(function (e) {
            return (
              (e.innerHTML = "<input/>"),
              e.firstChild.setAttribute("value", ""),
              "" === e.firstChild.getAttribute("value")
            );
          })) ||
          le("value", function (e, t, n) {
            if (!n && "input" === e.nodeName.toLowerCase())
              return e.defaultValue;
          }),
        ue(function (e) {
          return null == e.getAttribute("disabled");
        }) ||
          le(N, function (e, t, n) {
            var i;
            if (!n)
              return !0 === e[t]
                ? t.toLowerCase()
                : (i = e.getAttributeNode(t)) && i.specified
                ? i.value
                : null;
          }),
        oe
      );
    })(T);
    (S.find = f),
      (S.expr = f.selectors),
      (S.expr[":"] = S.expr.pseudos),
      (S.uniqueSort = S.unique = f.uniqueSort),
      (S.text = f.getText),
      (S.isXMLDoc = f.isXML),
      (S.contains = f.contains),
      (S.escapeSelector = f.escape);
    var p = function (e, t, n) {
        for (var i = [], r = void 0 !== n; (e = e[t]) && 9 !== e.nodeType; )
          if (1 === e.nodeType) {
            if (r && S(e).is(n)) break;
            i.push(e);
          }
        return i;
      },
      x = function (e, t) {
        for (var n = []; e; e = e.nextSibling)
          1 === e.nodeType && e !== t && n.push(e);
        return n;
      },
      E = S.expr.match.needsContext;
    function D(e, t) {
      return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase();
    }
    var O = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;
    function M(e, n, i) {
      return b(n)
        ? S.grep(e, function (e, t) {
            return !!n.call(e, t, e) !== i;
          })
        : n.nodeType
        ? S.grep(e, function (e) {
            return (e === n) !== i;
          })
        : "string" != typeof n
        ? S.grep(e, function (e) {
            return -1 < r.call(n, e) !== i;
          })
        : S.filter(n, e, i);
    }
    (S.filter = function (e, t, n) {
      var i = t[0];
      return (
        n && (e = ":not(" + e + ")"),
        1 === t.length && 1 === i.nodeType
          ? S.find.matchesSelector(i, e)
            ? [i]
            : []
          : S.find.matches(
              e,
              S.grep(t, function (e) {
                return 1 === e.nodeType;
              })
            )
      );
    }),
      S.fn.extend({
        find: function (e) {
          var t,
            n,
            i = this.length,
            r = this;
          if ("string" != typeof e)
            return this.pushStack(
              S(e).filter(function () {
                for (t = 0; t < i; t++) if (S.contains(r[t], this)) return !0;
              })
            );
          for (n = this.pushStack([]), t = 0; t < i; t++) S.find(e, r[t], n);
          return 1 < i ? S.uniqueSort(n) : n;
        },
        filter: function (e) {
          return this.pushStack(M(this, e || [], !1));
        },
        not: function (e) {
          return this.pushStack(M(this, e || [], !0));
        },
        is: function (e) {
          return !!M(
            this,
            "string" == typeof e && E.test(e) ? S(e) : e || [],
            !1
          ).length;
        },
      });
    var j,
      P = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;
    ((S.fn.init = function (e, t, n) {
      var i, r;
      if (!e) return this;
      if (((n = n || j), "string" == typeof e)) {
        if (
          !(i =
            "<" === e[0] && ">" === e[e.length - 1] && 3 <= e.length
              ? [null, e, null]
              : P.exec(e)) ||
          (!i[1] && t)
        )
          return !t || t.jquery
            ? (t || n).find(e)
            : this.constructor(t).find(e);
        if (i[1]) {
          if (
            ((t = t instanceof S ? t[0] : t),
            S.merge(
              this,
              S.parseHTML(i[1], t && t.nodeType ? t.ownerDocument || t : C, !0)
            ),
            O.test(i[1]) && S.isPlainObject(t))
          )
            for (i in t) b(this[i]) ? this[i](t[i]) : this.attr(i, t[i]);
          return this;
        }
        return (
          (r = C.getElementById(i[2])) && ((this[0] = r), (this.length = 1)),
          this
        );
      }
      return e.nodeType
        ? ((this[0] = e), (this.length = 1), this)
        : b(e)
        ? void 0 !== n.ready
          ? n.ready(e)
          : e(S)
        : S.makeArray(e, this);
    }).prototype = S.fn),
      (j = S(C));
    var I = /^(?:parents|prev(?:Until|All))/,
      k = { children: !0, contents: !0, next: !0, prev: !0 };
    function A(e, t) {
      for (; (e = e[t]) && 1 !== e.nodeType; );
      return e;
    }
    S.fn.extend({
      has: function (e) {
        var t = S(e, this),
          n = t.length;
        return this.filter(function () {
          for (var e = 0; e < n; e++) if (S.contains(this, t[e])) return !0;
        });
      },
      closest: function (e, t) {
        var n,
          i = 0,
          r = this.length,
          o = [],
          a = "string" != typeof e && S(e);
        if (!E.test(e))
          for (; i < r; i++)
            for (n = this[i]; n && n !== t; n = n.parentNode)
              if (
                n.nodeType < 11 &&
                (a
                  ? -1 < a.index(n)
                  : 1 === n.nodeType && S.find.matchesSelector(n, e))
              ) {
                o.push(n);
                break;
              }
        return this.pushStack(1 < o.length ? S.uniqueSort(o) : o);
      },
      index: function (e) {
        return e
          ? "string" == typeof e
            ? r.call(S(e), this[0])
            : r.call(this, e.jquery ? e[0] : e)
          : this[0] && this[0].parentNode
          ? this.first().prevAll().length
          : -1;
      },
      add: function (e, t) {
        return this.pushStack(S.uniqueSort(S.merge(this.get(), S(e, t))));
      },
      addBack: function (e) {
        return this.add(
          null == e ? this.prevObject : this.prevObject.filter(e)
        );
      },
    }),
      S.each(
        {
          parent: function (e) {
            var t = e.parentNode;
            return t && 11 !== t.nodeType ? t : null;
          },
          parents: function (e) {
            return p(e, "parentNode");
          },
          parentsUntil: function (e, t, n) {
            return p(e, "parentNode", n);
          },
          next: function (e) {
            return A(e, "nextSibling");
          },
          prev: function (e) {
            return A(e, "previousSibling");
          },
          nextAll: function (e) {
            return p(e, "nextSibling");
          },
          prevAll: function (e) {
            return p(e, "previousSibling");
          },
          nextUntil: function (e, t, n) {
            return p(e, "nextSibling", n);
          },
          prevUntil: function (e, t, n) {
            return p(e, "previousSibling", n);
          },
          siblings: function (e) {
            return x((e.parentNode || {}).firstChild, e);
          },
          children: function (e) {
            return x(e.firstChild);
          },
          contents: function (e) {
            return D(e, "iframe")
              ? e.contentDocument
              : (D(e, "template") && (e = e.content || e),
                S.merge([], e.childNodes));
          },
        },
        function (i, r) {
          S.fn[i] = function (e, t) {
            var n = S.map(this, r, e);
            return (
              "Until" !== i.slice(-5) && (t = e),
              t && "string" == typeof t && (n = S.filter(t, n)),
              1 < this.length &&
                (k[i] || S.uniqueSort(n), I.test(i) && n.reverse()),
              this.pushStack(n)
            );
          };
        }
      );
    var N = /[^\x20\t\r\n\f]+/g;
    function L(e) {
      return e;
    }
    function R(e) {
      throw e;
    }
    function H(e, t, n, i) {
      var r;
      try {
        e && b((r = e.promise))
          ? r.call(e).done(t).fail(n)
          : e && b((r = e.then))
          ? r.call(e, t, n)
          : t.apply(void 0, [e].slice(i));
      } catch (e) {
        n.apply(void 0, [e]);
      }
    }
    (S.Callbacks = function (i) {
      var e, n;
      i =
        "string" == typeof i
          ? ((e = i),
            (n = {}),
            S.each(e.match(N) || [], function (e, t) {
              n[t] = !0;
            }),
            n)
          : S.extend({}, i);
      var r,
        t,
        o,
        a,
        s = [],
        u = [],
        l = -1,
        c = function () {
          for (a = a || i.once, o = r = !0; u.length; l = -1)
            for (t = u.shift(); ++l < s.length; )
              !1 === s[l].apply(t[0], t[1]) &&
                i.stopOnFalse &&
                ((l = s.length), (t = !1));
          i.memory || (t = !1), (r = !1), a && (s = t ? [] : "");
        },
        d = {
          add: function () {
            return (
              s &&
                (t && !r && ((l = s.length - 1), u.push(t)),
                (function n(e) {
                  S.each(e, function (e, t) {
                    b(t)
                      ? (i.unique && d.has(t)) || s.push(t)
                      : t && t.length && "string" !== _(t) && n(t);
                  });
                })(arguments),
                t && !r && c()),
              this
            );
          },
          remove: function () {
            return (
              S.each(arguments, function (e, t) {
                for (var n; -1 < (n = S.inArray(t, s, n)); )
                  s.splice(n, 1), n <= l && l--;
              }),
              this
            );
          },
          has: function (e) {
            return e ? -1 < S.inArray(e, s) : 0 < s.length;
          },
          empty: function () {
            return s && (s = []), this;
          },
          disable: function () {
            return (a = u = []), (s = t = ""), this;
          },
          disabled: function () {
            return !s;
          },
          lock: function () {
            return (a = u = []), t || r || (s = t = ""), this;
          },
          locked: function () {
            return !!a;
          },
          fireWith: function (e, t) {
            return (
              a ||
                ((t = [e, (t = t || []).slice ? t.slice() : t]),
                u.push(t),
                r || c()),
              this
            );
          },
          fire: function () {
            return d.fireWith(this, arguments), this;
          },
          fired: function () {
            return !!o;
          },
        };
      return d;
    }),
      S.extend({
        Deferred: function (e) {
          var o = [
              [
                "notify",
                "progress",
                S.Callbacks("memory"),
                S.Callbacks("memory"),
                2,
              ],
              [
                "resolve",
                "done",
                S.Callbacks("once memory"),
                S.Callbacks("once memory"),
                0,
                "resolved",
              ],
              [
                "reject",
                "fail",
                S.Callbacks("once memory"),
                S.Callbacks("once memory"),
                1,
                "rejected",
              ],
            ],
            r = "pending",
            a = {
              state: function () {
                return r;
              },
              always: function () {
                return s.done(arguments).fail(arguments), this;
              },
              catch: function (e) {
                return a.then(null, e);
              },
              pipe: function () {
                var r = arguments;
                return S.Deferred(function (i) {
                  S.each(o, function (e, t) {
                    var n = b(r[t[4]]) && r[t[4]];
                    s[t[1]](function () {
                      var e = n && n.apply(this, arguments);
                      e && b(e.promise)
                        ? e
                            .promise()
                            .progress(i.notify)
                            .done(i.resolve)
                            .fail(i.reject)
                        : i[t[0] + "With"](this, n ? [e] : arguments);
                    });
                  }),
                    (r = null);
                }).promise();
              },
              then: function (t, n, i) {
                var u = 0;
                function l(r, o, a, s) {
                  return function () {
                    var n = this,
                      i = arguments,
                      e = function () {
                        var e, t;
                        if (!(r < u)) {
                          if ((e = a.apply(n, i)) === o.promise())
                            throw new TypeError("Thenable self-resolution");
                          (t =
                            e &&
                            ("object" == typeof e || "function" == typeof e) &&
                            e.then),
                            b(t)
                              ? s
                                ? t.call(e, l(u, o, L, s), l(u, o, R, s))
                                : (u++,
                                  t.call(
                                    e,
                                    l(u, o, L, s),
                                    l(u, o, R, s),
                                    l(u, o, L, o.notifyWith)
                                  ))
                              : (a !== L && ((n = void 0), (i = [e])),
                                (s || o.resolveWith)(n, i));
                        }
                      },
                      t = s
                        ? e
                        : function () {
                            try {
                              e();
                            } catch (e) {
                              S.Deferred.exceptionHook &&
                                S.Deferred.exceptionHook(e, t.stackTrace),
                                u <= r + 1 &&
                                  (a !== R && ((n = void 0), (i = [e])),
                                  o.rejectWith(n, i));
                            }
                          };
                    r
                      ? t()
                      : (S.Deferred.getStackHook &&
                          (t.stackTrace = S.Deferred.getStackHook()),
                        T.setTimeout(t));
                  };
                }
                return S.Deferred(function (e) {
                  o[0][3].add(l(0, e, b(i) ? i : L, e.notifyWith)),
                    o[1][3].add(l(0, e, b(t) ? t : L)),
                    o[2][3].add(l(0, e, b(n) ? n : R));
                }).promise();
              },
              promise: function (e) {
                return null != e ? S.extend(e, a) : a;
              },
            },
            s = {};
          return (
            S.each(o, function (e, t) {
              var n = t[2],
                i = t[5];
              (a[t[1]] = n.add),
                i &&
                  n.add(
                    function () {
                      r = i;
                    },
                    o[3 - e][2].disable,
                    o[3 - e][3].disable,
                    o[0][2].lock,
                    o[0][3].lock
                  ),
                n.add(t[3].fire),
                (s[t[0]] = function () {
                  return (
                    s[t[0] + "With"](this === s ? void 0 : this, arguments),
                    this
                  );
                }),
                (s[t[0] + "With"] = n.fireWith);
            }),
            a.promise(s),
            e && e.call(s, s),
            s
          );
        },
        when: function (e) {
          var n = arguments.length,
            t = n,
            i = Array(t),
            r = s.call(arguments),
            o = S.Deferred(),
            a = function (t) {
              return function (e) {
                (i[t] = this),
                  (r[t] = 1 < arguments.length ? s.call(arguments) : e),
                  --n || o.resolveWith(i, r);
              };
            };
          if (
            n <= 1 &&
            (H(e, o.done(a(t)).resolve, o.reject, !n),
            "pending" === o.state() || b(r[t] && r[t].then))
          )
            return o.then();
          for (; t--; ) H(r[t], a(t), o.reject);
          return o.promise();
        },
      });
    var F = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
    (S.Deferred.exceptionHook = function (e, t) {
      T.console &&
        T.console.warn &&
        e &&
        F.test(e.name) &&
        T.console.warn("jQuery.Deferred exception: " + e.message, e.stack, t);
    }),
      (S.readyException = function (e) {
        T.setTimeout(function () {
          throw e;
        });
      });
    var B = S.Deferred();
    function V() {
      C.removeEventListener("DOMContentLoaded", V),
        T.removeEventListener("load", V),
        S.ready();
    }
    (S.fn.ready = function (e) {
      return (
        B.then(e).catch(function (e) {
          S.readyException(e);
        }),
        this
      );
    }),
      S.extend({
        isReady: !1,
        readyWait: 1,
        ready: function (e) {
          (!0 === e ? --S.readyWait : S.isReady) ||
            ((S.isReady = !0) !== e && 0 < --S.readyWait) ||
            B.resolveWith(C, [S]);
        },
      }),
      (S.ready.then = B.then),
      "complete" === C.readyState ||
      ("loading" !== C.readyState && !C.documentElement.doScroll)
        ? T.setTimeout(S.ready)
        : (C.addEventListener("DOMContentLoaded", V),
          T.addEventListener("load", V));
    var q = function (e, t, n, i, r, o, a) {
        var s = 0,
          u = e.length,
          l = null == n;
        if ("object" === _(n))
          for (s in ((r = !0), n)) q(e, t, s, n[s], !0, o, a);
        else if (
          void 0 !== i &&
          ((r = !0),
          b(i) || (a = !0),
          l &&
            (a
              ? (t.call(e, i), (t = null))
              : ((l = t),
                (t = function (e, t, n) {
                  return l.call(S(e), n);
                }))),
          t)
        )
          for (; s < u; s++) t(e[s], n, a ? i : i.call(e[s], s, t(e[s], n)));
        return r ? e : l ? t.call(e) : u ? t(e[0], n) : o;
      },
      W = /^-ms-/,
      U = /-([a-z])/g;
    function z(e, t) {
      return t.toUpperCase();
    }
    function G(e) {
      return e.replace(W, "ms-").replace(U, z);
    }
    var K = function (e) {
      return 1 === e.nodeType || 9 === e.nodeType || !+e.nodeType;
    };
    function $() {
      this.expando = S.expando + $.uid++;
    }
    ($.uid = 1),
      ($.prototype = {
        cache: function (e) {
          var t = e[this.expando];
          return (
            t ||
              ((t = {}),
              K(e) &&
                (e.nodeType
                  ? (e[this.expando] = t)
                  : Object.defineProperty(e, this.expando, {
                      value: t,
                      configurable: !0,
                    }))),
            t
          );
        },
        set: function (e, t, n) {
          var i,
            r = this.cache(e);
          if ("string" == typeof t) r[G(t)] = n;
          else for (i in t) r[G(i)] = t[i];
          return r;
        },
        get: function (e, t) {
          return void 0 === t
            ? this.cache(e)
            : e[this.expando] && e[this.expando][G(t)];
        },
        access: function (e, t, n) {
          return void 0 === t || (t && "string" == typeof t && void 0 === n)
            ? this.get(e, t)
            : (this.set(e, t, n), void 0 !== n ? n : t);
        },
        remove: function (e, t) {
          var n,
            i = e[this.expando];
          if (void 0 !== i) {
            if (void 0 !== t) {
              n = (t = Array.isArray(t)
                ? t.map(G)
                : (t = G(t)) in i
                ? [t]
                : t.match(N) || []).length;
              for (; n--; ) delete i[t[n]];
            }
            (void 0 === t || S.isEmptyObject(i)) &&
              (e.nodeType
                ? (e[this.expando] = void 0)
                : delete e[this.expando]);
          }
        },
        hasData: function (e) {
          var t = e[this.expando];
          return void 0 !== t && !S.isEmptyObject(t);
        },
      });
    var X = new $(),
      J = new $(),
      Q = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
      Y = /[A-Z]/g;
    function Z(e, t, n) {
      var i, r;
      if (void 0 === n && 1 === e.nodeType)
        if (
          ((i = "data-" + t.replace(Y, "-$&").toLowerCase()),
          "string" == typeof (n = e.getAttribute(i)))
        ) {
          try {
            n =
              "true" === (r = n) ||
              ("false" !== r &&
                ("null" === r
                  ? null
                  : r === +r + ""
                  ? +r
                  : Q.test(r)
                  ? JSON.parse(r)
                  : r));
          } catch (e) {}
          J.set(e, t, n);
        } else n = void 0;
      return n;
    }
    S.extend({
      hasData: function (e) {
        return J.hasData(e) || X.hasData(e);
      },
      data: function (e, t, n) {
        return J.access(e, t, n);
      },
      removeData: function (e, t) {
        J.remove(e, t);
      },
      _data: function (e, t, n) {
        return X.access(e, t, n);
      },
      _removeData: function (e, t) {
        X.remove(e, t);
      },
    }),
      S.fn.extend({
        data: function (n, e) {
          var t,
            i,
            r,
            o = this[0],
            a = o && o.attributes;
          if (void 0 === n) {
            if (
              this.length &&
              ((r = J.get(o)), 1 === o.nodeType && !X.get(o, "hasDataAttrs"))
            ) {
              for (t = a.length; t--; )
                a[t] &&
                  0 === (i = a[t].name).indexOf("data-") &&
                  ((i = G(i.slice(5))), Z(o, i, r[i]));
              X.set(o, "hasDataAttrs", !0);
            }
            return r;
          }
          return "object" == typeof n
            ? this.each(function () {
                J.set(this, n);
              })
            : q(
                this,
                function (e) {
                  var t;
                  if (o && void 0 === e)
                    return void 0 !== (t = J.get(o, n))
                      ? t
                      : void 0 !== (t = Z(o, n))
                      ? t
                      : void 0;
                  this.each(function () {
                    J.set(this, n, e);
                  });
                },
                null,
                e,
                1 < arguments.length,
                null,
                !0
              );
        },
        removeData: function (e) {
          return this.each(function () {
            J.remove(this, e);
          });
        },
      }),
      S.extend({
        queue: function (e, t, n) {
          var i;
          if (e)
            return (
              (t = (t || "fx") + "queue"),
              (i = X.get(e, t)),
              n &&
                (!i || Array.isArray(n)
                  ? (i = X.access(e, t, S.makeArray(n)))
                  : i.push(n)),
              i || []
            );
        },
        dequeue: function (e, t) {
          t = t || "fx";
          var n = S.queue(e, t),
            i = n.length,
            r = n.shift(),
            o = S._queueHooks(e, t);
          "inprogress" === r && ((r = n.shift()), i--),
            r &&
              ("fx" === t && n.unshift("inprogress"),
              delete o.stop,
              r.call(
                e,
                function () {
                  S.dequeue(e, t);
                },
                o
              )),
            !i && o && o.empty.fire();
        },
        _queueHooks: function (e, t) {
          var n = t + "queueHooks";
          return (
            X.get(e, n) ||
            X.access(e, n, {
              empty: S.Callbacks("once memory").add(function () {
                X.remove(e, [t + "queue", n]);
              }),
            })
          );
        },
      }),
      S.fn.extend({
        queue: function (t, n) {
          var e = 2;
          return (
            "string" != typeof t && ((n = t), (t = "fx"), e--),
            arguments.length < e
              ? S.queue(this[0], t)
              : void 0 === n
              ? this
              : this.each(function () {
                  var e = S.queue(this, t, n);
                  S._queueHooks(this, t),
                    "fx" === t && "inprogress" !== e[0] && S.dequeue(this, t);
                })
          );
        },
        dequeue: function (e) {
          return this.each(function () {
            S.dequeue(this, e);
          });
        },
        clearQueue: function (e) {
          return this.queue(e || "fx", []);
        },
        promise: function (e, t) {
          var n,
            i = 1,
            r = S.Deferred(),
            o = this,
            a = this.length,
            s = function () {
              --i || r.resolveWith(o, [o]);
            };
          for (
            "string" != typeof e && ((t = e), (e = void 0)), e = e || "fx";
            a--;

          )
            (n = X.get(o[a], e + "queueHooks")) &&
              n.empty &&
              (i++, n.empty.add(s));
          return s(), r.promise(t);
        },
      });
    var ee = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
      te = new RegExp("^(?:([+-])=|)(" + ee + ")([a-z%]*)$", "i"),
      ne = ["Top", "Right", "Bottom", "Left"],
      ie = function (e, t) {
        return (
          "none" === (e = t || e).style.display ||
          ("" === e.style.display &&
            S.contains(e.ownerDocument, e) &&
            "none" === S.css(e, "display"))
        );
      },
      re = function (e, t, n, i) {
        var r,
          o,
          a = {};
        for (o in t) (a[o] = e.style[o]), (e.style[o] = t[o]);
        for (o in ((r = n.apply(e, i || [])), t)) e.style[o] = a[o];
        return r;
      };
    function oe(e, t, n, i) {
      var r,
        o,
        a = 20,
        s = i
          ? function () {
              return i.cur();
            }
          : function () {
              return S.css(e, t, "");
            },
        u = s(),
        l = (n && n[3]) || (S.cssNumber[t] ? "" : "px"),
        c = (S.cssNumber[t] || ("px" !== l && +u)) && te.exec(S.css(e, t));
      if (c && c[3] !== l) {
        for (u /= 2, l = l || c[3], c = +u || 1; a--; )
          S.style(e, t, c + l),
            (1 - o) * (1 - (o = s() / u || 0.5)) <= 0 && (a = 0),
            (c /= o);
        (c *= 2), S.style(e, t, c + l), (n = n || []);
      }
      return (
        n &&
          ((c = +c || +u || 0),
          (r = n[1] ? c + (n[1] + 1) * n[2] : +n[2]),
          i && ((i.unit = l), (i.start = c), (i.end = r))),
        r
      );
    }
    var ae = {};
    function se(e, t) {
      for (var n, i, r, o, a, s, u, l = [], c = 0, d = e.length; c < d; c++)
        (i = e[c]).style &&
          ((n = i.style.display),
          t
            ? ("none" === n &&
                ((l[c] = X.get(i, "display") || null),
                l[c] || (i.style.display = "")),
              "" === i.style.display &&
                ie(i) &&
                (l[c] =
                  ((u = a = o = void 0),
                  (a = (r = i).ownerDocument),
                  (s = r.nodeName),
                  (u = ae[s]) ||
                    ((o = a.body.appendChild(a.createElement(s))),
                    (u = S.css(o, "display")),
                    o.parentNode.removeChild(o),
                    "none" === u && (u = "block"),
                    (ae[s] = u)))))
            : "none" !== n && ((l[c] = "none"), X.set(i, "display", n)));
      for (c = 0; c < d; c++) null != l[c] && (e[c].style.display = l[c]);
      return e;
    }
    S.fn.extend({
      show: function () {
        return se(this, !0);
      },
      hide: function () {
        return se(this);
      },
      toggle: function (e) {
        return "boolean" == typeof e
          ? e
            ? this.show()
            : this.hide()
          : this.each(function () {
              ie(this) ? S(this).show() : S(this).hide();
            });
      },
    });
    var ue = /^(?:checkbox|radio)$/i,
      le = /<([a-z][^\/\0>\x20\t\r\n\f]+)/i,
      ce = /^$|^module$|\/(?:java|ecma)script/i,
      de = {
        option: [1, "<select multiple='multiple'>", "</select>"],
        thead: [1, "<table>", "</table>"],
        col: [2, "<table><colgroup>", "</colgroup></table>"],
        tr: [2, "<table><tbody>", "</tbody></table>"],
        td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
        _default: [0, "", ""],
      };
    function he(e, t) {
      var n;
      return (
        (n =
          void 0 !== e.getElementsByTagName
            ? e.getElementsByTagName(t || "*")
            : void 0 !== e.querySelectorAll
            ? e.querySelectorAll(t || "*")
            : []),
        void 0 === t || (t && D(e, t)) ? S.merge([e], n) : n
      );
    }
    function fe(e, t) {
      for (var n = 0, i = e.length; n < i; n++)
        X.set(e[n], "globalEval", !t || X.get(t[n], "globalEval"));
    }
    (de.optgroup = de.option),
      (de.tbody = de.tfoot = de.colgroup = de.caption = de.thead),
      (de.th = de.td);
    var pe,
      ge,
      me = /<|&#?\w+;/;
    function ve(e, t, n, i, r) {
      for (
        var o,
          a,
          s,
          u,
          l,
          c,
          d = t.createDocumentFragment(),
          h = [],
          f = 0,
          p = e.length;
        f < p;
        f++
      )
        if ((o = e[f]) || 0 === o)
          if ("object" === _(o)) S.merge(h, o.nodeType ? [o] : o);
          else if (me.test(o)) {
            for (
              a = a || d.appendChild(t.createElement("div")),
                s = (le.exec(o) || ["", ""])[1].toLowerCase(),
                u = de[s] || de._default,
                a.innerHTML = u[1] + S.htmlPrefilter(o) + u[2],
                c = u[0];
              c--;

            )
              a = a.lastChild;
            S.merge(h, a.childNodes), ((a = d.firstChild).textContent = "");
          } else h.push(t.createTextNode(o));
      for (d.textContent = "", f = 0; (o = h[f++]); )
        if (i && -1 < S.inArray(o, i)) r && r.push(o);
        else if (
          ((l = S.contains(o.ownerDocument, o)),
          (a = he(d.appendChild(o), "script")),
          l && fe(a),
          n)
        )
          for (c = 0; (o = a[c++]); ) ce.test(o.type || "") && n.push(o);
      return d;
    }
    (pe = C.createDocumentFragment().appendChild(C.createElement("div"))),
      (ge = C.createElement("input")).setAttribute("type", "radio"),
      ge.setAttribute("checked", "checked"),
      ge.setAttribute("name", "t"),
      pe.appendChild(ge),
      (v.checkClone = pe.cloneNode(!0).cloneNode(!0).lastChild.checked),
      (pe.innerHTML = "<textarea>x</textarea>"),
      (v.noCloneChecked = !!pe.cloneNode(!0).lastChild.defaultValue);
    var be = C.documentElement,
      ye = /^key/,
      we = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
      _e = /^([^.]*)(?:\.(.+)|)/;
    function xe() {
      return !0;
    }
    function Te() {
      return !1;
    }
    function Ce() {
      try {
        return C.activeElement;
      } catch (e) {}
    }
    function Se(e, t, n, i, r, o) {
      var a, s;
      if ("object" == typeof t) {
        for (s in ("string" != typeof n && ((i = i || n), (n = void 0)), t))
          Se(e, s, n, i, t[s], o);
        return e;
      }
      if (
        (null == i && null == r
          ? ((r = n), (i = n = void 0))
          : null == r &&
            ("string" == typeof n
              ? ((r = i), (i = void 0))
              : ((r = i), (i = n), (n = void 0))),
        !1 === r)
      )
        r = Te;
      else if (!r) return e;
      return (
        1 === o &&
          ((a = r),
          ((r = function (e) {
            return S().off(e), a.apply(this, arguments);
          }).guid = a.guid || (a.guid = S.guid++))),
        e.each(function () {
          S.event.add(this, t, r, i, n);
        })
      );
    }
    (S.event = {
      global: {},
      add: function (t, e, n, i, r) {
        var o,
          a,
          s,
          u,
          l,
          c,
          d,
          h,
          f,
          p,
          g,
          m = X.get(t);
        if (m)
          for (
            n.handler && ((n = (o = n).handler), (r = o.selector)),
              r && S.find.matchesSelector(be, r),
              n.guid || (n.guid = S.guid++),
              (u = m.events) || (u = m.events = {}),
              (a = m.handle) ||
                (a = m.handle =
                  function (e) {
                    return void 0 !== S && S.event.triggered !== e.type
                      ? S.event.dispatch.apply(t, arguments)
                      : void 0;
                  }),
              l = (e = (e || "").match(N) || [""]).length;
            l--;

          )
            (f = g = (s = _e.exec(e[l]) || [])[1]),
              (p = (s[2] || "").split(".").sort()),
              f &&
                ((d = S.event.special[f] || {}),
                (f = (r ? d.delegateType : d.bindType) || f),
                (d = S.event.special[f] || {}),
                (c = S.extend(
                  {
                    type: f,
                    origType: g,
                    data: i,
                    handler: n,
                    guid: n.guid,
                    selector: r,
                    needsContext: r && S.expr.match.needsContext.test(r),
                    namespace: p.join("."),
                  },
                  o
                )),
                (h = u[f]) ||
                  (((h = u[f] = []).delegateCount = 0),
                  (d.setup && !1 !== d.setup.call(t, i, p, a)) ||
                    (t.addEventListener && t.addEventListener(f, a))),
                d.add &&
                  (d.add.call(t, c),
                  c.handler.guid || (c.handler.guid = n.guid)),
                r ? h.splice(h.delegateCount++, 0, c) : h.push(c),
                (S.event.global[f] = !0));
      },
      remove: function (e, t, n, i, r) {
        var o,
          a,
          s,
          u,
          l,
          c,
          d,
          h,
          f,
          p,
          g,
          m = X.hasData(e) && X.get(e);
        if (m && (u = m.events)) {
          for (l = (t = (t || "").match(N) || [""]).length; l--; )
            if (
              ((f = g = (s = _e.exec(t[l]) || [])[1]),
              (p = (s[2] || "").split(".").sort()),
              f)
            ) {
              for (
                d = S.event.special[f] || {},
                  h = u[(f = (i ? d.delegateType : d.bindType) || f)] || [],
                  s =
                    s[2] &&
                    new RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)"),
                  a = o = h.length;
                o--;

              )
                (c = h[o]),
                  (!r && g !== c.origType) ||
                    (n && n.guid !== c.guid) ||
                    (s && !s.test(c.namespace)) ||
                    (i && i !== c.selector && ("**" !== i || !c.selector)) ||
                    (h.splice(o, 1),
                    c.selector && h.delegateCount--,
                    d.remove && d.remove.call(e, c));
              a &&
                !h.length &&
                ((d.teardown && !1 !== d.teardown.call(e, p, m.handle)) ||
                  S.removeEvent(e, f, m.handle),
                delete u[f]);
            } else for (f in u) S.event.remove(e, f + t[l], n, i, !0);
          S.isEmptyObject(u) && X.remove(e, "handle events");
        }
      },
      dispatch: function (e) {
        var t,
          n,
          i,
          r,
          o,
          a,
          s = S.event.fix(e),
          u = new Array(arguments.length),
          l = (X.get(this, "events") || {})[s.type] || [],
          c = S.event.special[s.type] || {};
        for (u[0] = s, t = 1; t < arguments.length; t++) u[t] = arguments[t];
        if (
          ((s.delegateTarget = this),
          !c.preDispatch || !1 !== c.preDispatch.call(this, s))
        ) {
          for (
            a = S.event.handlers.call(this, s, l), t = 0;
            (r = a[t++]) && !s.isPropagationStopped();

          )
            for (
              s.currentTarget = r.elem, n = 0;
              (o = r.handlers[n++]) && !s.isImmediatePropagationStopped();

            )
              (s.rnamespace && !s.rnamespace.test(o.namespace)) ||
                ((s.handleObj = o),
                (s.data = o.data),
                void 0 !==
                  (i = (
                    (S.event.special[o.origType] || {}).handle || o.handler
                  ).apply(r.elem, u)) &&
                  !1 === (s.result = i) &&
                  (s.preventDefault(), s.stopPropagation()));
          return c.postDispatch && c.postDispatch.call(this, s), s.result;
        }
      },
      handlers: function (e, t) {
        var n,
          i,
          r,
          o,
          a,
          s = [],
          u = t.delegateCount,
          l = e.target;
        if (u && l.nodeType && !("click" === e.type && 1 <= e.button))
          for (; l !== this; l = l.parentNode || this)
            if (1 === l.nodeType && ("click" !== e.type || !0 !== l.disabled)) {
              for (o = [], a = {}, n = 0; n < u; n++)
                void 0 === a[(r = (i = t[n]).selector + " ")] &&
                  (a[r] = i.needsContext
                    ? -1 < S(r, this).index(l)
                    : S.find(r, this, null, [l]).length),
                  a[r] && o.push(i);
              o.length && s.push({ elem: l, handlers: o });
            }
        return (
          (l = this),
          u < t.length && s.push({ elem: l, handlers: t.slice(u) }),
          s
        );
      },
      addProp: function (t, e) {
        Object.defineProperty(S.Event.prototype, t, {
          enumerable: !0,
          configurable: !0,
          get: b(e)
            ? function () {
                if (this.originalEvent) return e(this.originalEvent);
              }
            : function () {
                if (this.originalEvent) return this.originalEvent[t];
              },
          set: function (e) {
            Object.defineProperty(this, t, {
              enumerable: !0,
              configurable: !0,
              writable: !0,
              value: e,
            });
          },
        });
      },
      fix: function (e) {
        return e[S.expando] ? e : new S.Event(e);
      },
      special: {
        load: { noBubble: !0 },
        focus: {
          trigger: function () {
            if (this !== Ce() && this.focus) return this.focus(), !1;
          },
          delegateType: "focusin",
        },
        blur: {
          trigger: function () {
            if (this === Ce() && this.blur) return this.blur(), !1;
          },
          delegateType: "focusout",
        },
        click: {
          trigger: function () {
            if ("checkbox" === this.type && this.click && D(this, "input"))
              return this.click(), !1;
          },
          _default: function (e) {
            return D(e.target, "a");
          },
        },
        beforeunload: {
          postDispatch: function (e) {
            void 0 !== e.result &&
              e.originalEvent &&
              (e.originalEvent.returnValue = e.result);
          },
        },
      },
    }),
      (S.removeEvent = function (e, t, n) {
        e.removeEventListener && e.removeEventListener(t, n);
      }),
      (S.Event = function (e, t) {
        if (!(this instanceof S.Event)) return new S.Event(e, t);
        e && e.type
          ? ((this.originalEvent = e),
            (this.type = e.type),
            (this.isDefaultPrevented =
              e.defaultPrevented ||
              (void 0 === e.defaultPrevented && !1 === e.returnValue)
                ? xe
                : Te),
            (this.target =
              e.target && 3 === e.target.nodeType
                ? e.target.parentNode
                : e.target),
            (this.currentTarget = e.currentTarget),
            (this.relatedTarget = e.relatedTarget))
          : (this.type = e),
          t && S.extend(this, t),
          (this.timeStamp = (e && e.timeStamp) || Date.now()),
          (this[S.expando] = !0);
      }),
      (S.Event.prototype = {
        constructor: S.Event,
        isDefaultPrevented: Te,
        isPropagationStopped: Te,
        isImmediatePropagationStopped: Te,
        isSimulated: !1,
        preventDefault: function () {
          var e = this.originalEvent;
          (this.isDefaultPrevented = xe),
            e && !this.isSimulated && e.preventDefault();
        },
        stopPropagation: function () {
          var e = this.originalEvent;
          (this.isPropagationStopped = xe),
            e && !this.isSimulated && e.stopPropagation();
        },
        stopImmediatePropagation: function () {
          var e = this.originalEvent;
          (this.isImmediatePropagationStopped = xe),
            e && !this.isSimulated && e.stopImmediatePropagation(),
            this.stopPropagation();
        },
      }),
      S.each(
        {
          altKey: !0,
          bubbles: !0,
          cancelable: !0,
          changedTouches: !0,
          ctrlKey: !0,
          detail: !0,
          eventPhase: !0,
          metaKey: !0,
          pageX: !0,
          pageY: !0,
          shiftKey: !0,
          view: !0,
          char: !0,
          charCode: !0,
          key: !0,
          keyCode: !0,
          button: !0,
          buttons: !0,
          clientX: !0,
          clientY: !0,
          offsetX: !0,
          offsetY: !0,
          pointerId: !0,
          pointerType: !0,
          screenX: !0,
          screenY: !0,
          targetTouches: !0,
          toElement: !0,
          touches: !0,
          which: function (e) {
            var t = e.button;
            return null == e.which && ye.test(e.type)
              ? null != e.charCode
                ? e.charCode
                : e.keyCode
              : !e.which && void 0 !== t && we.test(e.type)
              ? 1 & t
                ? 1
                : 2 & t
                ? 3
                : 4 & t
                ? 2
                : 0
              : e.which;
          },
        },
        S.event.addProp
      ),
      S.each(
        {
          mouseenter: "mouseover",
          mouseleave: "mouseout",
          pointerenter: "pointerover",
          pointerleave: "pointerout",
        },
        function (e, r) {
          S.event.special[e] = {
            delegateType: r,
            bindType: r,
            handle: function (e) {
              var t,
                n = e.relatedTarget,
                i = e.handleObj;
              return (
                (n && (n === this || S.contains(this, n))) ||
                  ((e.type = i.origType),
                  (t = i.handler.apply(this, arguments)),
                  (e.type = r)),
                t
              );
            },
          };
        }
      ),
      S.fn.extend({
        on: function (e, t, n, i) {
          return Se(this, e, t, n, i);
        },
        one: function (e, t, n, i) {
          return Se(this, e, t, n, i, 1);
        },
        off: function (e, t, n) {
          var i, r;
          if (e && e.preventDefault && e.handleObj)
            return (
              (i = e.handleObj),
              S(e.delegateTarget).off(
                i.namespace ? i.origType + "." + i.namespace : i.origType,
                i.selector,
                i.handler
              ),
              this
            );
          if ("object" == typeof e) {
            for (r in e) this.off(r, t, e[r]);
            return this;
          }
          return (
            (!1 !== t && "function" != typeof t) || ((n = t), (t = void 0)),
            !1 === n && (n = Te),
            this.each(function () {
              S.event.remove(this, e, n, t);
            })
          );
        },
      });
    var Ee =
        /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,
      De = /<script|<style|<link/i,
      Oe = /checked\s*(?:[^=]|=\s*.checked.)/i,
      Me = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;
    function je(e, t) {
      return (
        (D(e, "table") &&
          D(11 !== t.nodeType ? t : t.firstChild, "tr") &&
          S(e).children("tbody")[0]) ||
        e
      );
    }
    function Pe(e) {
      return (e.type = (null !== e.getAttribute("type")) + "/" + e.type), e;
    }
    function Ie(e) {
      return (
        "true/" === (e.type || "").slice(0, 5)
          ? (e.type = e.type.slice(5))
          : e.removeAttribute("type"),
        e
      );
    }
    function ke(e, t) {
      var n, i, r, o, a, s, u, l;
      if (1 === t.nodeType) {
        if (
          X.hasData(e) &&
          ((o = X.access(e)), (a = X.set(t, o)), (l = o.events))
        )
          for (r in (delete a.handle, (a.events = {}), l))
            for (n = 0, i = l[r].length; n < i; n++) S.event.add(t, r, l[r][n]);
        J.hasData(e) && ((s = J.access(e)), (u = S.extend({}, s)), J.set(t, u));
      }
    }
    function Ae(n, i, r, o) {
      i = g.apply([], i);
      var e,
        t,
        a,
        s,
        u,
        l,
        c = 0,
        d = n.length,
        h = d - 1,
        f = i[0],
        p = b(f);
      if (p || (1 < d && "string" == typeof f && !v.checkClone && Oe.test(f)))
        return n.each(function (e) {
          var t = n.eq(e);
          p && (i[0] = f.call(this, e, t.html())), Ae(t, i, r, o);
        });
      if (
        d &&
        ((t = (e = ve(i, n[0].ownerDocument, !1, n, o)).firstChild),
        1 === e.childNodes.length && (e = t),
        t || o)
      ) {
        for (s = (a = S.map(he(e, "script"), Pe)).length; c < d; c++)
          (u = e),
            c !== h &&
              ((u = S.clone(u, !0, !0)), s && S.merge(a, he(u, "script"))),
            r.call(n[c], u, c);
        if (s)
          for (
            l = a[a.length - 1].ownerDocument, S.map(a, Ie), c = 0;
            c < s;
            c++
          )
            (u = a[c]),
              ce.test(u.type || "") &&
                !X.access(u, "globalEval") &&
                S.contains(l, u) &&
                (u.src && "module" !== (u.type || "").toLowerCase()
                  ? S._evalUrl && S._evalUrl(u.src)
                  : w(u.textContent.replace(Me, ""), l, u));
      }
      return n;
    }
    function Ne(e, t, n) {
      for (var i, r = t ? S.filter(t, e) : e, o = 0; null != (i = r[o]); o++)
        n || 1 !== i.nodeType || S.cleanData(he(i)),
          i.parentNode &&
            (n && S.contains(i.ownerDocument, i) && fe(he(i, "script")),
            i.parentNode.removeChild(i));
      return e;
    }
    S.extend({
      htmlPrefilter: function (e) {
        return e.replace(Ee, "<$1></$2>");
      },
      clone: function (e, t, n) {
        var i,
          r,
          o,
          a,
          s,
          u,
          l,
          c = e.cloneNode(!0),
          d = S.contains(e.ownerDocument, e);
        if (
          !(
            v.noCloneChecked ||
            (1 !== e.nodeType && 11 !== e.nodeType) ||
            S.isXMLDoc(e)
          )
        )
          for (a = he(c), i = 0, r = (o = he(e)).length; i < r; i++)
            (s = o[i]),
              (u = a[i]),
              void 0,
              "input" === (l = u.nodeName.toLowerCase()) && ue.test(s.type)
                ? (u.checked = s.checked)
                : ("input" !== l && "textarea" !== l) ||
                  (u.defaultValue = s.defaultValue);
        if (t)
          if (n)
            for (
              o = o || he(e), a = a || he(c), i = 0, r = o.length;
              i < r;
              i++
            )
              ke(o[i], a[i]);
          else ke(e, c);
        return (
          0 < (a = he(c, "script")).length && fe(a, !d && he(e, "script")), c
        );
      },
      cleanData: function (e) {
        for (
          var t, n, i, r = S.event.special, o = 0;
          void 0 !== (n = e[o]);
          o++
        )
          if (K(n)) {
            if ((t = n[X.expando])) {
              if (t.events)
                for (i in t.events)
                  r[i] ? S.event.remove(n, i) : S.removeEvent(n, i, t.handle);
              n[X.expando] = void 0;
            }
            n[J.expando] && (n[J.expando] = void 0);
          }
      },
    }),
      S.fn.extend({
        detach: function (e) {
          return Ne(this, e, !0);
        },
        remove: function (e) {
          return Ne(this, e);
        },
        text: function (e) {
          return q(
            this,
            function (e) {
              return void 0 === e
                ? S.text(this)
                : this.empty().each(function () {
                    (1 !== this.nodeType &&
                      11 !== this.nodeType &&
                      9 !== this.nodeType) ||
                      (this.textContent = e);
                  });
            },
            null,
            e,
            arguments.length
          );
        },
        append: function () {
          return Ae(this, arguments, function (e) {
            (1 !== this.nodeType &&
              11 !== this.nodeType &&
              9 !== this.nodeType) ||
              je(this, e).appendChild(e);
          });
        },
        prepend: function () {
          return Ae(this, arguments, function (e) {
            if (
              1 === this.nodeType ||
              11 === this.nodeType ||
              9 === this.nodeType
            ) {
              var t = je(this, e);
              t.insertBefore(e, t.firstChild);
            }
          });
        },
        before: function () {
          return Ae(this, arguments, function (e) {
            this.parentNode && this.parentNode.insertBefore(e, this);
          });
        },
        after: function () {
          return Ae(this, arguments, function (e) {
            this.parentNode &&
              this.parentNode.insertBefore(e, this.nextSibling);
          });
        },
        empty: function () {
          for (var e, t = 0; null != (e = this[t]); t++)
            1 === e.nodeType && (S.cleanData(he(e, !1)), (e.textContent = ""));
          return this;
        },
        clone: function (e, t) {
          return (
            (e = null != e && e),
            (t = null == t ? e : t),
            this.map(function () {
              return S.clone(this, e, t);
            })
          );
        },
        html: function (e) {
          return q(
            this,
            function (e) {
              var t = this[0] || {},
                n = 0,
                i = this.length;
              if (void 0 === e && 1 === t.nodeType) return t.innerHTML;
              if (
                "string" == typeof e &&
                !De.test(e) &&
                !de[(le.exec(e) || ["", ""])[1].toLowerCase()]
              ) {
                e = S.htmlPrefilter(e);
                try {
                  for (; n < i; n++)
                    1 === (t = this[n] || {}).nodeType &&
                      (S.cleanData(he(t, !1)), (t.innerHTML = e));
                  t = 0;
                } catch (e) {}
              }
              t && this.empty().append(e);
            },
            null,
            e,
            arguments.length
          );
        },
        replaceWith: function () {
          var n = [];
          return Ae(
            this,
            arguments,
            function (e) {
              var t = this.parentNode;
              S.inArray(this, n) < 0 &&
                (S.cleanData(he(this)), t && t.replaceChild(e, this));
            },
            n
          );
        },
      }),
      S.each(
        {
          appendTo: "append",
          prependTo: "prepend",
          insertBefore: "before",
          insertAfter: "after",
          replaceAll: "replaceWith",
        },
        function (e, a) {
          S.fn[e] = function (e) {
            for (var t, n = [], i = S(e), r = i.length - 1, o = 0; o <= r; o++)
              (t = o === r ? this : this.clone(!0)),
                S(i[o])[a](t),
                u.apply(n, t.get());
            return this.pushStack(n);
          };
        }
      );
    var Le = new RegExp("^(" + ee + ")(?!px)[a-z%]+$", "i"),
      Re = function (e) {
        var t = e.ownerDocument.defaultView;
        return (t && t.opener) || (t = T), t.getComputedStyle(e);
      },
      He = new RegExp(ne.join("|"), "i");
    function Fe(e, t, n) {
      var i,
        r,
        o,
        a,
        s = e.style;
      return (
        (n = n || Re(e)) &&
          ("" !== (a = n.getPropertyValue(t) || n[t]) ||
            S.contains(e.ownerDocument, e) ||
            (a = S.style(e, t)),
          !v.pixelBoxStyles() &&
            Le.test(a) &&
            He.test(t) &&
            ((i = s.width),
            (r = s.minWidth),
            (o = s.maxWidth),
            (s.minWidth = s.maxWidth = s.width = a),
            (a = n.width),
            (s.width = i),
            (s.minWidth = r),
            (s.maxWidth = o))),
        void 0 !== a ? a + "" : a
      );
    }
    function Be(e, t) {
      return {
        get: function () {
          if (!e()) return (this.get = t).apply(this, arguments);
          delete this.get;
        },
      };
    }
    !(function () {
      function e() {
        if (u) {
          (s.style.cssText =
            "position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0"),
            (u.style.cssText =
              "position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%"),
            be.appendChild(s).appendChild(u);
          var e = T.getComputedStyle(u);
          (n = "1%" !== e.top),
            (a = 12 === t(e.marginLeft)),
            (u.style.right = "60%"),
            (o = 36 === t(e.right)),
            (i = 36 === t(e.width)),
            (u.style.position = "absolute"),
            (r = 36 === u.offsetWidth || "absolute"),
            be.removeChild(s),
            (u = null);
        }
      }
      function t(e) {
        return Math.round(parseFloat(e));
      }
      var n,
        i,
        r,
        o,
        a,
        s = C.createElement("div"),
        u = C.createElement("div");
      u.style &&
        ((u.style.backgroundClip = "content-box"),
        (u.cloneNode(!0).style.backgroundClip = ""),
        (v.clearCloneStyle = "content-box" === u.style.backgroundClip),
        S.extend(v, {
          boxSizingReliable: function () {
            return e(), i;
          },
          pixelBoxStyles: function () {
            return e(), o;
          },
          pixelPosition: function () {
            return e(), n;
          },
          reliableMarginLeft: function () {
            return e(), a;
          },
          scrollboxSize: function () {
            return e(), r;
          },
        }));
    })();
    var Ve = /^(none|table(?!-c[ea]).+)/,
      qe = /^--/,
      We = { position: "absolute", visibility: "hidden", display: "block" },
      Ue = { letterSpacing: "0", fontWeight: "400" },
      ze = ["Webkit", "Moz", "ms"],
      Ge = C.createElement("div").style;
    function Ke(e) {
      var t = S.cssProps[e];
      return (
        t ||
          (t = S.cssProps[e] =
            (function (e) {
              if (e in Ge) return e;
              for (
                var t = e[0].toUpperCase() + e.slice(1), n = ze.length;
                n--;

              )
                if ((e = ze[n] + t) in Ge) return e;
            })(e) || e),
        t
      );
    }
    function $e(e, t, n) {
      var i = te.exec(t);
      return i ? Math.max(0, i[2] - (n || 0)) + (i[3] || "px") : t;
    }
    function Xe(e, t, n, i, r, o) {
      var a = "width" === t ? 1 : 0,
        s = 0,
        u = 0;
      if (n === (i ? "border" : "content")) return 0;
      for (; a < 4; a += 2)
        "margin" === n && (u += S.css(e, n + ne[a], !0, r)),
          i
            ? ("content" === n && (u -= S.css(e, "padding" + ne[a], !0, r)),
              "margin" !== n &&
                (u -= S.css(e, "border" + ne[a] + "Width", !0, r)))
            : ((u += S.css(e, "padding" + ne[a], !0, r)),
              "padding" !== n
                ? (u += S.css(e, "border" + ne[a] + "Width", !0, r))
                : (s += S.css(e, "border" + ne[a] + "Width", !0, r)));
      return (
        !i &&
          0 <= o &&
          (u += Math.max(
            0,
            Math.ceil(
              e["offset" + t[0].toUpperCase() + t.slice(1)] - o - u - s - 0.5
            )
          )),
        u
      );
    }
    function Je(e, t, n) {
      var i = Re(e),
        r = Fe(e, t, i),
        o = "border-box" === S.css(e, "boxSizing", !1, i),
        a = o;
      if (Le.test(r)) {
        if (!n) return r;
        r = "auto";
      }
      return (
        (a = a && (v.boxSizingReliable() || r === e.style[t])),
        ("auto" === r ||
          (!parseFloat(r) && "inline" === S.css(e, "display", !1, i))) &&
          ((r = e["offset" + t[0].toUpperCase() + t.slice(1)]), (a = !0)),
        (r = parseFloat(r) || 0) +
          Xe(e, t, n || (o ? "border" : "content"), a, i, r) +
          "px"
      );
    }
    function Qe(e, t, n, i, r) {
      return new Qe.prototype.init(e, t, n, i, r);
    }
    S.extend({
      cssHooks: {
        opacity: {
          get: function (e, t) {
            if (t) {
              var n = Fe(e, "opacity");
              return "" === n ? "1" : n;
            }
          },
        },
      },
      cssNumber: {
        animationIterationCount: !0,
        columnCount: !0,
        fillOpacity: !0,
        flexGrow: !0,
        flexShrink: !0,
        fontWeight: !0,
        lineHeight: !0,
        opacity: !0,
        order: !0,
        orphans: !0,
        widows: !0,
        zIndex: !0,
        zoom: !0,
      },
      cssProps: {},
      style: function (e, t, n, i) {
        if (e && 3 !== e.nodeType && 8 !== e.nodeType && e.style) {
          var r,
            o,
            a,
            s = G(t),
            u = qe.test(t),
            l = e.style;
          if (
            (u || (t = Ke(s)),
            (a = S.cssHooks[t] || S.cssHooks[s]),
            void 0 === n)
          )
            return a && "get" in a && void 0 !== (r = a.get(e, !1, i))
              ? r
              : l[t];
          "string" === (o = typeof n) &&
            (r = te.exec(n)) &&
            r[1] &&
            ((n = oe(e, t, r)), (o = "number")),
            null != n &&
              n == n &&
              ("number" === o &&
                (n += (r && r[3]) || (S.cssNumber[s] ? "" : "px")),
              v.clearCloneStyle ||
                "" !== n ||
                0 !== t.indexOf("background") ||
                (l[t] = "inherit"),
              (a && "set" in a && void 0 === (n = a.set(e, n, i))) ||
                (u ? l.setProperty(t, n) : (l[t] = n)));
        }
      },
      css: function (e, t, n, i) {
        var r,
          o,
          a,
          s = G(t);
        return (
          qe.test(t) || (t = Ke(s)),
          (a = S.cssHooks[t] || S.cssHooks[s]) &&
            "get" in a &&
            (r = a.get(e, !0, n)),
          void 0 === r && (r = Fe(e, t, i)),
          "normal" === r && t in Ue && (r = Ue[t]),
          "" === n || n
            ? ((o = parseFloat(r)), !0 === n || isFinite(o) ? o || 0 : r)
            : r
        );
      },
    }),
      S.each(["height", "width"], function (e, s) {
        S.cssHooks[s] = {
          get: function (e, t, n) {
            if (t)
              return !Ve.test(S.css(e, "display")) ||
                (e.getClientRects().length && e.getBoundingClientRect().width)
                ? Je(e, s, n)
                : re(e, We, function () {
                    return Je(e, s, n);
                  });
          },
          set: function (e, t, n) {
            var i,
              r = Re(e),
              o = "border-box" === S.css(e, "boxSizing", !1, r),
              a = n && Xe(e, s, n, o, r);
            return (
              o &&
                v.scrollboxSize() === r.position &&
                (a -= Math.ceil(
                  e["offset" + s[0].toUpperCase() + s.slice(1)] -
                    parseFloat(r[s]) -
                    Xe(e, s, "border", !1, r) -
                    0.5
                )),
              a &&
                (i = te.exec(t)) &&
                "px" !== (i[3] || "px") &&
                ((e.style[s] = t), (t = S.css(e, s))),
              $e(0, t, a)
            );
          },
        };
      }),
      (S.cssHooks.marginLeft = Be(v.reliableMarginLeft, function (e, t) {
        if (t)
          return (
            (parseFloat(Fe(e, "marginLeft")) ||
              e.getBoundingClientRect().left -
                re(e, { marginLeft: 0 }, function () {
                  return e.getBoundingClientRect().left;
                })) + "px"
          );
      })),
      S.each({ margin: "", padding: "", border: "Width" }, function (r, o) {
        (S.cssHooks[r + o] = {
          expand: function (e) {
            for (
              var t = 0, n = {}, i = "string" == typeof e ? e.split(" ") : [e];
              t < 4;
              t++
            )
              n[r + ne[t] + o] = i[t] || i[t - 2] || i[0];
            return n;
          },
        }),
          "margin" !== r && (S.cssHooks[r + o].set = $e);
      }),
      S.fn.extend({
        css: function (e, t) {
          return q(
            this,
            function (e, t, n) {
              var i,
                r,
                o = {},
                a = 0;
              if (Array.isArray(t)) {
                for (i = Re(e), r = t.length; a < r; a++)
                  o[t[a]] = S.css(e, t[a], !1, i);
                return o;
              }
              return void 0 !== n ? S.style(e, t, n) : S.css(e, t);
            },
            e,
            t,
            1 < arguments.length
          );
        },
      }),
      (((S.Tween = Qe).prototype = {
        constructor: Qe,
        init: function (e, t, n, i, r, o) {
          (this.elem = e),
            (this.prop = n),
            (this.easing = r || S.easing._default),
            (this.options = t),
            (this.start = this.now = this.cur()),
            (this.end = i),
            (this.unit = o || (S.cssNumber[n] ? "" : "px"));
        },
        cur: function () {
          var e = Qe.propHooks[this.prop];
          return e && e.get ? e.get(this) : Qe.propHooks._default.get(this);
        },
        run: function (e) {
          var t,
            n = Qe.propHooks[this.prop];
          return (
            this.options.duration
              ? (this.pos = t =
                  S.easing[this.easing](
                    e,
                    this.options.duration * e,
                    0,
                    1,
                    this.options.duration
                  ))
              : (this.pos = t = e),
            (this.now = (this.end - this.start) * t + this.start),
            this.options.step &&
              this.options.step.call(this.elem, this.now, this),
            n && n.set ? n.set(this) : Qe.propHooks._default.set(this),
            this
          );
        },
      }).init.prototype = Qe.prototype),
      ((Qe.propHooks = {
        _default: {
          get: function (e) {
            var t;
            return 1 !== e.elem.nodeType ||
              (null != e.elem[e.prop] && null == e.elem.style[e.prop])
              ? e.elem[e.prop]
              : (t = S.css(e.elem, e.prop, "")) && "auto" !== t
              ? t
              : 0;
          },
          set: function (e) {
            S.fx.step[e.prop]
              ? S.fx.step[e.prop](e)
              : 1 !== e.elem.nodeType ||
                (null == e.elem.style[S.cssProps[e.prop]] &&
                  !S.cssHooks[e.prop])
              ? (e.elem[e.prop] = e.now)
              : S.style(e.elem, e.prop, e.now + e.unit);
          },
        },
      }).scrollTop = Qe.propHooks.scrollLeft =
        {
          set: function (e) {
            e.elem.nodeType && e.elem.parentNode && (e.elem[e.prop] = e.now);
          },
        }),
      (S.easing = {
        linear: function (e) {
          return e;
        },
        swing: function (e) {
          return 0.5 - Math.cos(e * Math.PI) / 2;
        },
        _default: "swing",
      }),
      (S.fx = Qe.prototype.init),
      (S.fx.step = {});
    var Ye,
      Ze,
      et,
      tt,
      nt = /^(?:toggle|show|hide)$/,
      it = /queueHooks$/;
    function rt() {
      Ze &&
        (!1 === C.hidden && T.requestAnimationFrame
          ? T.requestAnimationFrame(rt)
          : T.setTimeout(rt, S.fx.interval),
        S.fx.tick());
    }
    function ot() {
      return (
        T.setTimeout(function () {
          Ye = void 0;
        }),
        (Ye = Date.now())
      );
    }
    function at(e, t) {
      var n,
        i = 0,
        r = { height: e };
      for (t = t ? 1 : 0; i < 4; i += 2 - t)
        r["margin" + (n = ne[i])] = r["padding" + n] = e;
      return t && (r.opacity = r.width = e), r;
    }
    function st(e, t, n) {
      for (
        var i,
          r = (ut.tweeners[t] || []).concat(ut.tweeners["*"]),
          o = 0,
          a = r.length;
        o < a;
        o++
      )
        if ((i = r[o].call(n, t, e))) return i;
    }
    function ut(o, e, t) {
      var n,
        a,
        i = 0,
        r = ut.prefilters.length,
        s = S.Deferred().always(function () {
          delete u.elem;
        }),
        u = function () {
          if (a) return !1;
          for (
            var e = Ye || ot(),
              t = Math.max(0, l.startTime + l.duration - e),
              n = 1 - (t / l.duration || 0),
              i = 0,
              r = l.tweens.length;
            i < r;
            i++
          )
            l.tweens[i].run(n);
          return (
            s.notifyWith(o, [l, n, t]),
            n < 1 && r
              ? t
              : (r || s.notifyWith(o, [l, 1, 0]), s.resolveWith(o, [l]), !1)
          );
        },
        l = s.promise({
          elem: o,
          props: S.extend({}, e),
          opts: S.extend(
            !0,
            { specialEasing: {}, easing: S.easing._default },
            t
          ),
          originalProperties: e,
          originalOptions: t,
          startTime: Ye || ot(),
          duration: t.duration,
          tweens: [],
          createTween: function (e, t) {
            var n = S.Tween(
              o,
              l.opts,
              e,
              t,
              l.opts.specialEasing[e] || l.opts.easing
            );
            return l.tweens.push(n), n;
          },
          stop: function (e) {
            var t = 0,
              n = e ? l.tweens.length : 0;
            if (a) return this;
            for (a = !0; t < n; t++) l.tweens[t].run(1);
            return (
              e
                ? (s.notifyWith(o, [l, 1, 0]), s.resolveWith(o, [l, e]))
                : s.rejectWith(o, [l, e]),
              this
            );
          },
        }),
        c = l.props;
      for (
        !(function (e, t) {
          var n, i, r, o, a;
          for (n in e)
            if (
              ((r = t[(i = G(n))]),
              (o = e[n]),
              Array.isArray(o) && ((r = o[1]), (o = e[n] = o[0])),
              n !== i && ((e[i] = o), delete e[n]),
              (a = S.cssHooks[i]) && ("expand" in a))
            )
              for (n in ((o = a.expand(o)), delete e[i], o))
                (n in e) || ((e[n] = o[n]), (t[n] = r));
            else t[i] = r;
        })(c, l.opts.specialEasing);
        i < r;
        i++
      )
        if ((n = ut.prefilters[i].call(l, o, c, l.opts)))
          return (
            b(n.stop) &&
              (S._queueHooks(l.elem, l.opts.queue).stop = n.stop.bind(n)),
            n
          );
      return (
        S.map(c, st, l),
        b(l.opts.start) && l.opts.start.call(o, l),
        l
          .progress(l.opts.progress)
          .done(l.opts.done, l.opts.complete)
          .fail(l.opts.fail)
          .always(l.opts.always),
        S.fx.timer(S.extend(u, { elem: o, anim: l, queue: l.opts.queue })),
        l
      );
    }
    (S.Animation = S.extend(ut, {
      tweeners: {
        "*": [
          function (e, t) {
            var n = this.createTween(e, t);
            return oe(n.elem, e, te.exec(t), n), n;
          },
        ],
      },
      tweener: function (e, t) {
        b(e) ? ((t = e), (e = ["*"])) : (e = e.match(N));
        for (var n, i = 0, r = e.length; i < r; i++)
          (n = e[i]),
            (ut.tweeners[n] = ut.tweeners[n] || []),
            ut.tweeners[n].unshift(t);
      },
      prefilters: [
        function (e, t, n) {
          var i,
            r,
            o,
            a,
            s,
            u,
            l,
            c,
            d = "width" in t || "height" in t,
            h = this,
            f = {},
            p = e.style,
            g = e.nodeType && ie(e),
            m = X.get(e, "fxshow");
          for (i in (n.queue ||
            (null == (a = S._queueHooks(e, "fx")).unqueued &&
              ((a.unqueued = 0),
              (s = a.empty.fire),
              (a.empty.fire = function () {
                a.unqueued || s();
              })),
            a.unqueued++,
            h.always(function () {
              h.always(function () {
                a.unqueued--, S.queue(e, "fx").length || a.empty.fire();
              });
            })),
          t))
            if (((r = t[i]), nt.test(r))) {
              if (
                (delete t[i],
                (o = o || "toggle" === r),
                r === (g ? "hide" : "show"))
              ) {
                if ("show" !== r || !m || void 0 === m[i]) continue;
                g = !0;
              }
              f[i] = (m && m[i]) || S.style(e, i);
            }
          if ((u = !S.isEmptyObject(t)) || !S.isEmptyObject(f))
            for (i in (d &&
              1 === e.nodeType &&
              ((n.overflow = [p.overflow, p.overflowX, p.overflowY]),
              null == (l = m && m.display) && (l = X.get(e, "display")),
              "none" === (c = S.css(e, "display")) &&
                (l
                  ? (c = l)
                  : (se([e], !0),
                    (l = e.style.display || l),
                    (c = S.css(e, "display")),
                    se([e]))),
              ("inline" === c || ("inline-block" === c && null != l)) &&
                "none" === S.css(e, "float") &&
                (u ||
                  (h.done(function () {
                    p.display = l;
                  }),
                  null == l && ((c = p.display), (l = "none" === c ? "" : c))),
                (p.display = "inline-block"))),
            n.overflow &&
              ((p.overflow = "hidden"),
              h.always(function () {
                (p.overflow = n.overflow[0]),
                  (p.overflowX = n.overflow[1]),
                  (p.overflowY = n.overflow[2]);
              })),
            (u = !1),
            f))
              u ||
                (m
                  ? "hidden" in m && (g = m.hidden)
                  : (m = X.access(e, "fxshow", { display: l })),
                o && (m.hidden = !g),
                g && se([e], !0),
                h.done(function () {
                  for (i in (g || se([e]), X.remove(e, "fxshow"), f))
                    S.style(e, i, f[i]);
                })),
                (u = st(g ? m[i] : 0, i, h)),
                i in m ||
                  ((m[i] = u.start), g && ((u.end = u.start), (u.start = 0)));
        },
      ],
      prefilter: function (e, t) {
        t ? ut.prefilters.unshift(e) : ut.prefilters.push(e);
      },
    })),
      (S.speed = function (e, t, n) {
        var i =
          e && "object" == typeof e
            ? S.extend({}, e)
            : {
                complete: n || (!n && t) || (b(e) && e),
                duration: e,
                easing: (n && t) || (t && !b(t) && t),
              };
        return (
          S.fx.off
            ? (i.duration = 0)
            : "number" != typeof i.duration &&
              (i.duration in S.fx.speeds
                ? (i.duration = S.fx.speeds[i.duration])
                : (i.duration = S.fx.speeds._default)),
          (null != i.queue && !0 !== i.queue) || (i.queue = "fx"),
          (i.old = i.complete),
          (i.complete = function () {
            b(i.old) && i.old.call(this), i.queue && S.dequeue(this, i.queue);
          }),
          i
        );
      }),
      S.fn.extend({
        fadeTo: function (e, t, n, i) {
          return this.filter(ie)
            .css("opacity", 0)
            .show()
            .end()
            .animate({ opacity: t }, e, n, i);
        },
        animate: function (t, e, n, i) {
          var r = S.isEmptyObject(t),
            o = S.speed(e, n, i),
            a = function () {
              var e = ut(this, S.extend({}, t), o);
              (r || X.get(this, "finish")) && e.stop(!0);
            };
          return (
            (a.finish = a),
            r || !1 === o.queue ? this.each(a) : this.queue(o.queue, a)
          );
        },
        stop: function (r, e, o) {
          var a = function (e) {
            var t = e.stop;
            delete e.stop, t(o);
          };
          return (
            "string" != typeof r && ((o = e), (e = r), (r = void 0)),
            e && !1 !== r && this.queue(r || "fx", []),
            this.each(function () {
              var e = !0,
                t = null != r && r + "queueHooks",
                n = S.timers,
                i = X.get(this);
              if (t) i[t] && i[t].stop && a(i[t]);
              else for (t in i) i[t] && i[t].stop && it.test(t) && a(i[t]);
              for (t = n.length; t--; )
                n[t].elem !== this ||
                  (null != r && n[t].queue !== r) ||
                  (n[t].anim.stop(o), (e = !1), n.splice(t, 1));
              (!e && o) || S.dequeue(this, r);
            })
          );
        },
        finish: function (a) {
          return (
            !1 !== a && (a = a || "fx"),
            this.each(function () {
              var e,
                t = X.get(this),
                n = t[a + "queue"],
                i = t[a + "queueHooks"],
                r = S.timers,
                o = n ? n.length : 0;
              for (
                t.finish = !0,
                  S.queue(this, a, []),
                  i && i.stop && i.stop.call(this, !0),
                  e = r.length;
                e--;

              )
                r[e].elem === this &&
                  r[e].queue === a &&
                  (r[e].anim.stop(!0), r.splice(e, 1));
              for (e = 0; e < o; e++)
                n[e] && n[e].finish && n[e].finish.call(this);
              delete t.finish;
            })
          );
        },
      }),
      S.each(["toggle", "show", "hide"], function (e, i) {
        var r = S.fn[i];
        S.fn[i] = function (e, t, n) {
          return null == e || "boolean" == typeof e
            ? r.apply(this, arguments)
            : this.animate(at(i, !0), e, t, n);
        };
      }),
      S.each(
        {
          slideDown: at("show"),
          slideUp: at("hide"),
          slideToggle: at("toggle"),
          fadeIn: { opacity: "show" },
          fadeOut: { opacity: "hide" },
          fadeToggle: { opacity: "toggle" },
        },
        function (e, i) {
          S.fn[e] = function (e, t, n) {
            return this.animate(i, e, t, n);
          };
        }
      ),
      (S.timers = []),
      (S.fx.tick = function () {
        var e,
          t = 0,
          n = S.timers;
        for (Ye = Date.now(); t < n.length; t++)
          (e = n[t])() || n[t] !== e || n.splice(t--, 1);
        n.length || S.fx.stop(), (Ye = void 0);
      }),
      (S.fx.timer = function (e) {
        S.timers.push(e), S.fx.start();
      }),
      (S.fx.interval = 13),
      (S.fx.start = function () {
        Ze || ((Ze = !0), rt());
      }),
      (S.fx.stop = function () {
        Ze = null;
      }),
      (S.fx.speeds = { slow: 600, fast: 200, _default: 400 }),
      (S.fn.delay = function (i, e) {
        return (
          (i = (S.fx && S.fx.speeds[i]) || i),
          (e = e || "fx"),
          this.queue(e, function (e, t) {
            var n = T.setTimeout(e, i);
            t.stop = function () {
              T.clearTimeout(n);
            };
          })
        );
      }),
      (et = C.createElement("input")),
      (tt = C.createElement("select").appendChild(C.createElement("option"))),
      (et.type = "checkbox"),
      (v.checkOn = "" !== et.value),
      (v.optSelected = tt.selected),
      ((et = C.createElement("input")).value = "t"),
      (et.type = "radio"),
      (v.radioValue = "t" === et.value);
    var lt,
      ct = S.expr.attrHandle;
    S.fn.extend({
      attr: function (e, t) {
        return q(this, S.attr, e, t, 1 < arguments.length);
      },
      removeAttr: function (e) {
        return this.each(function () {
          S.removeAttr(this, e);
        });
      },
    }),
      S.extend({
        attr: function (e, t, n) {
          var i,
            r,
            o = e.nodeType;
          if (3 !== o && 8 !== o && 2 !== o)
            return void 0 === e.getAttribute
              ? S.prop(e, t, n)
              : ((1 === o && S.isXMLDoc(e)) ||
                  (r =
                    S.attrHooks[t.toLowerCase()] ||
                    (S.expr.match.bool.test(t) ? lt : void 0)),
                void 0 !== n
                  ? null === n
                    ? void S.removeAttr(e, t)
                    : r && "set" in r && void 0 !== (i = r.set(e, n, t))
                    ? i
                    : (e.setAttribute(t, n + ""), n)
                  : r && "get" in r && null !== (i = r.get(e, t))
                  ? i
                  : null == (i = S.find.attr(e, t))
                  ? void 0
                  : i);
        },
        attrHooks: {
          type: {
            set: function (e, t) {
              if (!v.radioValue && "radio" === t && D(e, "input")) {
                var n = e.value;
                return e.setAttribute("type", t), n && (e.value = n), t;
              }
            },
          },
        },
        removeAttr: function (e, t) {
          var n,
            i = 0,
            r = t && t.match(N);
          if (r && 1 === e.nodeType)
            for (; (n = r[i++]); ) e.removeAttribute(n);
        },
      }),
      (lt = {
        set: function (e, t, n) {
          return !1 === t ? S.removeAttr(e, n) : e.setAttribute(n, n), n;
        },
      }),
      S.each(S.expr.match.bool.source.match(/\w+/g), function (e, t) {
        var a = ct[t] || S.find.attr;
        ct[t] = function (e, t, n) {
          var i,
            r,
            o = t.toLowerCase();
          return (
            n ||
              ((r = ct[o]),
              (ct[o] = i),
              (i = null != a(e, t, n) ? o : null),
              (ct[o] = r)),
            i
          );
        };
      });
    var dt = /^(?:input|select|textarea|button)$/i,
      ht = /^(?:a|area)$/i;
    function ft(e) {
      return (e.match(N) || []).join(" ");
    }
    function pt(e) {
      return (e.getAttribute && e.getAttribute("class")) || "";
    }
    function gt(e) {
      return Array.isArray(e) ? e : ("string" == typeof e && e.match(N)) || [];
    }
    S.fn.extend({
      prop: function (e, t) {
        return q(this, S.prop, e, t, 1 < arguments.length);
      },
      removeProp: function (e) {
        return this.each(function () {
          delete this[S.propFix[e] || e];
        });
      },
    }),
      S.extend({
        prop: function (e, t, n) {
          var i,
            r,
            o = e.nodeType;
          if (3 !== o && 8 !== o && 2 !== o)
            return (
              (1 === o && S.isXMLDoc(e)) ||
                ((t = S.propFix[t] || t), (r = S.propHooks[t])),
              void 0 !== n
                ? r && "set" in r && void 0 !== (i = r.set(e, n, t))
                  ? i
                  : (e[t] = n)
                : r && "get" in r && null !== (i = r.get(e, t))
                ? i
                : e[t]
            );
        },
        propHooks: {
          tabIndex: {
            get: function (e) {
              var t = S.find.attr(e, "tabindex");
              return t
                ? parseInt(t, 10)
                : dt.test(e.nodeName) || (ht.test(e.nodeName) && e.href)
                ? 0
                : -1;
            },
          },
        },
        propFix: { for: "htmlFor", class: "className" },
      }),
      v.optSelected ||
        (S.propHooks.selected = {
          get: function (e) {
            var t = e.parentNode;
            return t && t.parentNode && t.parentNode.selectedIndex, null;
          },
          set: function (e) {
            var t = e.parentNode;
            t && (t.selectedIndex, t.parentNode && t.parentNode.selectedIndex);
          },
        }),
      S.each(
        [
          "tabIndex",
          "readOnly",
          "maxLength",
          "cellSpacing",
          "cellPadding",
          "rowSpan",
          "colSpan",
          "useMap",
          "frameBorder",
          "contentEditable",
        ],
        function () {
          S.propFix[this.toLowerCase()] = this;
        }
      ),
      S.fn.extend({
        addClass: function (t) {
          var e,
            n,
            i,
            r,
            o,
            a,
            s,
            u = 0;
          if (b(t))
            return this.each(function (e) {
              S(this).addClass(t.call(this, e, pt(this)));
            });
          if ((e = gt(t)).length)
            for (; (n = this[u++]); )
              if (((r = pt(n)), (i = 1 === n.nodeType && " " + ft(r) + " "))) {
                for (a = 0; (o = e[a++]); )
                  i.indexOf(" " + o + " ") < 0 && (i += o + " ");
                r !== (s = ft(i)) && n.setAttribute("class", s);
              }
          return this;
        },
        removeClass: function (t) {
          var e,
            n,
            i,
            r,
            o,
            a,
            s,
            u = 0;
          if (b(t))
            return this.each(function (e) {
              S(this).removeClass(t.call(this, e, pt(this)));
            });
          if (!arguments.length) return this.attr("class", "");
          if ((e = gt(t)).length)
            for (; (n = this[u++]); )
              if (((r = pt(n)), (i = 1 === n.nodeType && " " + ft(r) + " "))) {
                for (a = 0; (o = e[a++]); )
                  for (; -1 < i.indexOf(" " + o + " "); )
                    i = i.replace(" " + o + " ", " ");
                r !== (s = ft(i)) && n.setAttribute("class", s);
              }
          return this;
        },
        toggleClass: function (r, t) {
          var o = typeof r,
            a = "string" === o || Array.isArray(r);
          return "boolean" == typeof t && a
            ? t
              ? this.addClass(r)
              : this.removeClass(r)
            : b(r)
            ? this.each(function (e) {
                S(this).toggleClass(r.call(this, e, pt(this), t), t);
              })
            : this.each(function () {
                var e, t, n, i;
                if (a)
                  for (t = 0, n = S(this), i = gt(r); (e = i[t++]); )
                    n.hasClass(e) ? n.removeClass(e) : n.addClass(e);
                else
                  (void 0 !== r && "boolean" !== o) ||
                    ((e = pt(this)) && X.set(this, "__className__", e),
                    this.setAttribute &&
                      this.setAttribute(
                        "class",
                        e || !1 === r ? "" : X.get(this, "__className__") || ""
                      ));
              });
        },
        hasClass: function (e) {
          var t,
            n,
            i = 0;
          for (t = " " + e + " "; (n = this[i++]); )
            if (1 === n.nodeType && -1 < (" " + ft(pt(n)) + " ").indexOf(t))
              return !0;
          return !1;
        },
      });
    var mt = /\r/g;
    S.fn.extend({
      val: function (n) {
        var i,
          e,
          r,
          t = this[0];
        return arguments.length
          ? ((r = b(n)),
            this.each(function (e) {
              var t;
              1 === this.nodeType &&
                (null == (t = r ? n.call(this, e, S(this).val()) : n)
                  ? (t = "")
                  : "number" == typeof t
                  ? (t += "")
                  : Array.isArray(t) &&
                    (t = S.map(t, function (e) {
                      return null == e ? "" : e + "";
                    })),
                ((i =
                  S.valHooks[this.type] ||
                  S.valHooks[this.nodeName.toLowerCase()]) &&
                  "set" in i &&
                  void 0 !== i.set(this, t, "value")) ||
                  (this.value = t));
            }))
          : t
          ? (i = S.valHooks[t.type] || S.valHooks[t.nodeName.toLowerCase()]) &&
            "get" in i &&
            void 0 !== (e = i.get(t, "value"))
            ? e
            : "string" == typeof (e = t.value)
            ? e.replace(mt, "")
            : null == e
            ? ""
            : e
          : void 0;
      },
    }),
      S.extend({
        valHooks: {
          option: {
            get: function (e) {
              var t = S.find.attr(e, "value");
              return null != t ? t : ft(S.text(e));
            },
          },
          select: {
            get: function (e) {
              var t,
                n,
                i,
                r = e.options,
                o = e.selectedIndex,
                a = "select-one" === e.type,
                s = a ? null : [],
                u = a ? o + 1 : r.length;
              for (i = o < 0 ? u : a ? o : 0; i < u; i++)
                if (
                  ((n = r[i]).selected || i === o) &&
                  !n.disabled &&
                  (!n.parentNode.disabled || !D(n.parentNode, "optgroup"))
                ) {
                  if (((t = S(n).val()), a)) return t;
                  s.push(t);
                }
              return s;
            },
            set: function (e, t) {
              for (
                var n, i, r = e.options, o = S.makeArray(t), a = r.length;
                a--;

              )
                ((i = r[a]).selected =
                  -1 < S.inArray(S.valHooks.option.get(i), o)) && (n = !0);
              return n || (e.selectedIndex = -1), o;
            },
          },
        },
      }),
      S.each(["radio", "checkbox"], function () {
        (S.valHooks[this] = {
          set: function (e, t) {
            if (Array.isArray(t))
              return (e.checked = -1 < S.inArray(S(e).val(), t));
          },
        }),
          v.checkOn ||
            (S.valHooks[this].get = function (e) {
              return null === e.getAttribute("value") ? "on" : e.value;
            });
      }),
      (v.focusin = "onfocusin" in T);
    var vt = /^(?:focusinfocus|focusoutblur)$/,
      bt = function (e) {
        e.stopPropagation();
      };
    S.extend(S.event, {
      trigger: function (e, t, n, i) {
        var r,
          o,
          a,
          s,
          u,
          l,
          c,
          d,
          h = [n || C],
          f = m.call(e, "type") ? e.type : e,
          p = m.call(e, "namespace") ? e.namespace.split(".") : [];
        if (
          ((o = d = a = n = n || C),
          3 !== n.nodeType &&
            8 !== n.nodeType &&
            !vt.test(f + S.event.triggered) &&
            (-1 < f.indexOf(".") &&
              ((f = (p = f.split(".")).shift()), p.sort()),
            (u = f.indexOf(":") < 0 && "on" + f),
            ((e = e[S.expando]
              ? e
              : new S.Event(f, "object" == typeof e && e)).isTrigger = i
              ? 2
              : 3),
            (e.namespace = p.join(".")),
            (e.rnamespace = e.namespace
              ? new RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)")
              : null),
            (e.result = void 0),
            e.target || (e.target = n),
            (t = null == t ? [e] : S.makeArray(t, [e])),
            (c = S.event.special[f] || {}),
            i || !c.trigger || !1 !== c.trigger.apply(n, t)))
        ) {
          if (!i && !c.noBubble && !y(n)) {
            for (
              s = c.delegateType || f, vt.test(s + f) || (o = o.parentNode);
              o;
              o = o.parentNode
            )
              h.push(o), (a = o);
            a === (n.ownerDocument || C) &&
              h.push(a.defaultView || a.parentWindow || T);
          }
          for (r = 0; (o = h[r++]) && !e.isPropagationStopped(); )
            (d = o),
              (e.type = 1 < r ? s : c.bindType || f),
              (l = (X.get(o, "events") || {})[e.type] && X.get(o, "handle")) &&
                l.apply(o, t),
              (l = u && o[u]) &&
                l.apply &&
                K(o) &&
                ((e.result = l.apply(o, t)),
                !1 === e.result && e.preventDefault());
          return (
            (e.type = f),
            i ||
              e.isDefaultPrevented() ||
              (c._default && !1 !== c._default.apply(h.pop(), t)) ||
              !K(n) ||
              (u &&
                b(n[f]) &&
                !y(n) &&
                ((a = n[u]) && (n[u] = null),
                (S.event.triggered = f),
                e.isPropagationStopped() && d.addEventListener(f, bt),
                n[f](),
                e.isPropagationStopped() && d.removeEventListener(f, bt),
                (S.event.triggered = void 0),
                a && (n[u] = a))),
            e.result
          );
        }
      },
      simulate: function (e, t, n) {
        var i = S.extend(new S.Event(), n, { type: e, isSimulated: !0 });
        S.event.trigger(i, null, t);
      },
    }),
      S.fn.extend({
        trigger: function (e, t) {
          return this.each(function () {
            S.event.trigger(e, t, this);
          });
        },
        triggerHandler: function (e, t) {
          var n = this[0];
          if (n) return S.event.trigger(e, t, n, !0);
        },
      }),
      v.focusin ||
        S.each({ focus: "focusin", blur: "focusout" }, function (n, i) {
          var r = function (e) {
            S.event.simulate(i, e.target, S.event.fix(e));
          };
          S.event.special[i] = {
            setup: function () {
              var e = this.ownerDocument || this,
                t = X.access(e, i);
              t || e.addEventListener(n, r, !0), X.access(e, i, (t || 0) + 1);
            },
            teardown: function () {
              var e = this.ownerDocument || this,
                t = X.access(e, i) - 1;
              t
                ? X.access(e, i, t)
                : (e.removeEventListener(n, r, !0), X.remove(e, i));
            },
          };
        });
    var yt = T.location,
      wt = Date.now(),
      _t = /\?/;
    S.parseXML = function (e) {
      var t;
      if (!e || "string" != typeof e) return null;
      try {
        t = new T.DOMParser().parseFromString(e, "text/xml");
      } catch (e) {
        t = void 0;
      }
      return (
        (t && !t.getElementsByTagName("parsererror").length) ||
          S.error("Invalid XML: " + e),
        t
      );
    };
    var xt = /\[\]$/,
      Tt = /\r?\n/g,
      Ct = /^(?:submit|button|image|reset|file)$/i,
      St = /^(?:input|select|textarea|keygen)/i;
    function Et(n, e, i, r) {
      var t;
      if (Array.isArray(e))
        S.each(e, function (e, t) {
          i || xt.test(n)
            ? r(n, t)
            : Et(
                n + "[" + ("object" == typeof t && null != t ? e : "") + "]",
                t,
                i,
                r
              );
        });
      else if (i || "object" !== _(e)) r(n, e);
      else for (t in e) Et(n + "[" + t + "]", e[t], i, r);
    }
    (S.param = function (e, t) {
      var n,
        i = [],
        r = function (e, t) {
          var n = b(t) ? t() : t;
          i[i.length] =
            encodeURIComponent(e) +
            "=" +
            encodeURIComponent(null == n ? "" : n);
        };
      if (Array.isArray(e) || (e.jquery && !S.isPlainObject(e)))
        S.each(e, function () {
          r(this.name, this.value);
        });
      else for (n in e) Et(n, e[n], t, r);
      return i.join("&");
    }),
      S.fn.extend({
        serialize: function () {
          return S.param(this.serializeArray());
        },
        serializeArray: function () {
          return this.map(function () {
            var e = S.prop(this, "elements");
            return e ? S.makeArray(e) : this;
          })
            .filter(function () {
              var e = this.type;
              return (
                this.name &&
                !S(this).is(":disabled") &&
                St.test(this.nodeName) &&
                !Ct.test(e) &&
                (this.checked || !ue.test(e))
              );
            })
            .map(function (e, t) {
              var n = S(this).val();
              return null == n
                ? null
                : Array.isArray(n)
                ? S.map(n, function (e) {
                    return { name: t.name, value: e.replace(Tt, "\r\n") };
                  })
                : { name: t.name, value: n.replace(Tt, "\r\n") };
            })
            .get();
        },
      });
    var Dt = /%20/g,
      Ot = /#.*$/,
      Mt = /([?&])_=[^&]*/,
      jt = /^(.*?):[ \t]*([^\r\n]*)$/gm,
      Pt = /^(?:GET|HEAD)$/,
      It = /^\/\//,
      kt = {},
      At = {},
      Nt = "*/".concat("*"),
      Lt = C.createElement("a");
    function Rt(o) {
      return function (e, t) {
        "string" != typeof e && ((t = e), (e = "*"));
        var n,
          i = 0,
          r = e.toLowerCase().match(N) || [];
        if (b(t))
          for (; (n = r[i++]); )
            "+" === n[0]
              ? ((n = n.slice(1) || "*"), (o[n] = o[n] || []).unshift(t))
              : (o[n] = o[n] || []).push(t);
      };
    }
    function Ht(t, r, o, a) {
      var s = {},
        u = t === At;
      function l(e) {
        var i;
        return (
          (s[e] = !0),
          S.each(t[e] || [], function (e, t) {
            var n = t(r, o, a);
            return "string" != typeof n || u || s[n]
              ? u
                ? !(i = n)
                : void 0
              : (r.dataTypes.unshift(n), l(n), !1);
          }),
          i
        );
      }
      return l(r.dataTypes[0]) || (!s["*"] && l("*"));
    }
    function Ft(e, t) {
      var n,
        i,
        r = S.ajaxSettings.flatOptions || {};
      for (n in t) void 0 !== t[n] && ((r[n] ? e : i || (i = {}))[n] = t[n]);
      return i && S.extend(!0, e, i), e;
    }
    (Lt.href = yt.href),
      S.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
          url: yt.href,
          type: "GET",
          isLocal:
            /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(
              yt.protocol
            ),
          global: !0,
          processData: !0,
          async: !0,
          contentType: "application/x-www-form-urlencoded; charset=UTF-8",
          accepts: {
            "*": Nt,
            text: "text/plain",
            html: "text/html",
            xml: "application/xml, text/xml",
            json: "application/json, text/javascript",
          },
          contents: { xml: /\bxml\b/, html: /\bhtml/, json: /\bjson\b/ },
          responseFields: {
            xml: "responseXML",
            text: "responseText",
            json: "responseJSON",
          },
          converters: {
            "* text": String,
            "text html": !0,
            "text json": JSON.parse,
            "text xml": S.parseXML,
          },
          flatOptions: { url: !0, context: !0 },
        },
        ajaxSetup: function (e, t) {
          return t ? Ft(Ft(e, S.ajaxSettings), t) : Ft(S.ajaxSettings, e);
        },
        ajaxPrefilter: Rt(kt),
        ajaxTransport: Rt(At),
        ajax: function (e, t) {
          "object" == typeof e && ((t = e), (e = void 0)), (t = t || {});
          var c,
            d,
            h,
            n,
            f,
            i,
            p,
            g,
            r,
            o,
            m = S.ajaxSetup({}, t),
            v = m.context || m,
            b = m.context && (v.nodeType || v.jquery) ? S(v) : S.event,
            y = S.Deferred(),
            w = S.Callbacks("once memory"),
            _ = m.statusCode || {},
            a = {},
            s = {},
            u = "canceled",
            x = {
              readyState: 0,
              getResponseHeader: function (e) {
                var t;
                if (p) {
                  if (!n)
                    for (n = {}; (t = jt.exec(h)); )
                      n[t[1].toLowerCase()] = t[2];
                  t = n[e.toLowerCase()];
                }
                return null == t ? null : t;
              },
              getAllResponseHeaders: function () {
                return p ? h : null;
              },
              setRequestHeader: function (e, t) {
                return (
                  null == p &&
                    ((e = s[e.toLowerCase()] = s[e.toLowerCase()] || e),
                    (a[e] = t)),
                  this
                );
              },
              overrideMimeType: function (e) {
                return null == p && (m.mimeType = e), this;
              },
              statusCode: function (e) {
                var t;
                if (e)
                  if (p) x.always(e[x.status]);
                  else for (t in e) _[t] = [_[t], e[t]];
                return this;
              },
              abort: function (e) {
                var t = e || u;
                return c && c.abort(t), l(0, t), this;
              },
            };
          if (
            (y.promise(x),
            (m.url = ((e || m.url || yt.href) + "").replace(
              It,
              yt.protocol + "//"
            )),
            (m.type = t.method || t.type || m.method || m.type),
            (m.dataTypes = (m.dataType || "*").toLowerCase().match(N) || [""]),
            null == m.crossDomain)
          ) {
            i = C.createElement("a");
            try {
              (i.href = m.url),
                (i.href = i.href),
                (m.crossDomain =
                  Lt.protocol + "//" + Lt.host != i.protocol + "//" + i.host);
            } catch (e) {
              m.crossDomain = !0;
            }
          }
          if (
            (m.data &&
              m.processData &&
              "string" != typeof m.data &&
              (m.data = S.param(m.data, m.traditional)),
            Ht(kt, m, t, x),
            p)
          )
            return x;
          for (r in ((g = S.event && m.global) &&
            0 == S.active++ &&
            S.event.trigger("ajaxStart"),
          (m.type = m.type.toUpperCase()),
          (m.hasContent = !Pt.test(m.type)),
          (d = m.url.replace(Ot, "")),
          m.hasContent
            ? m.data &&
              m.processData &&
              0 ===
                (m.contentType || "").indexOf(
                  "application/x-www-form-urlencoded"
                ) &&
              (m.data = m.data.replace(Dt, "+"))
            : ((o = m.url.slice(d.length)),
              m.data &&
                (m.processData || "string" == typeof m.data) &&
                ((d += (_t.test(d) ? "&" : "?") + m.data), delete m.data),
              !1 === m.cache &&
                ((d = d.replace(Mt, "$1")),
                (o = (_t.test(d) ? "&" : "?") + "_=" + wt++ + o)),
              (m.url = d + o)),
          m.ifModified &&
            (S.lastModified[d] &&
              x.setRequestHeader("If-Modified-Since", S.lastModified[d]),
            S.etag[d] && x.setRequestHeader("If-None-Match", S.etag[d])),
          ((m.data && m.hasContent && !1 !== m.contentType) || t.contentType) &&
            x.setRequestHeader("Content-Type", m.contentType),
          x.setRequestHeader(
            "Accept",
            m.dataTypes[0] && m.accepts[m.dataTypes[0]]
              ? m.accepts[m.dataTypes[0]] +
                  ("*" !== m.dataTypes[0] ? ", " + Nt + "; q=0.01" : "")
              : m.accepts["*"]
          ),
          m.headers))
            x.setRequestHeader(r, m.headers[r]);
          if (m.beforeSend && (!1 === m.beforeSend.call(v, x, m) || p))
            return x.abort();
          if (
            ((u = "abort"),
            w.add(m.complete),
            x.done(m.success),
            x.fail(m.error),
            (c = Ht(At, m, t, x)))
          ) {
            if (((x.readyState = 1), g && b.trigger("ajaxSend", [x, m]), p))
              return x;
            m.async &&
              0 < m.timeout &&
              (f = T.setTimeout(function () {
                x.abort("timeout");
              }, m.timeout));
            try {
              (p = !1), c.send(a, l);
            } catch (e) {
              if (p) throw e;
              l(-1, e);
            }
          } else l(-1, "No Transport");
          function l(e, t, n, i) {
            var r,
              o,
              a,
              s,
              u,
              l = t;
            p ||
              ((p = !0),
              f && T.clearTimeout(f),
              (c = void 0),
              (h = i || ""),
              (x.readyState = 0 < e ? 4 : 0),
              (r = (200 <= e && e < 300) || 304 === e),
              n &&
                (s = (function (e, t, n) {
                  for (
                    var i, r, o, a, s = e.contents, u = e.dataTypes;
                    "*" === u[0];

                  )
                    u.shift(),
                      void 0 === i &&
                        (i = e.mimeType || t.getResponseHeader("Content-Type"));
                  if (i)
                    for (r in s)
                      if (s[r] && s[r].test(i)) {
                        u.unshift(r);
                        break;
                      }
                  if (u[0] in n) o = u[0];
                  else {
                    for (r in n) {
                      if (!u[0] || e.converters[r + " " + u[0]]) {
                        o = r;
                        break;
                      }
                      a || (a = r);
                    }
                    o = o || a;
                  }
                  if (o) return o !== u[0] && u.unshift(o), n[o];
                })(m, x, n)),
              (s = (function (e, t, n, i) {
                var r,
                  o,
                  a,
                  s,
                  u,
                  l = {},
                  c = e.dataTypes.slice();
                if (c[1])
                  for (a in e.converters) l[a.toLowerCase()] = e.converters[a];
                for (o = c.shift(); o; )
                  if (
                    (e.responseFields[o] && (n[e.responseFields[o]] = t),
                    !u &&
                      i &&
                      e.dataFilter &&
                      (t = e.dataFilter(t, e.dataType)),
                    (u = o),
                    (o = c.shift()))
                  )
                    if ("*" === o) o = u;
                    else if ("*" !== u && u !== o) {
                      if (!(a = l[u + " " + o] || l["* " + o]))
                        for (r in l)
                          if (
                            (s = r.split(" "))[1] === o &&
                            (a = l[u + " " + s[0]] || l["* " + s[0]])
                          ) {
                            !0 === a
                              ? (a = l[r])
                              : !0 !== l[r] && ((o = s[0]), c.unshift(s[1]));
                            break;
                          }
                      if (!0 !== a)
                        if (a && e.throws) t = a(t);
                        else
                          try {
                            t = a(t);
                          } catch (e) {
                            return {
                              state: "parsererror",
                              error: a
                                ? e
                                : "No conversion from " + u + " to " + o,
                            };
                          }
                    }
                return { state: "success", data: t };
              })(m, s, x, r)),
              r
                ? (m.ifModified &&
                    ((u = x.getResponseHeader("Last-Modified")) &&
                      (S.lastModified[d] = u),
                    (u = x.getResponseHeader("etag")) && (S.etag[d] = u)),
                  204 === e || "HEAD" === m.type
                    ? (l = "nocontent")
                    : 304 === e
                    ? (l = "notmodified")
                    : ((l = s.state), (o = s.data), (r = !(a = s.error))))
                : ((a = l), (!e && l) || ((l = "error"), e < 0 && (e = 0))),
              (x.status = e),
              (x.statusText = (t || l) + ""),
              r ? y.resolveWith(v, [o, l, x]) : y.rejectWith(v, [x, l, a]),
              x.statusCode(_),
              (_ = void 0),
              g &&
                b.trigger(r ? "ajaxSuccess" : "ajaxError", [x, m, r ? o : a]),
              w.fireWith(v, [x, l]),
              g &&
                (b.trigger("ajaxComplete", [x, m]),
                --S.active || S.event.trigger("ajaxStop")));
          }
          return x;
        },
        getJSON: function (e, t, n) {
          return S.get(e, t, n, "json");
        },
        getScript: function (e, t) {
          return S.get(e, void 0, t, "script");
        },
      }),
      S.each(["get", "post"], function (e, r) {
        S[r] = function (e, t, n, i) {
          return (
            b(t) && ((i = i || n), (n = t), (t = void 0)),
            S.ajax(
              S.extend(
                { url: e, type: r, dataType: i, data: t, success: n },
                S.isPlainObject(e) && e
              )
            )
          );
        };
      }),
      (S._evalUrl = function (e) {
        return S.ajax({
          url: e,
          type: "GET",
          dataType: "script",
          cache: !0,
          async: !1,
          global: !1,
          throws: !0,
        });
      }),
      S.fn.extend({
        wrapAll: function (e) {
          var t;
          return (
            this[0] &&
              (b(e) && (e = e.call(this[0])),
              (t = S(e, this[0].ownerDocument).eq(0).clone(!0)),
              this[0].parentNode && t.insertBefore(this[0]),
              t
                .map(function () {
                  for (var e = this; e.firstElementChild; )
                    e = e.firstElementChild;
                  return e;
                })
                .append(this)),
            this
          );
        },
        wrapInner: function (n) {
          return b(n)
            ? this.each(function (e) {
                S(this).wrapInner(n.call(this, e));
              })
            : this.each(function () {
                var e = S(this),
                  t = e.contents();
                t.length ? t.wrapAll(n) : e.append(n);
              });
        },
        wrap: function (t) {
          var n = b(t);
          return this.each(function (e) {
            S(this).wrapAll(n ? t.call(this, e) : t);
          });
        },
        unwrap: function (e) {
          return (
            this.parent(e)
              .not("body")
              .each(function () {
                S(this).replaceWith(this.childNodes);
              }),
            this
          );
        },
      }),
      (S.expr.pseudos.hidden = function (e) {
        return !S.expr.pseudos.visible(e);
      }),
      (S.expr.pseudos.visible = function (e) {
        return !!(e.offsetWidth || e.offsetHeight || e.getClientRects().length);
      }),
      (S.ajaxSettings.xhr = function () {
        try {
          return new T.XMLHttpRequest();
        } catch (e) {}
      });
    var Bt = { 0: 200, 1223: 204 },
      Vt = S.ajaxSettings.xhr();
    (v.cors = !!Vt && "withCredentials" in Vt),
      (v.ajax = Vt = !!Vt),
      S.ajaxTransport(function (r) {
        var o, a;
        if (v.cors || (Vt && !r.crossDomain))
          return {
            send: function (e, t) {
              var n,
                i = r.xhr();
              if (
                (i.open(r.type, r.url, r.async, r.username, r.password),
                r.xhrFields)
              )
                for (n in r.xhrFields) i[n] = r.xhrFields[n];
              for (n in (r.mimeType &&
                i.overrideMimeType &&
                i.overrideMimeType(r.mimeType),
              r.crossDomain ||
                e["X-Requested-With"] ||
                (e["X-Requested-With"] = "XMLHttpRequest"),
              e))
                i.setRequestHeader(n, e[n]);
              (o = function (e) {
                return function () {
                  o &&
                    ((o =
                      a =
                      i.onload =
                      i.onerror =
                      i.onabort =
                      i.ontimeout =
                      i.onreadystatechange =
                        null),
                    "abort" === e
                      ? i.abort()
                      : "error" === e
                      ? "number" != typeof i.status
                        ? t(0, "error")
                        : t(i.status, i.statusText)
                      : t(
                          Bt[i.status] || i.status,
                          i.statusText,
                          "text" !== (i.responseType || "text") ||
                            "string" != typeof i.responseText
                            ? { binary: i.response }
                            : { text: i.responseText },
                          i.getAllResponseHeaders()
                        ));
                };
              }),
                (i.onload = o()),
                (a = i.onerror = i.ontimeout = o("error")),
                void 0 !== i.onabort
                  ? (i.onabort = a)
                  : (i.onreadystatechange = function () {
                      4 === i.readyState &&
                        T.setTimeout(function () {
                          o && a();
                        });
                    }),
                (o = o("abort"));
              try {
                i.send((r.hasContent && r.data) || null);
              } catch (e) {
                if (o) throw e;
              }
            },
            abort: function () {
              o && o();
            },
          };
      }),
      S.ajaxPrefilter(function (e) {
        e.crossDomain && (e.contents.script = !1);
      }),
      S.ajaxSetup({
        accepts: {
          script:
            "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript",
        },
        contents: { script: /\b(?:java|ecma)script\b/ },
        converters: {
          "text script": function (e) {
            return S.globalEval(e), e;
          },
        },
      }),
      S.ajaxPrefilter("script", function (e) {
        void 0 === e.cache && (e.cache = !1), e.crossDomain && (e.type = "GET");
      }),
      S.ajaxTransport("script", function (n) {
        var i, r;
        if (n.crossDomain)
          return {
            send: function (e, t) {
              (i = S("<script>")
                .prop({ charset: n.scriptCharset, src: n.url })
                .on(
                  "load error",
                  (r = function (e) {
                    i.remove(),
                      (r = null),
                      e && t("error" === e.type ? 404 : 200, e.type);
                  })
                )),
                C.head.appendChild(i[0]);
            },
            abort: function () {
              r && r();
            },
          };
      });
    var qt,
      Wt = [],
      Ut = /(=)\?(?=&|$)|\?\?/;
    S.ajaxSetup({
      jsonp: "callback",
      jsonpCallback: function () {
        var e = Wt.pop() || S.expando + "_" + wt++;
        return (this[e] = !0), e;
      },
    }),
      S.ajaxPrefilter("json jsonp", function (e, t, n) {
        var i,
          r,
          o,
          a =
            !1 !== e.jsonp &&
            (Ut.test(e.url)
              ? "url"
              : "string" == typeof e.data &&
                0 ===
                  (e.contentType || "").indexOf(
                    "application/x-www-form-urlencoded"
                  ) &&
                Ut.test(e.data) &&
                "data");
        if (a || "jsonp" === e.dataTypes[0])
          return (
            (i = e.jsonpCallback =
              b(e.jsonpCallback) ? e.jsonpCallback() : e.jsonpCallback),
            a
              ? (e[a] = e[a].replace(Ut, "$1" + i))
              : !1 !== e.jsonp &&
                (e.url += (_t.test(e.url) ? "&" : "?") + e.jsonp + "=" + i),
            (e.converters["script json"] = function () {
              return o || S.error(i + " was not called"), o[0];
            }),
            (e.dataTypes[0] = "json"),
            (r = T[i]),
            (T[i] = function () {
              o = arguments;
            }),
            n.always(function () {
              void 0 === r ? S(T).removeProp(i) : (T[i] = r),
                e[i] && ((e.jsonpCallback = t.jsonpCallback), Wt.push(i)),
                o && b(r) && r(o[0]),
                (o = r = void 0);
            }),
            "script"
          );
      }),
      (v.createHTMLDocument =
        (((qt = C.implementation.createHTMLDocument("").body).innerHTML =
          "<form></form><form></form>"),
        2 === qt.childNodes.length)),
      (S.parseHTML = function (e, t, n) {
        return "string" != typeof e
          ? []
          : ("boolean" == typeof t && ((n = t), (t = !1)),
            t ||
              (v.createHTMLDocument
                ? (((i = (t =
                    C.implementation.createHTMLDocument("")).createElement(
                    "base"
                  )).href = C.location.href),
                  t.head.appendChild(i))
                : (t = C)),
            (o = !n && []),
            (r = O.exec(e))
              ? [t.createElement(r[1])]
              : ((r = ve([e], t, o)),
                o && o.length && S(o).remove(),
                S.merge([], r.childNodes)));
        var i, r, o;
      }),
      (S.fn.load = function (e, t, n) {
        var i,
          r,
          o,
          a = this,
          s = e.indexOf(" ");
        return (
          -1 < s && ((i = ft(e.slice(s))), (e = e.slice(0, s))),
          b(t)
            ? ((n = t), (t = void 0))
            : t && "object" == typeof t && (r = "POST"),
          0 < a.length &&
            S.ajax({ url: e, type: r || "GET", dataType: "html", data: t })
              .done(function (e) {
                (o = arguments),
                  a.html(i ? S("<div>").append(S.parseHTML(e)).find(i) : e);
              })
              .always(
                n &&
                  function (e, t) {
                    a.each(function () {
                      n.apply(this, o || [e.responseText, t, e]);
                    });
                  }
              ),
          this
        );
      }),
      S.each(
        [
          "ajaxStart",
          "ajaxStop",
          "ajaxComplete",
          "ajaxError",
          "ajaxSuccess",
          "ajaxSend",
        ],
        function (e, t) {
          S.fn[t] = function (e) {
            return this.on(t, e);
          };
        }
      ),
      (S.expr.pseudos.animated = function (t) {
        return S.grep(S.timers, function (e) {
          return t === e.elem;
        }).length;
      }),
      (S.offset = {
        setOffset: function (e, t, n) {
          var i,
            r,
            o,
            a,
            s,
            u,
            l = S.css(e, "position"),
            c = S(e),
            d = {};
          "static" === l && (e.style.position = "relative"),
            (s = c.offset()),
            (o = S.css(e, "top")),
            (u = S.css(e, "left")),
            ("absolute" === l || "fixed" === l) && -1 < (o + u).indexOf("auto")
              ? ((a = (i = c.position()).top), (r = i.left))
              : ((a = parseFloat(o) || 0), (r = parseFloat(u) || 0)),
            b(t) && (t = t.call(e, n, S.extend({}, s))),
            null != t.top && (d.top = t.top - s.top + a),
            null != t.left && (d.left = t.left - s.left + r),
            "using" in t ? t.using.call(e, d) : c.css(d);
        },
      }),
      S.fn.extend({
        offset: function (t) {
          if (arguments.length)
            return void 0 === t
              ? this
              : this.each(function (e) {
                  S.offset.setOffset(this, t, e);
                });
          var e,
            n,
            i = this[0];
          return i
            ? i.getClientRects().length
              ? ((e = i.getBoundingClientRect()),
                (n = i.ownerDocument.defaultView),
                { top: e.top + n.pageYOffset, left: e.left + n.pageXOffset })
              : { top: 0, left: 0 }
            : void 0;
        },
        position: function () {
          if (this[0]) {
            var e,
              t,
              n,
              i = this[0],
              r = { top: 0, left: 0 };
            if ("fixed" === S.css(i, "position")) t = i.getBoundingClientRect();
            else {
              for (
                t = this.offset(),
                  n = i.ownerDocument,
                  e = i.offsetParent || n.documentElement;
                e &&
                (e === n.body || e === n.documentElement) &&
                "static" === S.css(e, "position");

              )
                e = e.parentNode;
              e &&
                e !== i &&
                1 === e.nodeType &&
                (((r = S(e).offset()).top += S.css(e, "borderTopWidth", !0)),
                (r.left += S.css(e, "borderLeftWidth", !0)));
            }
            return {
              top: t.top - r.top - S.css(i, "marginTop", !0),
              left: t.left - r.left - S.css(i, "marginLeft", !0),
            };
          }
        },
        offsetParent: function () {
          return this.map(function () {
            for (
              var e = this.offsetParent;
              e && "static" === S.css(e, "position");

            )
              e = e.offsetParent;
            return e || be;
          });
        },
      }),
      S.each(
        { scrollLeft: "pageXOffset", scrollTop: "pageYOffset" },
        function (t, r) {
          var o = "pageYOffset" === r;
          S.fn[t] = function (e) {
            return q(
              this,
              function (e, t, n) {
                var i;
                if (
                  (y(e) ? (i = e) : 9 === e.nodeType && (i = e.defaultView),
                  void 0 === n)
                )
                  return i ? i[r] : e[t];
                i
                  ? i.scrollTo(o ? i.pageXOffset : n, o ? n : i.pageYOffset)
                  : (e[t] = n);
              },
              t,
              e,
              arguments.length
            );
          };
        }
      ),
      S.each(["top", "left"], function (e, n) {
        S.cssHooks[n] = Be(v.pixelPosition, function (e, t) {
          if (t)
            return (t = Fe(e, n)), Le.test(t) ? S(e).position()[n] + "px" : t;
        });
      }),
      S.each({ Height: "height", Width: "width" }, function (a, s) {
        S.each(
          { padding: "inner" + a, content: s, "": "outer" + a },
          function (i, o) {
            S.fn[o] = function (e, t) {
              var n = arguments.length && (i || "boolean" != typeof e),
                r = i || (!0 === e || !0 === t ? "margin" : "border");
              return q(
                this,
                function (e, t, n) {
                  var i;
                  return y(e)
                    ? 0 === o.indexOf("outer")
                      ? e["inner" + a]
                      : e.document.documentElement["client" + a]
                    : 9 === e.nodeType
                    ? ((i = e.documentElement),
                      Math.max(
                        e.body["scroll" + a],
                        i["scroll" + a],
                        e.body["offset" + a],
                        i["offset" + a],
                        i["client" + a]
                      ))
                    : void 0 === n
                    ? S.css(e, t, r)
                    : S.style(e, t, n, r);
                },
                s,
                n ? e : void 0,
                n
              );
            };
          }
        );
      }),
      S.each(
        "blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(
          " "
        ),
        function (e, n) {
          S.fn[n] = function (e, t) {
            return 0 < arguments.length
              ? this.on(n, null, e, t)
              : this.trigger(n);
          };
        }
      ),
      S.fn.extend({
        hover: function (e, t) {
          return this.mouseenter(e).mouseleave(t || e);
        },
      }),
      S.fn.extend({
        bind: function (e, t, n) {
          return this.on(e, null, t, n);
        },
        unbind: function (e, t) {
          return this.off(e, null, t);
        },
        delegate: function (e, t, n, i) {
          return this.on(t, e, n, i);
        },
        undelegate: function (e, t, n) {
          return 1 === arguments.length
            ? this.off(e, "**")
            : this.off(t, e || "**", n);
        },
      }),
      (S.proxy = function (e, t) {
        var n, i, r;
        if (("string" == typeof t && ((n = e[t]), (t = e), (e = n)), b(e)))
          return (
            (i = s.call(arguments, 2)),
            ((r = function () {
              return e.apply(t || this, i.concat(s.call(arguments)));
            }).guid = e.guid =
              e.guid || S.guid++),
            r
          );
      }),
      (S.holdReady = function (e) {
        e ? S.readyWait++ : S.ready(!0);
      }),
      (S.isArray = Array.isArray),
      (S.parseJSON = JSON.parse),
      (S.nodeName = D),
      (S.isFunction = b),
      (S.isWindow = y),
      (S.camelCase = G),
      (S.type = _),
      (S.now = Date.now),
      (S.isNumeric = function (e) {
        var t = S.type(e);
        return ("number" === t || "string" === t) && !isNaN(e - parseFloat(e));
      }),
      "function" == typeof define &&
        define.amd &&
        define("jquery", [], function () {
          return S;
        });
    var zt = T.jQuery,
      Gt = T.$;
    return (
      (S.noConflict = function (e) {
        return (
          T.$ === S && (T.$ = Gt), e && T.jQuery === S && (T.jQuery = zt), S
        );
      }),
      e || (T.jQuery = T.$ = S),
      S
    );
  }),
  (function (h, f, e) {
    var p = {
      nojQuery:
        "jQuery was not found. Please ensure jQuery is referenced before the SignalR client JavaScript file.",
      noTransportOnInit:
        "No transport could be initialized successfully. Try specifying a different transport or none at all for auto initialization.",
      errorOnNegotiate: "Error during negotiation request.",
      stoppedWhileLoading: "The connection was stopped during page load.",
      stoppedWhileNegotiating:
        "The connection was stopped during the negotiate request.",
      errorParsingNegotiateResponse: "Error parsing negotiate response.",
      errorDuringStartRequest:
        "Error during start request. Stopping the connection.",
      stoppedDuringStartRequest:
        "The connection was stopped during the start request.",
      errorParsingStartResponse:
        "Error parsing start response: '{0}'. Stopping the connection.",
      invalidStartResponse:
        "Invalid start response: '{0}'. Stopping the connection.",
      protocolIncompatible:
        "You are using a version of the client that isn't compatible with the server. Client version {0}, server version {1}.",
      sendFailed: "Send failed.",
      parseFailed: "Failed at parsing response: {0}",
      longPollFailed: "Long polling request failed.",
      eventSourceFailedToConnect: "EventSource failed to connect.",
      eventSourceError: "Error raised by EventSource",
      webSocketClosed: "WebSocket closed.",
      pingServerFailedInvalidResponse:
        "Invalid ping response when pinging server: '{0}'.",
      pingServerFailed: "Failed to ping server.",
      pingServerFailedStatusCode:
        "Failed to ping server.  Server responded with status code {0}, stopping the connection.",
      pingServerFailedParse:
        "Failed to parse ping server response, stopping the connection.",
      noConnectionTransport:
        "Connection is in an invalid state, there is no transport active.",
      webSocketsInvalidState:
        "The Web Socket transport is in an invalid state, transitioning into reconnecting.",
      reconnectTimeout:
        "Couldn't reconnect within the configured timeout of {0} ms, disconnecting.",
      reconnectWindowTimeout:
        "The client has been inactive since {0} and it has exceeded the inactivity timeout of {1} ms. Stopping the connection.",
    };
    if ("function" != typeof h) throw new Error(p.nojQuery);
    var g,
      t,
      n,
      i,
      m = "complete" === f.document.readyState,
      v = h(f),
      b = "__Negotiate Aborted__",
      y = {
        onStart: "onStart",
        onStarting: "onStarting",
        onReceived: "onReceived",
        onError: "onError",
        onConnectionSlow: "onConnectionSlow",
        onReconnecting: "onReconnecting",
        onReconnect: "onReconnect",
        onStateChanged: "onStateChanged",
        onDisconnect: "onDisconnect",
      },
      w = function (e, t, n) {
        return (
          t === e.state &&
          ((e.state = n),
          h(e).triggerHandler(y.onStateChanged, [{ oldState: t, newState: n }]),
          !0)
        );
      },
      _ = function (e) {
        return e._.keepAliveData.activated && e.transport.supportsKeepAlive(e);
      };
    function r(e, t) {
      return t.match(/:\d+$/)
        ? t
        : t + ":" + ("http:" === (n = e) ? 80 : "https:" === n ? 443 : void 0);
      var n;
    }
    function o(t, e) {
      var n = [];
      (this.tryBuffer = function (e) {
        return (
          t.state === h.signalR.connectionState.connecting && (n.push(e), !0)
        );
      }),
        (this.drain = function () {
          if (t.state === h.signalR.connectionState.connected)
            for (; 0 < n.length; ) e(n.shift());
        }),
        (this.clear = function () {
          n = [];
        });
    }
    ((g = function (e, t, n) {
      return new g.fn.init(e, t, n);
    })._ = {
      defaultContentType: "application/x-www-form-urlencoded; charset=UTF-8",
      ieVersion:
        ("Microsoft Internet Explorer" === f.navigator.appName &&
          (i = /MSIE ([0-9]+\.[0-9]+)/.exec(f.navigator.userAgent)) &&
          (n = f.parseFloat(i[1])),
        n),
      error: function (e, t, n) {
        var i = new Error(e);
        return (i.source = t), void 0 !== n && (i.context = n), i;
      },
      transportError: function (e, t, n, i) {
        var r = this.error(e, n, i);
        return (r.transport = t ? t.name : void 0), r;
      },
      format: function () {
        for (var e = arguments[0], t = 0; t < arguments.length - 1; t++)
          e = e.replace("{" + t + "}", arguments[t + 1]);
        return e;
      },
      firefoxMajorVersion: function (e) {
        var t = e.match(/Firefox\/(\d+)/);
        return !t || !t.length || t.length < 2 ? 0 : parseInt(t[1], 10);
      },
      configurePingInterval: function (t) {
        var e = t._.config,
          n = function (e) {
            h(t).triggerHandler(y.onError, [e]);
          };
        e &&
          !t._.pingIntervalId &&
          e.pingInterval &&
          (t._.pingIntervalId = f.setInterval(function () {
            g.transports._logic.pingServer(t).fail(n);
          }, e.pingInterval));
      },
    }),
      (g.events = y),
      (g.resources = p),
      (g.ajaxDefaults = {
        processData: !0,
        timeout: null,
        async: !0,
        global: !1,
        cache: !1,
      }),
      (g.changeState = w),
      (g.isDisconnecting = function (e) {
        return e.state === g.connectionState.disconnected;
      }),
      (g.connectionState = {
        connecting: 0,
        connected: 1,
        reconnecting: 2,
        disconnected: 4,
      }),
      (g.hub = {
        start: function () {
          throw new Error(
            "SignalR: Error loading hubs. Ensure your hubs reference is correct, e.g. <script src='/signalr/js'></script>."
          );
        },
      }),
      "function" == typeof v.on
        ? v.on("load", function () {
            m = !0;
          })
        : v.load(function () {
            m = !0;
          }),
      (g.fn = g.prototype =
        {
          init: function (e, t, n) {
            var i = h(this);
            (this.url = e),
              (this.qs = t),
              (this.lastError = null),
              (this._ = {
                keepAliveData: {},
                connectingMessageBuffer: new o(this, function (e) {
                  i.triggerHandler(y.onReceived, [e]);
                }),
                lastMessageAt: new Date().getTime(),
                lastActiveAt: new Date().getTime(),
                beatInterval: 5e3,
                beatHandle: null,
                totalTransportConnectTimeout: 0,
              }),
              "boolean" == typeof n && (this.logging = n);
          },
          _parseResponse: function (e) {
            return e && "string" == typeof e ? this.json.parse(e) : e;
          },
          _originalJson: f.JSON,
          json: f.JSON,
          isCrossDomain: function (e, t) {
            var n;
            return (
              (e = h.trim(e)),
              (t = t || f.location),
              0 === e.indexOf("http") &&
                (((n = f.document.createElement("a")).href = e),
                n.protocol + r(n.protocol, n.host) !==
                  t.protocol + r(t.protocol, t.host))
            );
          },
          ajaxDataType: "text",
          contentType: "application/json; charset=UTF-8",
          logging: !1,
          state: g.connectionState.disconnected,
          clientProtocol: "1.5",
          reconnectDelay: 2e3,
          transportConnectTimeout: 0,
          disconnectTimeout: 3e4,
          reconnectWindow: 3e4,
          keepAliveWarnAt: 2 / 3,
          start: function (e, n) {
            var a,
              t,
              i,
              r,
              s = this,
              u = {
                pingInterval: 3e5,
                waitForPageLoad: !0,
                transport: "auto",
                jsonp: !1,
              },
              l = s._deferral || h.Deferred(),
              o = f.document.createElement("a");
            if (((s.lastError = null), (s._deferral = l), !s.json))
              throw new Error(
                "SignalR: No JSON parser found. Please ensure json2.js is referenced before the SignalR.js file if you need to support clients without native JSON parsing support, e.g. IE<8."
              );
            if (
              ("function" === h.type(e)
                ? (n = e)
                : "object" === h.type(e) &&
                  (h.extend(u, e),
                  "function" === h.type(u.callback) && (n = u.callback)),
              (u.transport = (function (e, t) {
                if (h.isArray(e)) {
                  for (var n = e.length - 1; 0 <= n; n--) {
                    var i = e[n];
                    ("string" === h.type(i) && g.transports[i]) ||
                      (t.log(
                        "Invalid transport: " +
                          i +
                          ", removing it from the transports list."
                      ),
                      e.splice(n, 1));
                  }
                  0 === e.length &&
                    (t.log(
                      "No transports remain within the specified transport array."
                    ),
                    (e = null));
                } else if (g.transports[e] || "auto" === e) {
                  if ("auto" === e && g._.ieVersion <= 8)
                    return ["longPolling"];
                } else
                  t.log("Invalid transport: " + e.toString() + "."), (e = null);
                return e;
              })(u.transport, s)),
              !u.transport)
            )
              throw new Error(
                "SignalR: Invalid transport(s) specified, aborting start."
              );
            if (((s._.config = u), !m && !0 === u.waitForPageLoad))
              return (
                (s._.deferredStartHandler = function () {
                  s.start(e, n);
                }),
                v.bind("load", s._.deferredStartHandler),
                l.promise()
              );
            if (s.state === g.connectionState.connecting) return l.promise();
            if (
              !1 ===
              w(s, g.connectionState.disconnected, g.connectionState.connecting)
            )
              return l.resolve(s), l.promise();
            (t = s)._.configuredStopReconnectingTimeout ||
              ((r = function (e) {
                var t = g._.format(
                  g.resources.reconnectTimeout,
                  e.disconnectTimeout
                );
                e.log(t),
                  h(e).triggerHandler(y.onError, [
                    g._.error(t, "TimeoutException"),
                  ]),
                  e.stop(!1, !1);
              }),
              t.reconnecting(function () {
                var e = this;
                e.state === g.connectionState.reconnecting &&
                  (i = f.setTimeout(function () {
                    r(e);
                  }, e.disconnectTimeout));
              }),
              t.stateChanged(function (e) {
                e.oldState === g.connectionState.reconnecting &&
                  f.clearTimeout(i);
              }),
              (t._.configuredStopReconnectingTimeout = !0)),
              (o.href = s.url),
              o.protocol && ":" !== o.protocol
                ? ((s.protocol = o.protocol), (s.host = o.host))
                : ((s.protocol = f.document.location.protocol),
                  (s.host = o.host || f.document.location.host)),
              (s.baseUrl = s.protocol + "//" + "localhost:6001"),
              (s.wsProtocol = "https:" === s.protocol ? "wss://" : "ws://"),
              "auto" === u.transport &&
                !0 === u.jsonp &&
                (u.transport = "longPolling"),
              0 === s.url.indexOf("//") &&
                ((s.url = f.location.protocol + s.url),
                s.log(
                  "Protocol relative URL detected, normalizing it to '" +
                    s.url +
                    "'."
                )),
              this.isCrossDomain(s.url) &&
                (s.log("Auto detected cross domain url."),
                "auto" === u.transport &&
                  (u.transport = [
                    "webSockets",
                    "serverSentEvents",
                    "longPolling",
                  ]),
                void 0 === u.withCredentials && (u.withCredentials = !0),
                u.jsonp ||
                  ((u.jsonp = !h.support.cors),
                  u.jsonp &&
                    s.log(
                      "Using jsonp because this browser doesn't support CORS."
                    )),
                (s.contentType = g._.defaultContentType)),
              (s.withCredentials = u.withCredentials),
              (s.ajaxDataType = u.jsonp ? "jsonp" : "text"),
              h(s).bind(y.onStart, function (e, t) {
                "function" === h.type(n) && n.call(s), l.resolve(s);
              }),
              (s._.initHandler = g.transports._logic.initHandler(s)),
              (a = function (e, t) {
                var n = g._.error(p.noTransportOnInit);
                if ((t = t || 0) >= e.length)
                  return (
                    0 === t
                      ? s.log(
                          "No transports supported by the server were selected."
                        )
                      : 1 === t
                      ? s.log("No fallback transports were selected.")
                      : s.log("Fallback transports exhausted."),
                    h(s).triggerHandler(y.onError, [n]),
                    l.reject(n),
                    void s.stop()
                  );
                if (s.state !== g.connectionState.disconnected) {
                  var i = e[t],
                    r = g.transports[i],
                    o = function () {
                      a(e, t + 1);
                    };
                  s.transport = r;
                  try {
                    s._.initHandler.start(
                      r,
                      function () {
                        var e =
                            11 <=
                            g._.firefoxMajorVersion(f.navigator.userAgent),
                          t = !!s.withCredentials && e;
                        s.log(
                          "The start request succeeded. Transitioning to the connected state."
                        ),
                          _(s) && g.transports._logic.monitorKeepAlive(s),
                          g.transports._logic.startHeartbeat(s),
                          g._.configurePingInterval(s),
                          w(
                            s,
                            g.connectionState.connecting,
                            g.connectionState.connected
                          ) ||
                            s.log(
                              "WARNING! The connection was not in the connecting state."
                            ),
                          s._.connectingMessageBuffer.drain(),
                          h(s).triggerHandler(y.onStart),
                          v.bind("unload", function () {
                            s.log("Window unloading, stopping the connection."),
                              s.stop(t);
                          }),
                          e &&
                            v.bind("beforeunload", function () {
                              f.setTimeout(function () {
                                s.stop(t);
                              }, 0);
                            });
                      },
                      o
                    );
                  } catch (e) {
                    s.log(
                      r.name +
                        " transport threw '" +
                        e.message +
                        "' when attempting to start."
                    ),
                      o();
                  }
                }
              });
            var c = "http://localhost:6001/negotiate",
              d = function (e, t) {
                var n = g._.error(p.errorOnNegotiate, e, t._.negotiateRequest);
                h(t).triggerHandler(y.onError, n), l.reject(n), t.stop();
              };
            return (
              h(s).triggerHandler(y.onStarting),
              (c = g.transports._logic.prepareQueryString(s, c)),
              s.log("Negotiating with '" + c + "'."),
              (s._.negotiateRequest = g.transports._logic.ajax(s, {
                url: c,
                error: function (e, t) {
                  t !== b
                    ? d(e, s)
                    : l.reject(
                        g._.error(
                          p.stoppedWhileNegotiating,
                          null,
                          s._.negotiateRequest
                        )
                      );
                },
                success: function (e) {
                  var t,
                    n,
                    i,
                    r = [],
                    o = [];
                  try {
                    t = s._parseResponse(e);
                  } catch (e) {
                    return void d(
                      g._.error(p.errorParsingNegotiateResponse, e),
                      s
                    );
                  }
                  if (
                    ((n = s._.keepAliveData),
                    (s.appRelativeUrl = t.Url),
                    (s.id = t.ConnectionId),
                    (s.token = t.ConnectionToken),
                    (s.webSocketServerUrl = t.WebSocketServerUrl),
                    (s._.pollTimeout = 1e3 * t.ConnectionTimeout + 1e4),
                    (s.disconnectTimeout = 1e3 * t.DisconnectTimeout),
                    (s._.totalTransportConnectTimeout =
                      s.transportConnectTimeout +
                      1e3 * t.TransportConnectTimeout),
                    t.KeepAliveTimeout
                      ? ((n.activated = !0),
                        (n.timeout = 1e3 * t.KeepAliveTimeout),
                        (n.timeoutWarning = n.timeout * s.keepAliveWarnAt),
                        (s._.beatInterval = (n.timeout - n.timeoutWarning) / 3))
                      : (n.activated = !1),
                    (s.reconnectWindow =
                      s.disconnectTimeout + (n.timeout || 0)),
                    !t.ProtocolVersion ||
                      t.ProtocolVersion !== s.clientProtocol)
                  )
                    return (
                      (i = g._.error(
                        g._.format(
                          p.protocolIncompatible,
                          s.clientProtocol,
                          t.ProtocolVersion
                        )
                      )),
                      h(s).triggerHandler(y.onError, [i]),
                      void l.reject(i)
                    );
                  h.each(g.transports, function (e) {
                    if (
                      0 === e.indexOf("_") ||
                      ("webSockets" === e && !t.TryWebSockets)
                    )
                      return !0;
                    o.push(e);
                  }),
                    h.isArray(u.transport)
                      ? h.each(u.transport, function (e, t) {
                          0 <= h.inArray(t, o) && r.push(t);
                        })
                      : "auto" === u.transport
                      ? (r = o)
                      : 0 <= h.inArray(u.transport, o) && r.push(u.transport),
                    a(r);
                },
              })),
              l.promise()
            );
          },
          starting: function (n) {
            var i = this;
            return (
              h(i).bind(y.onStarting, function (e, t) {
                n.call(i);
              }),
              i
            );
          },
          send: function (e) {
            var t = this;
            if (t.state === g.connectionState.disconnected)
              throw new Error(
                "SignalR: Connection must be started before data can be sent. Call .start() before .send()"
              );
            if (t.state === g.connectionState.connecting)
              throw new Error(
                "SignalR: Connection has not been fully initialized. Use .start().done() or .start().fail() to run logic after the connection has started."
              );
            return t.transport.send(t, e), t;
          },
          received: function (n) {
            var i = this;
            return (
              h(i).bind(y.onReceived, function (e, t) {
                n.call(i, t);
              }),
              i
            );
          },
          stateChanged: function (n) {
            var i = this;
            return (
              h(i).bind(y.onStateChanged, function (e, t) {
                n.call(i, t);
              }),
              i
            );
          },
          error: function (i) {
            var r = this;
            return (
              h(r).bind(y.onError, function (e, t, n) {
                (r.lastError = t), i.call(r, t, n);
              }),
              r
            );
          },
          disconnected: function (n) {
            var i = this;
            return (
              h(i).bind(y.onDisconnect, function (e, t) {
                n.call(i);
              }),
              i
            );
          },
          connectionSlow: function (n) {
            var i = this;
            return (
              h(i).bind(y.onConnectionSlow, function (e, t) {
                n.call(i);
              }),
              i
            );
          },
          reconnecting: function (n) {
            var i = this;
            return (
              h(i).bind(y.onReconnecting, function (e, t) {
                n.call(i);
              }),
              i
            );
          },
          reconnected: function (n) {
            var i = this;
            return (
              h(i).bind(y.onReconnect, function (e, t) {
                n.call(i);
              }),
              i
            );
          },
          stop: function (e, t) {
            var n = this,
              i = n._deferral;
            return (
              n._.deferredStartHandler &&
                v.unbind("load", n._.deferredStartHandler),
              delete n._.config,
              delete n._.deferredStartHandler,
              m || (n._.config && !0 !== n._.config.waitForPageLoad)
                ? n.state !== g.connectionState.disconnected
                  ? (n.log("Stopping connection."),
                    f.clearTimeout(n._.beatHandle),
                    f.clearInterval(n._.pingIntervalId),
                    n.transport &&
                      (n.transport.stop(n),
                      !1 !== t && n.transport.abort(n, e),
                      _(n) && g.transports._logic.stopMonitoringKeepAlive(n),
                      (n.transport = null)),
                    n._.negotiateRequest &&
                      (n._.negotiateRequest.abort(b),
                      delete n._.negotiateRequest),
                    n._.initHandler && n._.initHandler.stop(),
                    delete n._deferral,
                    delete n.messageId,
                    delete n.groupsToken,
                    delete n.id,
                    delete n._.pingIntervalId,
                    delete n._.lastMessageAt,
                    delete n._.lastActiveAt,
                    n._.connectingMessageBuffer.clear(),
                    h(n).unbind(y.onStart),
                    w(n, n.state, g.connectionState.disconnected),
                    h(n).triggerHandler(y.onDisconnect),
                    n)
                  : void 0
                : (n.log("Stopping connection prior to negotiate."),
                  void (i && i.reject(g._.error(p.stoppedWhileLoading))))
            );
          },
          log: function (e) {
            var t, n;
            (t = e),
              !1 !== this.logging &&
                void 0 !== f.console &&
                ((n = "[" + new Date().toTimeString() + "] SignalR: " + t),
                f.console.debug
                  ? f.console.debug(n)
                  : f.console.log && f.console.log(n));
          },
        }),
      (g.fn.init.prototype = g.fn),
      (g.noConflict = function () {
        return h.connection === g && (h.connection = t), g;
      }),
      h.connection && (t = h.connection),
      (h.connection = h.signalR = g);
  })(window.jQuery, window),
  (function (s, u, e) {
    var l,
      c = s.signalR,
      d = s.signalR.events,
      t = s.signalR.changeState,
      h = "__Start Aborted__";
    function r(e) {
      var t, n, i;
      e._.keepAliveData.monitoring &&
        ((i = (t = e)._.keepAliveData),
        t.state === c.connectionState.connected &&
          ((n = new Date().getTime() - t._.lastMessageAt) >= i.timeout
            ? (t.log(
                "Keep alive timed out.  Notifying transport that connection has been lost."
              ),
              t.transport.lostConnection(t))
            : n >= i.timeoutWarning
            ? i.userNotified ||
              (t.log(
                "Keep alive has been missed, connection may be dead/slow."
              ),
              s(t).triggerHandler(d.onConnectionSlow),
              (i.userNotified = !0))
            : (i.userNotified = !1))),
        l.markActive(e) &&
          (e._.beatHandle = u.setTimeout(function () {
            r(e);
          }, e._.beatInterval));
    }
    function f(e, t) {
      var n = e.url + t;
      return (
        e.transport && (n += "?transport=" + e.transport.name),
        l.prepareQueryString(e, n)
      );
    }
    function n(e) {
      (this.connection = e),
        (this.startRequested = !1),
        (this.startCompleted = !1),
        (this.connectionStopped = !1);
    }
    (c.transports = {}),
      (n.prototype = {
        start: function (t, e, n) {
          var i = this,
            r = i.connection,
            o = !1;
          i.startRequested || i.connectionStopped
            ? r.log(
                "WARNING! " +
                  t.name +
                  " transport cannot be started. Initialization ongoing or completed."
              )
            : (r.log(t.name + " transport starting."),
              t.start(
                r,
                function () {
                  o || i.initReceived(t, e);
                },
                function (e) {
                  return (
                    o || ((o = !0), i.transportFailed(t, e, n)),
                    !i.startCompleted || i.connectionStopped
                  );
                }
              ),
              (i.transportTimeoutHandle = u.setTimeout(function () {
                o ||
                  ((o = !0),
                  r.log(
                    t.name + " transport timed out when trying to connect."
                  ),
                  i.transportFailed(t, void 0, n));
              }, r._.totalTransportConnectTimeout)));
        },
        stop: function () {
          (this.connectionStopped = !0),
            u.clearTimeout(this.transportTimeoutHandle),
            c.transports._logic.tryAbortStartRequest(this.connection);
        },
        initReceived: function (e, t) {
          var n = this,
            i = n.connection;
          n.startRequested
            ? i.log("WARNING! The client received multiple init messages.")
            : n.connectionStopped ||
              ((n.startRequested = !0),
              u.clearTimeout(n.transportTimeoutHandle),
              i.log(e.name + " transport connected. Initiating start request."),
              c.transports._logic.ajaxStart(i, function () {
                (n.startCompleted = !0), t();
              }));
        },
        transportFailed: function (e, t, n) {
          var i,
            r = this.connection,
            o = r._deferral;
          this.connectionStopped ||
            (u.clearTimeout(this.transportTimeoutHandle),
            this.startRequested
              ? this.startCompleted ||
                ((i = c._.error(c.resources.errorDuringStartRequest, t)),
                r.log(
                  e.name +
                    " transport failed during the start request. Stopping the connection."
                ),
                s(r).triggerHandler(d.onError, [i]),
                o && o.reject(i),
                r.stop())
              : (e.stop(r),
                r.log(
                  e.name +
                    " transport failed to connect. Attempting to fall back."
                ),
                n()));
        },
      }),
      (l = c.transports._logic =
        {
          ajax: function (e, t) {
            return s.ajax(
              s.extend(
                !0,
                {},
                s.signalR.ajaxDefaults,
                {
                  type: "GET",
                  data: {},
                  xhrFields: { withCredentials: e.withCredentials },
                  contentType: e.contentType,
                  dataType: e.ajaxDataType,
                },
                t
              )
            );
          },
          pingServer: function (n) {
            var e,
              i,
              r = s.Deferred();
            return (
              n.transport
                ? ((e = n.url + "/ping"),
                  (e = l.addQs(e, n.qs)),
                  (i = l.ajax(n, {
                    url: e,
                    success: function (e) {
                      var t;
                      try {
                        t = n._parseResponse(e);
                      } catch (e) {
                        return (
                          r.reject(
                            c._.transportError(
                              c.resources.pingServerFailedParse,
                              n.transport,
                              e,
                              i
                            )
                          ),
                          void n.stop()
                        );
                      }
                      "pong" === t.Response
                        ? r.resolve()
                        : r.reject(
                            c._.transportError(
                              c._.format(
                                c.resources.pingServerFailedInvalidResponse,
                                e
                              ),
                              n.transport,
                              null,
                              i
                            )
                          );
                    },
                    error: function (e) {
                      401 === e.status || 403 === e.status
                        ? (r.reject(
                            c._.transportError(
                              c._.format(
                                c.resources.pingServerFailedStatusCode,
                                e.status
                              ),
                              n.transport,
                              e,
                              i
                            )
                          ),
                          n.stop())
                        : r.reject(
                            c._.transportError(
                              c.resources.pingServerFailed,
                              n.transport,
                              e,
                              i
                            )
                          );
                    },
                  })))
                : r.reject(
                    c._.transportError(
                      c.resources.noConnectionTransport,
                      n.transport
                    )
                  ),
              r.promise()
            );
          },
          prepareQueryString: function (e, t) {
            var n;
            return (
              (n = l.addQs(t, "clientProtocol=" + e.clientProtocol)),
              (n = l.addQs(n, e.qs)),
              e.token &&
                (n += "&connectionToken=" + u.encodeURIComponent(e.token)),
              e.data &&
                (n += "&connectionData=" + u.encodeURIComponent(e.data)),
              n
            );
          },
          addQs: function (e, t) {
            var n,
              i = -1 !== e.indexOf("?") ? "&" : "?";
            if (!t) return e;
            if ("object" == typeof t) return e + i + s.param(t);
            if ("string" == typeof t)
              return (
                ("?" !== (n = t.charAt(0)) && "&" !== n) || (i = ""), e + i + t
              );
            throw new Error(
              "Query string property must be either a string or object."
            );
          },
          getUrl: function (e, t, n, i, r) {
            var o = ("webSockets" === t ? "" : e.baseUrl) + e.appRelativeUrl,
              a = "transport=" + t;
            return (
              !r &&
                e.groupsToken &&
                (a += "&groupsToken=" + u.encodeURIComponent(e.groupsToken)),
              n
                ? ((o += i ? "/poll" : "/reconnect"),
                  !r &&
                    e.messageId &&
                    (a += "&messageId=" + u.encodeURIComponent(e.messageId)))
                : (o += "/connect"),
              (o += "?" + a),
              (o = l.prepareQueryString(e, o)),
              r || (o += "&tid=" + Math.floor(11 * Math.random())),
              o
            );
          },
          maximizePersistentResponse: function (e) {
            return {
              MessageId: e.C,
              Messages: e.M,
              Initialized: void 0 !== e.S,
              ShouldReconnect: void 0 !== e.T,
              LongPollDelay: e.L,
              GroupsToken: e.G,
            };
          },
          updateGroups: function (e, t) {
            t && (e.groupsToken = t);
          },
          stringifySend: function (e, t) {
            return "string" == typeof t || null == t ? t : e.json.stringify(t);
          },
          ajaxSend: function (n, i) {
            var r,
              e = l.stringifySend(n, i),
              t = f(n, "/send"),
              o = function (e, t) {
                s(t).triggerHandler(d.onError, [
                  c._.transportError(c.resources.sendFailed, t.transport, e, r),
                  i,
                ]);
              };
            return (r = l.ajax(n, {
              url: t,
              type: "jsonp" === n.ajaxDataType ? "GET" : "POST",
              contentType: c._.defaultContentType,
              data: { data: e },
              success: function (e) {
                var t;
                if (e) {
                  try {
                    t = n._parseResponse(e);
                  } catch (e) {
                    return o(e, n), void n.stop();
                  }
                  l.triggerReceived(n, t);
                }
              },
              error: function (e, t) {
                "abort" !== t && "parsererror" !== t && o(e, n);
              },
            }));
          },
          ajaxAbort: function (e, t) {
            if (void 0 !== e.transport) {
              t = void 0 === t || t;
              var n = f(e, "/abort");
              l.ajax(e, { url: n, async: t, timeout: 1e3, type: "POST" }),
                e.log("Fired ajax abort async = " + t + ".");
            }
          },
          ajaxStart: function (r, o) {
            var i = function (e) {
                var t = r._deferral;
                t && t.reject(e);
              },
              a = function (e) {
                r.log("The start request failed. Stopping the connection."),
                  s(r).triggerHandler(d.onError, [e]),
                  i(e),
                  r.stop();
              };
            r._.startRequest = l.ajax(r, {
              url: f(r, "/start"),
              success: function (t, e, n) {
                var i;
                try {
                  i = r._parseResponse(t);
                } catch (e) {
                  return void a(
                    c._.error(
                      c._.format(c.resources.errorParsingStartResponse, t),
                      e,
                      n
                    )
                  );
                }
                "started" === i.Response
                  ? o()
                  : a(
                      c._.error(
                        c._.format(c.resources.invalidStartResponse, t),
                        null,
                        n
                      )
                    );
              },
              error: function (e, t, n) {
                t !== h
                  ? a(c._.error(c.resources.errorDuringStartRequest, n, e))
                  : (r.log(
                      "The start request aborted because connection.stop() was called."
                    ),
                    i(
                      c._.error(c.resources.stoppedDuringStartRequest, null, e)
                    ));
              },
            });
          },
          tryAbortStartRequest: function (e) {
            e._.startRequest &&
              (e._.startRequest.abort(h), delete e._.startRequest);
          },
          tryInitialize: function (e, t, n) {
            t.Initialized && n
              ? n()
              : t.Initialized &&
                e.log(
                  "WARNING! The client received an init message after reconnecting."
                );
          },
          triggerReceived: function (e, t) {
            e._.connectingMessageBuffer.tryBuffer(t) ||
              s(e).triggerHandler(d.onReceived, [t]);
          },
          processMessages: function (n, e, t) {
            var i;
            l.markLastMessage(n),
              e &&
                ((i = l.maximizePersistentResponse(e)),
                l.updateGroups(n, i.GroupsToken),
                i.MessageId && (n.messageId = i.MessageId),
                i.Messages &&
                  (s.each(i.Messages, function (e, t) {
                    l.triggerReceived(n, t);
                  }),
                  l.tryInitialize(n, i, t)));
          },
          monitorKeepAlive: function (e) {
            var t = e._.keepAliveData;
            t.monitoring
              ? e.log(
                  "Tried to monitor keep alive but it's already being monitored."
                )
              : ((t.monitoring = !0),
                l.markLastMessage(e),
                (e._.keepAliveData.reconnectKeepAliveUpdate = function () {
                  l.markLastMessage(e);
                }),
                s(e).bind(
                  d.onReconnect,
                  e._.keepAliveData.reconnectKeepAliveUpdate
                ),
                e.log(
                  "Now monitoring keep alive with a warning timeout of " +
                    t.timeoutWarning +
                    ", keep alive timeout of " +
                    t.timeout +
                    " and disconnecting timeout of " +
                    e.disconnectTimeout
                ));
          },
          stopMonitoringKeepAlive: function (e) {
            var t = e._.keepAliveData;
            t.monitoring &&
              ((t.monitoring = !1),
              s(e).unbind(
                d.onReconnect,
                e._.keepAliveData.reconnectKeepAliveUpdate
              ),
              (e._.keepAliveData = {}),
              e.log("Stopping the monitoring of the keep alive."));
          },
          startHeartbeat: function (e) {
            (e._.lastActiveAt = new Date().getTime()), r(e);
          },
          markLastMessage: function (e) {
            e._.lastMessageAt = new Date().getTime();
          },
          markActive: function (e) {
            return (
              !!l.verifyLastActive(e) &&
              ((e._.lastActiveAt = new Date().getTime()), !0)
            );
          },
          isConnectedOrReconnecting: function (e) {
            return (
              e.state === c.connectionState.connected ||
              e.state === c.connectionState.reconnecting
            );
          },
          ensureReconnectingState: function (e) {
            return (
              !0 ===
                t(
                  e,
                  c.connectionState.connected,
                  c.connectionState.reconnecting
                ) && s(e).triggerHandler(d.onReconnecting),
              e.state === c.connectionState.reconnecting
            );
          },
          clearReconnectTimeout: function (e) {
            e &&
              e._.reconnectTimeout &&
              (u.clearTimeout(e._.reconnectTimeout),
              delete e._.reconnectTimeout);
          },
          verifyLastActive: function (e) {
            if (new Date().getTime() - e._.lastActiveAt >= e.reconnectWindow) {
              var t = c._.format(
                c.resources.reconnectWindowTimeout,
                new Date(e._.lastActiveAt),
                e.reconnectWindow
              );
              return (
                e.log(t),
                s(e).triggerHandler(d.onError, [
                  c._.error(t, "TimeoutException"),
                ]),
                e.stop(!1, !1),
                !1
              );
            }
            return !0;
          },
          reconnect: function (e, t) {
            var n = c.transports[t];
            if (l.isConnectedOrReconnecting(e) && !e._.reconnectTimeout) {
              if (!l.verifyLastActive(e)) return;
              e._.reconnectTimeout = u.setTimeout(function () {
                l.verifyLastActive(e) &&
                  (n.stop(e),
                  l.ensureReconnectingState(e) &&
                    (e.log(t + " reconnecting."), n.start(e)));
              }, e.reconnectDelay);
            }
          },
          handleParseFailure: function (e, t, n, i, r) {
            var o = c._.transportError(
              c._.format(c.resources.parseFailed, t),
              e.transport,
              n,
              r
            );
            i && i(o)
              ? e.log(
                  "Failed to parse server response while attempting to connect."
                )
              : (s(e).triggerHandler(d.onError, [o]), e.stop());
          },
          initHandler: function (e) {
            return new n(e);
          },
          foreverFrame: { count: 0, connections: {} },
        });
  })(window.jQuery, window),
  (function (u, l, e) {
    var c = u.signalR,
      d = u.signalR.events,
      h = u.signalR.changeState,
      f = c.transports._logic;
    c.transports.webSockets = {
      name: "webSockets",
      supportsKeepAlive: function () {
        return !0;
      },
      send: function (t, n) {
        var e = f.stringifySend(t, n);
        try {
          t.socket.send(e);
        } catch (e) {
          u(t).triggerHandler(d.onError, [
            c._.transportError(
              c.resources.webSocketsInvalidState,
              t.transport,
              e,
              t.socket
            ),
            n,
          ]);
        }
      },
      start: function (n, i, r) {
        var e,
          o = !1,
          a = this,
          t = !i,
          s = u(n);
        l.WebSocket
          ? n.socket ||
            ((e = n.webSocketServerUrl
              ? n.webSocketServerUrl
              : n.wsProtocol + n.host),
            (e += f.getUrl(n, this.name, t)),
            n.log("Connecting to websocket endpoint '" + e + "'."),
            (n.socket = new l.WebSocket(e)),
            (n.socket.onopen = function () {
              (o = !0),
                n.log("Websocket opened."),
                f.clearReconnectTimeout(n),
                !0 ===
                  h(
                    n,
                    c.connectionState.reconnecting,
                    c.connectionState.connected
                  ) && s.triggerHandler(d.onReconnect);
            }),
            (n.socket.onclose = function (e) {
              var t;
              this === n.socket &&
                (o && void 0 !== e.wasClean && !1 === e.wasClean
                  ? ((t = c._.transportError(
                      c.resources.webSocketClosed,
                      n.transport,
                      e
                    )),
                    n.log(
                      "Unclean disconnect from websocket: " +
                        (e.reason || "[no reason given].")
                    ))
                  : n.log("Websocket closed."),
                (r && r(t)) ||
                  (t && u(n).triggerHandler(d.onError, [t]), a.reconnect(n)));
            }),
            (n.socket.onmessage = function (t) {
              var e;
              try {
                e = n._parseResponse(t.data);
              } catch (e) {
                return void f.handleParseFailure(n, t.data, e, r, t);
              }
              e &&
                (u.isEmptyObject(e) || e.M
                  ? f.processMessages(n, e, i)
                  : f.triggerReceived(n, e));
            }))
          : r();
      },
      reconnect: function (e) {
        f.reconnect(e, this.name);
      },
      lostConnection: function (e) {
        this.reconnect(e);
      },
      stop: function (e) {
        f.clearReconnectTimeout(e),
          e.socket &&
            (e.log("Closing the Websocket."),
            e.socket.close(),
            (e.socket = null));
      },
      abort: function (e, t) {
        f.ajaxAbort(e, t);
      },
    };
  })(window.jQuery, window),
  (function (u, l, e) {
    var c = u.signalR,
      d = u.signalR.events,
      h = u.signalR.changeState,
      f = c.transports._logic,
      p = function (e) {
        l.clearTimeout(e._.reconnectAttemptTimeoutHandle),
          delete e._.reconnectAttemptTimeoutHandle;
      };
    c.transports.serverSentEvents = {
      name: "serverSentEvents",
      supportsKeepAlive: function () {
        return !0;
      },
      timeOut: 3e3,
      start: function (n, i, r) {
        var e,
          o = this,
          t = !1,
          a = u(n),
          s = !i;
        if (
          (n.eventSource &&
            (n.log("The connection already has an event source. Stopping it."),
            n.stop()),
          l.EventSource)
        ) {
          e = f.getUrl(n, this.name, s);
          try {
            n.log("Attempting to connect to SSE endpoint '" + e + "'."),
              (n.eventSource = new l.EventSource(e, {
                withCredentials: n.withCredentials,
              }));
          } catch (e) {
            return (
              n.log(
                "EventSource failed trying to connect with error " +
                  e.Message +
                  "."
              ),
              void (r
                ? r()
                : (a.triggerHandler(d.onError, [
                    c._.transportError(
                      c.resources.eventSourceFailedToConnect,
                      n.transport,
                      e
                    ),
                  ]),
                  s && o.reconnect(n)))
            );
          }
          s &&
            (n._.reconnectAttemptTimeoutHandle = l.setTimeout(function () {
              !1 === t &&
                n.eventSource.readyState !== l.EventSource.OPEN &&
                o.reconnect(n);
            }, o.timeOut)),
            n.eventSource.addEventListener(
              "open",
              function (e) {
                n.log("EventSource connected."),
                  p(n),
                  f.clearReconnectTimeout(n),
                  !1 === t &&
                    (t = !0) ===
                      h(
                        n,
                        c.connectionState.reconnecting,
                        c.connectionState.connected
                      ) &&
                    a.triggerHandler(d.onReconnect);
              },
              !1
            ),
            n.eventSource.addEventListener(
              "message",
              function (t) {
                var e;
                if ("initialized" !== t.data) {
                  try {
                    e = n._parseResponse(t.data);
                  } catch (e) {
                    return void f.handleParseFailure(n, t.data, e, r, t);
                  }
                  f.processMessages(n, e, i);
                }
              },
              !1
            ),
            n.eventSource.addEventListener(
              "error",
              function (e) {
                var t = c._.transportError(
                  c.resources.eventSourceError,
                  n.transport,
                  e
                );
                this === n.eventSource &&
                  ((r && r(t)) ||
                    (n.log(
                      "EventSource readyState: " +
                        n.eventSource.readyState +
                        "."
                    ),
                    e.eventPhase === l.EventSource.CLOSED
                      ? (n.log(
                          "EventSource reconnecting due to the server connection ending."
                        ),
                        o.reconnect(n))
                      : (n.log("EventSource error."),
                        a.triggerHandler(d.onError, [t]))));
              },
              !1
            );
        } else r && (n.log("This browser doesn't support SSE."), r());
      },
      reconnect: function (e) {
        f.reconnect(e, this.name);
      },
      lostConnection: function (e) {
        this.reconnect(e);
      },
      send: function (e, t) {
        f.ajaxSend(e, t);
      },
      stop: function (e) {
        p(e),
          f.clearReconnectTimeout(e),
          e &&
            e.eventSource &&
            (e.log("EventSource calling close()."),
            e.eventSource.close(),
            (e.eventSource = null),
            delete e.eventSource);
      },
      abort: function (e, t) {
        f.ajaxAbort(e, t);
      },
    };
  })(window.jQuery, window),
  (function (o, u, e) {
    var t,
      n,
      a = o.signalR,
      i = o.signalR.events,
      r = o.signalR.changeState,
      l = a.transports._logic,
      c = function () {
        var e = u.document.createElement("iframe");
        return (
          e.setAttribute(
            "style",
            "position:absolute;top:0;left:0;width:0;height:0;visibility:hidden;"
          ),
          e
        );
      },
      d =
        ((t = null),
        (n = 0),
        {
          prevent: function () {
            a._.ieVersion <= 8 &&
              (0 === n &&
                (t = u.setInterval(function () {
                  var e = c();
                  u.document.body.appendChild(e),
                    u.document.body.removeChild(e),
                    (e = null);
                }, 1e3)),
              n++);
          },
          cancel: function () {
            1 === n && u.clearInterval(t), 0 < n && n--;
          },
        });
    a.transports.foreverFrame = {
      name: "foreverFrame",
      supportsKeepAlive: function () {
        return !0;
      },
      iframeClearThreshold: 50,
      start: function (e, t, n) {
        var i,
          r = this,
          o = (l.foreverFrame.count += 1),
          a = c(),
          s = function () {
            e.log(
              "Forever frame iframe finished loading and is no longer receiving messages."
            ),
              (n && n()) || r.reconnect(e);
          };
        u.EventSource
          ? n &&
            (e.log(
              "Forever Frame is not supported by SignalR on browsers with SSE support."
            ),
            n())
          : (a.setAttribute("data-signalr-connection-id", e.id),
            d.prevent(),
            (i = l.getUrl(e, this.name)),
            (i += "&frameId=" + o),
            u.document.documentElement.appendChild(a),
            e.log("Binding to iframe's load event."),
            a.addEventListener
              ? a.addEventListener("load", s, !1)
              : a.attachEvent && a.attachEvent("onload", s),
            (a.src = i),
            ((l.foreverFrame.connections[o] = e).frame = a),
            (e.frameId = o),
            t &&
              (e.onSuccess = function () {
                e.log("Iframe transport started."), t();
              }));
      },
      reconnect: function (n) {
        var i = this;
        l.isConnectedOrReconnecting(n) &&
          l.verifyLastActive(n) &&
          u.setTimeout(function () {
            if (
              l.verifyLastActive(n) &&
              n.frame &&
              l.ensureReconnectingState(n)
            ) {
              var e = n.frame,
                t = l.getUrl(n, i.name, !0) + "&frameId=" + n.frameId;
              n.log("Updating iframe src to '" + t + "'."), (e.src = t);
            }
          }, n.reconnectDelay);
      },
      lostConnection: function (e) {
        this.reconnect(e);
      },
      send: function (e, t) {
        l.ajaxSend(e, t);
      },
      receive: function (e, t) {
        var n, i, r;
        if (
          (e.json !== e._originalJson && (t = e._originalJson.stringify(t)),
          (r = e._parseResponse(t)),
          l.processMessages(e, r, e.onSuccess),
          e.state === o.signalR.connectionState.connected &&
            ((e.frameMessageCount = (e.frameMessageCount || 0) + 1),
            e.frameMessageCount >
              a.transports.foreverFrame.iframeClearThreshold &&
              ((e.frameMessageCount = 0),
              (n = e.frame.contentWindow || e.frame.contentDocument) &&
                n.document &&
                n.document.body)))
        )
          for (i = n.document.body; i.firstChild; ) i.removeChild(i.firstChild);
      },
      stop: function (t) {
        var e = null;
        if ((d.cancel(), t.frame)) {
          if (t.frame.stop) t.frame.stop();
          else
            try {
              (e = t.frame.contentWindow || t.frame.contentDocument).document &&
                e.document.execCommand &&
                e.document.execCommand("Stop");
            } catch (e) {
              t.log(
                "Error occurred when stopping foreverFrame transport. Message = " +
                  e.message +
                  "."
              );
            }
          t.frame.parentNode === u.document.documentElement &&
            u.document.documentElement.removeChild(t.frame),
            delete l.foreverFrame.connections[t.frameId],
            (t.frame = null),
            (t.frameId = null),
            delete t.frame,
            delete t.frameId,
            delete t.onSuccess,
            delete t.frameMessageCount,
            t.log("Stopping forever frame.");
        }
      },
      abort: function (e, t) {
        l.ajaxAbort(e, t);
      },
      getConnection: function (e) {
        return l.foreverFrame.connections[e];
      },
      started: function (e) {
        !0 ===
          r(e, a.connectionState.reconnecting, a.connectionState.connected) &&
          o(e).triggerHandler(i.onReconnect);
      },
    };
  })(window.jQuery, window),
  (function (p, g, e) {
    var m = p.signalR,
      v = p.signalR.events,
      n = p.signalR.changeState,
      b = p.signalR.isDisconnecting,
      y = m.transports._logic;
    m.transports.longPolling = {
      name: "longPolling",
      supportsKeepAlive: function () {
        return !1;
      },
      reconnectDelay: 3e3,
      start: function (s, e, t) {
        var u = this,
          l = function () {
            (l = p.noop),
              s.log("LongPolling connected."),
              e
                ? e()
                : s.log(
                    "WARNING! The client received an init message after reconnecting."
                  );
          },
          c = function (e) {
            return !!t(e) && (s.log("LongPolling failed to connect."), !0);
          },
          d = s._,
          h = 0,
          f = function (e) {
            g.clearTimeout(d.reconnectTimeoutId),
              !(d.reconnectTimeoutId = null) ===
                n(
                  e,
                  m.connectionState.reconnecting,
                  m.connectionState.connected
                ) &&
                (e.log("Raising the reconnect event"),
                p(e).triggerHandler(v.onReconnect));
          };
        s.pollXhr &&
          (s.log("Polling xhr requests already exists, aborting."), s.stop()),
          (s.messageId = null),
          (d.reconnectTimeoutId = null),
          (d.pollTimeoutId = g.setTimeout(function () {
            !(function o(a, e) {
              var t = !(null === a.messageId),
                n = !e,
                i = y.getUrl(a, u.name, t, n, !0),
                r = {};
              a.messageId && (r.messageId = a.messageId),
                a.groupsToken && (r.groupsToken = a.groupsToken),
                !0 !== b(a) &&
                  (s.log("Opening long polling request to '" + i + "'."),
                  (a.pollXhr = y.ajax(s, {
                    xhrFields: {
                      onprogress: function () {
                        y.markLastMessage(s);
                      },
                    },
                    url: i,
                    type: "POST",
                    contentType: m._.defaultContentType,
                    data: r,
                    timeout: s._.pollTimeout,
                    success: function (t) {
                      var e,
                        n,
                        i,
                        r = 0;
                      s.log("Long poll complete."), (h = 0);
                      try {
                        e = s._parseResponse(t);
                      } catch (e) {
                        return void y.handleParseFailure(a, t, e, c, a.pollXhr);
                      }
                      null !== d.reconnectTimeoutId && f(a),
                        e && (n = y.maximizePersistentResponse(e)),
                        y.processMessages(a, e, l),
                        n &&
                          "number" === p.type(n.LongPollDelay) &&
                          (r = n.LongPollDelay),
                        !0 !== b(a) &&
                          (((i = n && n.ShouldReconnect) &&
                            !y.ensureReconnectingState(a)) ||
                            (0 < r
                              ? (d.pollTimeoutId = g.setTimeout(function () {
                                  o(a, i);
                                }, r))
                              : o(a, i)));
                    },
                    error: function (e, t) {
                      var n = m._.transportError(
                        m.resources.longPollFailed,
                        s.transport,
                        e,
                        a.pollXhr
                      );
                      if (
                        (g.clearTimeout(d.reconnectTimeoutId),
                        (d.reconnectTimeoutId = null),
                        "abort" !== t)
                      ) {
                        if (!c(n)) {
                          if (
                            (h++,
                            s.state !== m.connectionState.reconnecting &&
                              (s.log(
                                "An error occurred using longPolling. Status = " +
                                  t +
                                  ".  Response = " +
                                  e.responseText +
                                  "."
                              ),
                              p(a).triggerHandler(v.onError, [n])),
                            (s.state === m.connectionState.connected ||
                              s.state === m.connectionState.reconnecting) &&
                              !y.verifyLastActive(s))
                          )
                            return;
                          if (!y.ensureReconnectingState(a)) return;
                          d.pollTimeoutId = g.setTimeout(function () {
                            o(a, !0);
                          }, u.reconnectDelay);
                        }
                      } else s.log("Aborted xhr request.");
                    },
                  })),
                  t &&
                    !0 === e &&
                    (d.reconnectTimeoutId = g.setTimeout(function () {
                      f(a);
                    }, Math.min(1e3 * (Math.pow(2, h) - 1), 36e5))));
            })(s);
          }, 250));
      },
      lostConnection: function (e) {
        e.pollXhr && e.pollXhr.abort("lostConnection");
      },
      send: function (e, t) {
        y.ajaxSend(e, t);
      },
      stop: function (e) {
        g.clearTimeout(e._.pollTimeoutId),
          g.clearTimeout(e._.reconnectTimeoutId),
          delete e._.pollTimeoutId,
          delete e._.reconnectTimeoutId,
          e.pollXhr &&
            (e.pollXhr.abort(), (e.pollXhr = null), delete e.pollXhr);
      },
      abort: function (e, t) {
        y.ajaxAbort(e, t);
      },
    };
  })(window.jQuery, window),
  (function (u, e, t) {
    var l = u.signalR;
    function c(e) {
      return e + ".hubProxy";
    }
    function n(e) {
      return u.isFunction(e) ? null : "undefined" === u.type(e) ? null : e;
    }
    function o(e) {
      for (var t in e) if (e.hasOwnProperty(t)) return !0;
      return !1;
    }
    function i(e, t) {
      var n,
        i = e._.invocationCallbacks;
      for (var r in (o(i) &&
        e.log("Clearing hub invocation callbacks with error: " + t + "."),
      (e._.invocationCallbackId = 0),
      delete e._.invocationCallbacks,
      (e._.invocationCallbacks = {}),
      i))
        (n = i[r]).method.call(n.scope, { E: t });
    }
    function r(e, t) {
      return new r.fn.init(e, t);
    }
    function a(e, t) {
      var n = { qs: null, logging: !1, useDefaultPath: !0 };
      return (
        u.extend(n, t),
        (e && !n.useDefaultPath) || (e = (e || "") + "/signalr"),
        new a.fn.init(e, n)
      );
    }
    ((r.fn = r.prototype =
      {
        init: function (e, t) {
          (this.state = {}),
            (this.connection = e),
            (this.hubName = t),
            (this._ = { callbackMap: {} });
        },
        constructor: r,
        hasSubscriptions: function () {
          return o(this._.callbackMap);
        },
        on: function (e, n) {
          var i = this,
            t = i._.callbackMap;
          return (
            t[(e = e.toLowerCase())] || (t[e] = {}),
            (t[e][n] = function (e, t) {
              n.apply(i, t);
            }),
            u(i).bind(c(e), t[e][n]),
            i
          );
        },
        off: function (e, t) {
          var n,
            i = this._.callbackMap;
          return (
            (n = i[(e = e.toLowerCase())]) &&
              (n[t]
                ? (u(this).unbind(c(e), n[t]), delete n[t], o(n) || delete i[e])
                : t || (u(this).unbind(c(e)), delete i[e])),
            this
          );
        },
        invoke: function (r) {
          var o = this,
            a = o.connection,
            e = (function (e, t, n) {
              var i,
                r = e.length,
                o = [];
              for (i = 0; i < r; i += 1)
                e.hasOwnProperty(i) && (o[i] = t.call(n, e[i], i, e));
              return o;
            })(u.makeArray(arguments).slice(1), n),
            t = { H: o.hubName, M: r, A: e, I: a._.invocationCallbackId },
            s = u.Deferred();
          return (
            (a._.invocationCallbacks[a._.invocationCallbackId.toString()] = {
              scope: o,
              method: function (e) {
                var t,
                  n,
                  i = o._maximizeHubResponse(e);
                u.extend(o.state, i.State),
                  i.Progress
                    ? s.notifyWith
                      ? s.notifyWith(o, [i.Progress.Data])
                      : a._.progressjQueryVersionLogged ||
                        (a.log(
                          "A hub method invocation progress update was received but the version of jQuery in use (" +
                            u.prototype.jquery +
                            ") does not support progress updates. Upgrade to jQuery 1.7+ to receive progress notifications."
                        ),
                        (a._.progressjQueryVersionLogged = !0))
                    : i.Error
                    ? (i.StackTrace &&
                        a.log(i.Error + "\n" + i.StackTrace + "."),
                      (t = i.IsHubException ? "HubException" : "Exception"),
                      ((n = l._.error(i.Error, t)).data = i.ErrorData),
                      a.log(
                        o.hubName +
                          "." +
                          r +
                          " failed to execute. Error: " +
                          n.message
                      ),
                      s.rejectWith(o, [n]))
                    : (a.log("Invoked " + o.hubName + "." + r),
                      s.resolveWith(o, [i.Result]));
              },
            }),
            (a._.invocationCallbackId += 1),
            u.isEmptyObject(o.state) || (t.S = o.state),
            a.log("Invoking " + o.hubName + "." + r),
            a.send(t),
            s.promise()
          );
        },
        _maximizeHubResponse: function (e) {
          return {
            State: e.S,
            Result: e.R,
            Progress: e.P ? { Id: e.P.I, Data: e.P.D } : null,
            Id: e.I,
            IsHubException: e.H,
            Error: e.E,
            StackTrace: e.T,
            ErrorData: e.D,
          };
        },
      }).init.prototype = r.fn),
      ((a.fn = a.prototype = u.connection()).init = function (e, t) {
        var n = { qs: null, logging: !1, useDefaultPath: !0 },
          s = this;
        u.extend(n, t),
          u.signalR.fn.init.call(s, e, n.qs, n.logging),
          (s.proxies = {}),
          (s._.invocationCallbackId = 0),
          (s._.invocationCallbacks = {}),
          s.received(function (e) {
            var t, n, i, r, o, a;
            e &&
              (void 0 !== e.P
                ? ((i = e.P.I.toString()),
                  (r = s._.invocationCallbacks[i]) && r.method.call(r.scope, e))
                : void 0 !== e.I
                ? ((i = e.I.toString()),
                  (r = s._.invocationCallbacks[i]) &&
                    ((s._.invocationCallbacks[i] = null),
                    delete s._.invocationCallbacks[i],
                    r.method.call(r.scope, e)))
                : ((t = this._maximizeClientHubInvocation(e)),
                  s.log(
                    "Triggering client hub event '" +
                      t.Method +
                      "' on hub '" +
                      t.Hub +
                      "'."
                  ),
                  (o = t.Hub.toLowerCase()),
                  (a = t.Method.toLowerCase()),
                  (n = this.proxies[o]),
                  u.extend(n.state, t.State),
                  u(n).triggerHandler(c(a), [t.Args])));
          }),
          s.error(function (e, t) {
            var n, i;
            t &&
              ((n = t.I),
              (i = s._.invocationCallbacks[n]) &&
                ((s._.invocationCallbacks[n] = null),
                delete s._.invocationCallbacks[n],
                i.method.call(i.scope, { E: e })));
          }),
          s.reconnecting(function () {
            s.transport &&
              "webSockets" === s.transport.name &&
              i(
                s,
                "Connection started reconnecting before invocation result was received."
              );
          }),
          s.disconnected(function () {
            i(
              s,
              "Connection was disconnected before invocation result was received."
            );
          });
      }),
      (a.fn._maximizeClientHubInvocation = function (e) {
        return { Hub: e.H, Method: e.M, Args: e.A, State: e.S };
      }),
      (a.fn._registerSubscribedHubs = function () {
        var n = this;
        n._subscribedToHubs ||
          ((n._subscribedToHubs = !0),
          n.starting(function () {
            var t = [];
            u.each(n.proxies, function (e) {
              this.hasSubscriptions() &&
                (t.push({ name: e }),
                n.log("Client subscribed to hub '" + e + "'."));
            }),
              0 === t.length &&
                n.log(
                  "No hubs have been subscribed to.  The client will not receive data from hubs.  To fix, declare at least one client side function prior to connection start for each hub you wish to subscribe to."
                ),
              (n.data = n.json.stringify(t));
          }));
      }),
      (a.fn.createHubProxy = function (e) {
        e = e.toLowerCase();
        var t = this.proxies[e];
        return (
          t || ((t = r(this, e)), (this.proxies[e] = t)),
          this._registerSubscribedHubs(),
          t
        );
      }),
      (a.fn.init.prototype = a.fn),
      (u.hubConnection = a);
  })(window.jQuery, window),
  (window.jQuery.signalR.version = "2.2.2"),
  define(
    "signalr",
    ["jquery"],
    (function (e) {
      return function () {
        return e.$;
      };
    })(this)
  ),
  define(
    "HMIWeb/Source/Communications/CommunicationLayer",
    [
      "require",
      "exports",
      "../Core/UniqueIdGenerator",
      "./ServerToClientSequenceManager",
      "./SignalR/SignalRNotifier",
      "./ClientToServerSequenceManager",
      "./WebAPI/WebApiInvoker",
      "./WebAPI/WebApiPoller",
      "./WebAPI/WebApiCommunicationEvents",
      "./WebAPI/WebApiDataService",
      "./WebAPI/WebApiWindowDataService",
      "./WebAPI/WebApiProtocolHelper",
      "./../Communications/SignalR/SignalRConnectionManager",
      "jquery",
      "signalr",
    ],
    function (e, t, l, c, d, h, f, p, g, m, v, b, y, w, _) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function e(e, t, n, i, r) {
          var o = this,
            a = new h.ClientToServerSequenceManager(),
            s = new c.ServerToClientSequenceManager(e),
            u = new b.WebApiProtocolHelper();
          (this.signalRConnectionManager = (function (e, t, n, i) {
            if (null != e) {
              var r = e.getConnectionManager && e.getConnectionManager();
              if (null != r) return r;
              var o =
                  e.getHubConnection &&
                  e.getHubConnection(y.signalRConnectionUrl),
                a = e.getJQuery && e.getJQuery();
              if (null != o && null != a)
                return new y.SignalRConnectionManager(
                  t,
                  n,
                  o,
                  Promise.resolve(a),
                  i
                );
            }
            return new y.SignalRConnectionManager(
              t,
              n,
              Promise.resolve(_.hubConnection(y.signalRConnectionUrl)),
              Promise.resolve(w),
              i
            );
          })(n, e, i, r)),
            (this.webApiCommunicationEvents =
              new g.WebApiCommunicationEvents()),
            (this.serverInvoker = new f.WebApiInvoker(
              a,
              s,
              e,
              l.frameId,
              t,
              this.webApiCommunicationEvents
            )),
            (this.serverPoller = new p.WebApiPoller(
              this.serverInvoker,
              this.webApiCommunicationEvents,
              e,
              s,
              u
            )),
            (this.dataService = new m.WebApiDataService(
              this.serverInvoker,
              this.webApiCommunicationEvents,
              s,
              e,
              u
            )),
            (this.serverToClientNotifier = new d.SignalRNotifier(
              this.signalRConnectionManager,
              l.frameId,
              e
            )),
            (this.webApiWindowDataService = new v.WebApiWindowDataService(
              this.serverInvoker,
              this.webApiCommunicationEvents,
              s,
              u
            )),
            this.webApiCommunicationEvents.errorReceived.add(function () {
              o.serverPoller.setPageLoadState(1),
                o.serverToClientNotifier.stopListening(),
                o.serverInvoker.enableKillSwitch();
            });
        }
        return (
          (e.prototype.getDataService = function () {
            return this.dataService;
          }),
          (e.prototype.getWindowDataService = function () {
            return this.webApiWindowDataService;
          }),
          (e.prototype.getServerToClientNotifier = function () {
            return this.serverToClientNotifier;
          }),
          (e.prototype.getCommunicationEvents = function () {
            return this.webApiCommunicationEvents;
          }),
          (e.prototype.getPoller = function () {
            return this.serverPoller;
          }),
          (e.prototype.getInvoker = function () {
            return this.serverInvoker;
          }),
          (e.prototype.getConnectionManager = function () {
            return this.signalRConnectionManager;
          }),
          e
        );
      })();
      t.CommunicationLayer = n;
    }
  ),
  define(
    "HMIWeb/Source/Core/Utils/BrowserUtils",
    ["require", "exports"],
    function (e, t) {
      "use strict";
      return (function () {
        function e() {}
        return (
          (e.testUserTimingAPI = function () {
            try {
              return void 0 !== window.performance.mark;
            } catch (e) {
              return !1;
            }
          }),
          (e.testPerformanceNow = function () {
            try {
              return void 0 !== window.performance.now;
            } catch (e) {
              return !1;
            }
          }),
          e
        );
      })();
    }
  ),
  define(
    "HMIWeb/Source/Core/Logging/PerformanceLogger",
    ["require", "exports", "../Utils/BrowserUtils"],
    function (e, t, u) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function s(e) {
          this.logger = e;
        }
        return (
          (s.prototype.mark = function (e) {
            u.testUserTimingAPI() &&
              (performance.clearMarks(e), performance.mark(e));
          }),
          (s.prototype.doesMarkExist = function (e) {
            if (u.testUserTimingAPI()) {
              var t = performance.getEntriesByName(e, "mark");
              if (null != t && null != t.length && 0 < t.length) return !0;
            }
            return !1;
          }),
          (s.prototype.startPhase = function (e) {
            u.testUserTimingAPI() && this.mark(e + s._start);
          }),
          (s.prototype.endPhase = function (e) {
            if (u.testUserTimingAPI()) {
              var t = e + s._end;
              this.mark(t);
              var n = e + s._start,
                i = performance.getEntriesByName(n, "mark");
              if (null != i && null != i.length && 0 < i.length) {
                var r = e + s._measure;
                performance.clearMeasures(r), performance.measure(r, n, t);
              } else
                this.logger.error(
                  "Performance",
                  "Phase '" + e + "' was not started"
                );
            }
          }),
          (s.prototype.hasPhaseStarted = function (e) {
            var t = e + s._start;
            return this.doesMarkExist(t);
          }),
          (s.prototype.hasPhaseEnded = function (e) {
            var t = e + s._end;
            return this.doesMarkExist(t);
          }),
          (s.prototype.logAllPhases = function (e) {
            if (u.testPerformanceNow()) {
              console.log("done!");
              document.body.classList.add("done-generate");
              var t = "Total time since navigation:" + performance.now() + " (";
              if (u.testUserTimingAPI()) {
                for (
                  var n = performance.getEntriesByType("mark"), i = 0;
                  i < n.length;
                  i++
                ) {
                  var r = n[i];
                  ((void 0 !== e && !1 !== e) ||
                    (-1 == r.name.indexOf(s._start) &&
                      -1 == r.name.indexOf(s._end))) &&
                    (t += ", " + r.name + ":" + r.startTime.toFixed(4));
                }
                var o = performance.getEntriesByType("measure");
                for (i = 0; i < o.length; i++) {
                  var a = o[i];
                  t +=
                    ", " +
                    a.name.replace(s._measure, "") +
                    ":" +
                    a.duration.toFixed(4);
                }
              }
              (t += ")"), this.logger.warn("Performance", t);
            }
          }),
          (s._start = "_start"),
          (s._end = "_end"),
          (s._measure = "_measure"),
          s
        );
      })();
      t.PerformanceLogger = n;
    }
  ),
  (function (e) {
    if ("object" == typeof exports && "undefined" != typeof module)
      module.exports = e();
    else if ("function" == typeof define && define.amd)
      define("localforage", [], e);
    else {
      ("undefined" != typeof window
        ? window
        : "undefined" != typeof global
        ? global
        : "undefined" != typeof self
        ? self
        : this
      ).localforage = e();
    }
  })(function () {
    return (function o(a, s, u) {
      function l(n, e) {
        if (!s[n]) {
          if (!a[n]) {
            var t = "function" == typeof require && require;
            if (!e && t) return t(n, !0);
            if (c) return c(n, !0);
            var i = new Error("Cannot find module '" + n + "'");
            throw ((i.code = "MODULE_NOT_FOUND"), i);
          }
          var r = (s[n] = { exports: {} });
          a[n][0].call(
            r.exports,
            function (e) {
              var t = a[n][1][e];
              return l(t || e);
            },
            r,
            r.exports,
            o,
            a,
            s,
            u
          );
        }
        return s[n].exports;
      }
      for (
        var c = "function" == typeof require && require, e = 0;
        e < u.length;
        e++
      )
        l(u[e]);
      return l;
    })(
      {
        1: [
          function (e, c, t) {
            (function (t) {
              "use strict";
              var n,
                i,
                e = t.MutationObserver || t.WebKitMutationObserver;
              if (e) {
                var r = 0,
                  o = new e(l),
                  a = t.document.createTextNode("");
                o.observe(a, { characterData: !0 }),
                  (n = function () {
                    a.data = r = ++r % 2;
                  });
              } else if (t.setImmediate || void 0 === t.MessageChannel)
                n =
                  "document" in t &&
                  "onreadystatechange" in t.document.createElement("script")
                    ? function () {
                        var e = t.document.createElement("script");
                        (e.onreadystatechange = function () {
                          l(),
                            (e.onreadystatechange = null),
                            e.parentNode.removeChild(e),
                            (e = null);
                        }),
                          t.document.documentElement.appendChild(e);
                      }
                    : function () {
                        setTimeout(l, 0);
                      };
              else {
                var s = new t.MessageChannel();
                (s.port1.onmessage = l),
                  (n = function () {
                    s.port2.postMessage(0);
                  });
              }
              var u = [];
              function l() {
                var e, t;
                i = !0;
                for (var n = u.length; n; ) {
                  for (t = u, u = [], e = -1; ++e < n; ) t[e]();
                  n = u.length;
                }
                i = !1;
              }
              c.exports = function (e) {
                1 !== u.push(e) || i || n();
              };
            }.call(
              this,
              "undefined" != typeof global
                ? global
                : "undefined" != typeof self
                ? self
                : "undefined" != typeof window
                ? window
                : {}
            ));
          },
          {},
        ],
        2: [
          function (e, t, n) {
            "use strict";
            var r = e(1);
            function l() {}
            var c = {},
              o = ["REJECTED"],
              a = ["FULFILLED"],
              i = ["PENDING"];
            function s(e) {
              if ("function" != typeof e)
                throw new TypeError("resolver must be a function");
              (this.state = i),
                (this.queue = []),
                (this.outcome = void 0),
                e !== l && f(this, e);
            }
            function u(e, t, n) {
              (this.promise = e),
                "function" == typeof t &&
                  ((this.onFulfilled = t),
                  (this.callFulfilled = this.otherCallFulfilled)),
                "function" == typeof n &&
                  ((this.onRejected = n),
                  (this.callRejected = this.otherCallRejected));
            }
            function d(t, n, i) {
              r(function () {
                var e;
                try {
                  e = n(i);
                } catch (e) {
                  return c.reject(t, e);
                }
                e === t
                  ? c.reject(
                      t,
                      new TypeError("Cannot resolve promise with itself")
                    )
                  : c.resolve(t, e);
              });
            }
            function h(e) {
              var t = e && e.then;
              if (
                e &&
                ("object" == typeof e || "function" == typeof e) &&
                "function" == typeof t
              )
                return function () {
                  t.apply(e, arguments);
                };
            }
            function f(t, e) {
              var n = !1;
              function i(e) {
                n || ((n = !0), c.reject(t, e));
              }
              function r(e) {
                n || ((n = !0), c.resolve(t, e));
              }
              var o = p(function () {
                e(r, i);
              });
              "error" === o.status && i(o.value);
            }
            function p(e, t) {
              var n = {};
              try {
                (n.value = e(t)), (n.status = "success");
              } catch (e) {
                (n.status = "error"), (n.value = e);
              }
              return n;
            }
            ((t.exports = s).prototype.catch = function (e) {
              return this.then(null, e);
            }),
              (s.prototype.then = function (e, t) {
                if (
                  ("function" != typeof e && this.state === a) ||
                  ("function" != typeof t && this.state === o)
                )
                  return this;
                var n = new this.constructor(l);
                this.state !== i
                  ? d(n, this.state === a ? e : t, this.outcome)
                  : this.queue.push(new u(n, e, t));
                return n;
              }),
              (u.prototype.callFulfilled = function (e) {
                c.resolve(this.promise, e);
              }),
              (u.prototype.otherCallFulfilled = function (e) {
                d(this.promise, this.onFulfilled, e);
              }),
              (u.prototype.callRejected = function (e) {
                c.reject(this.promise, e);
              }),
              (u.prototype.otherCallRejected = function (e) {
                d(this.promise, this.onRejected, e);
              }),
              (c.resolve = function (e, t) {
                var n = p(h, t);
                if ("error" === n.status) return c.reject(e, n.value);
                var i = n.value;
                if (i) f(e, i);
                else {
                  (e.state = a), (e.outcome = t);
                  for (var r = -1, o = e.queue.length; ++r < o; )
                    e.queue[r].callFulfilled(t);
                }
                return e;
              }),
              (c.reject = function (e, t) {
                (e.state = o), (e.outcome = t);
                for (var n = -1, i = e.queue.length; ++n < i; )
                  e.queue[n].callRejected(t);
                return e;
              }),
              (s.resolve = function (e) {
                if (e instanceof this) return e;
                return c.resolve(new this(l), e);
              }),
              (s.reject = function (e) {
                var t = new this(l);
                return c.reject(t, e);
              }),
              (s.all = function (e) {
                var n = this;
                if ("[object Array]" !== Object.prototype.toString.call(e))
                  return this.reject(new TypeError("must be an array"));
                var i = e.length,
                  r = !1;
                if (!i) return this.resolve([]);
                var o = new Array(i),
                  a = 0,
                  t = -1,
                  s = new this(l);
                for (; ++t < i; ) u(e[t], t);
                return s;
                function u(e, t) {
                  n.resolve(e).then(
                    function (e) {
                      (o[t] = e), ++a !== i || r || ((r = !0), c.resolve(s, o));
                    },
                    function (e) {
                      r || ((r = !0), c.reject(s, e));
                    }
                  );
                }
              }),
              (s.race = function (e) {
                var t = this;
                if ("[object Array]" !== Object.prototype.toString.call(e))
                  return this.reject(new TypeError("must be an array"));
                var n = e.length,
                  i = !1;
                if (!n) return this.resolve([]);
                var r = -1,
                  o = new this(l);
                for (; ++r < n; )
                  (a = e[r]),
                    t.resolve(a).then(
                      function (e) {
                        i || ((i = !0), c.resolve(o, e));
                      },
                      function (e) {
                        i || ((i = !0), c.reject(o, e));
                      }
                    );
                var a;
                return o;
              });
          },
          { 1: 1 },
        ],
        3: [
          function (t, e, n) {
            (function (e) {
              "use strict";
              "function" != typeof e.Promise && (e.Promise = t(2));
            }.call(
              this,
              "undefined" != typeof global
                ? global
                : "undefined" != typeof self
                ? self
                : "undefined" != typeof window
                ? window
                : {}
            ));
          },
          { 2: 2 },
        ],
        4: [
          function (e, t, n) {
            "use strict";
            var i =
              "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
                ? function (e) {
                    return typeof e;
                  }
                : function (e) {
                    return e &&
                      "function" == typeof Symbol &&
                      e.constructor === Symbol &&
                      e !== Symbol.prototype
                      ? "symbol"
                      : typeof e;
                  };
            var s = (function () {
              try {
                if ("undefined" != typeof indexedDB) return indexedDB;
                if ("undefined" != typeof webkitIndexedDB)
                  return webkitIndexedDB;
                if ("undefined" != typeof mozIndexedDB) return mozIndexedDB;
                if ("undefined" != typeof OIndexedDB) return OIndexedDB;
                if ("undefined" != typeof msIndexedDB) return msIndexedDB;
              } catch (e) {
                return;
              }
            })();
            function a(t, n) {
              (t = t || []), (n = n || {});
              try {
                return new Blob(t, n);
              } catch (e) {
                if ("TypeError" !== e.name) throw e;
                for (
                  var i = new (
                      "undefined" != typeof BlobBuilder
                        ? BlobBuilder
                        : "undefined" != typeof MSBlobBuilder
                        ? MSBlobBuilder
                        : "undefined" != typeof MozBlobBuilder
                        ? MozBlobBuilder
                        : WebKitBlobBuilder
                    )(),
                    r = 0;
                  r < t.length;
                  r += 1
                )
                  i.append(t[r]);
                return i.getBlob(n.type);
              }
            }
            "undefined" == typeof Promise && e(3);
            var d = Promise;
            function h(e, t) {
              t &&
                e.then(
                  function (e) {
                    t(null, e);
                  },
                  function (e) {
                    t(e);
                  }
                );
            }
            function u(e, t, n) {
              "function" == typeof t && e.then(t),
                "function" == typeof n && e.catch(n);
            }
            function f(e) {
              return (
                "string" != typeof e &&
                  (console.warn(e + " used as a key, but it is not a string."),
                  (e = String(e))),
                e
              );
            }
            function o() {
              if (
                arguments.length &&
                "function" == typeof arguments[arguments.length - 1]
              )
                return arguments[arguments.length - 1];
            }
            var l = "local-forage-detect-blob-support",
              r = void 0,
              c = {},
              p = Object.prototype.toString,
              g = "readonly",
              m = "readwrite";
            function v(e) {
              return "boolean" == typeof r
                ? d.resolve(r)
                : ((i = e),
                  new d(function (n) {
                    var e = i.transaction(l, m),
                      t = a([""]);
                    e.objectStore(l).put(t, "key"),
                      (e.onabort = function (e) {
                        e.preventDefault(), e.stopPropagation(), n(!1);
                      }),
                      (e.oncomplete = function () {
                        var e = navigator.userAgent.match(/Chrome\/(\d+)/),
                          t = navigator.userAgent.match(/Edge\//);
                        n(t || !e || 43 <= parseInt(e[1], 10));
                      });
                  }).catch(function () {
                    return !1;
                  })).then(function (e) {
                    return (r = e);
                  });
              var i;
            }
            function b(e) {
              var t = c[e.name],
                n = {};
              (n.promise = new d(function (e, t) {
                (n.resolve = e), (n.reject = t);
              })),
                t.deferredOperations.push(n),
                t.dbReady
                  ? (t.dbReady = t.dbReady.then(function () {
                      return n.promise;
                    }))
                  : (t.dbReady = n.promise);
            }
            function y(e) {
              var t = c[e.name].deferredOperations.pop();
              if (t) return t.resolve(), t.promise;
            }
            function w(e, t) {
              var n = c[e.name].deferredOperations.pop();
              if (n) return n.reject(t), n.promise;
            }
            function _(r, o) {
              return new d(function (e, t) {
                if (
                  ((c[r.name] = c[r.name] || {
                    forages: [],
                    db: null,
                    dbReady: null,
                    deferredOperations: [],
                  }),
                  r.db)
                ) {
                  if (!o) return e(r.db);
                  b(r), r.db.close();
                }
                var n = [r.name];
                o && n.push(r.version);
                var i = s.open.apply(s, n);
                o &&
                  (i.onupgradeneeded = function (t) {
                    var e = i.result;
                    try {
                      e.createObjectStore(r.storeName),
                        t.oldVersion <= 1 && e.createObjectStore(l);
                    } catch (e) {
                      if ("ConstraintError" !== e.name) throw e;
                      console.warn(
                        'The database "' +
                          r.name +
                          '" has been upgraded from version ' +
                          t.oldVersion +
                          " to version " +
                          t.newVersion +
                          ', but the storage "' +
                          r.storeName +
                          '" already exists.'
                      );
                    }
                  }),
                  (i.onerror = function (e) {
                    e.preventDefault(), t(i.error);
                  }),
                  (i.onsuccess = function () {
                    e(i.result), y(r);
                  });
              });
            }
            function x(e) {
              return _(e, !1);
            }
            function T(e) {
              return _(e, !0);
            }
            function C(e, t) {
              if (!e.db) return !0;
              var n = !e.db.objectStoreNames.contains(e.storeName),
                i = e.version < e.db.version,
                r = e.version > e.db.version;
              if (
                (i &&
                  (e.version !== t &&
                    console.warn(
                      'The database "' +
                        e.name +
                        "\" can't be downgraded from version " +
                        e.db.version +
                        " to version " +
                        e.version +
                        "."
                    ),
                  (e.version = e.db.version)),
                r || n)
              ) {
                if (n) {
                  var o = e.db.version + 1;
                  o > e.version && (e.version = o);
                }
                return !0;
              }
              return !1;
            }
            function S(e) {
              return a(
                [
                  (function (e) {
                    for (
                      var t = e.length,
                        n = new ArrayBuffer(t),
                        i = new Uint8Array(n),
                        r = 0;
                      r < t;
                      r++
                    )
                      i[r] = e.charCodeAt(r);
                    return n;
                  })(atob(e.data)),
                ],
                { type: e.type }
              );
            }
            function E(e) {
              return e && e.__local_forage_encoded_blob;
            }
            function D(e) {
              var t = this,
                n = t._initReady().then(function () {
                  var e = c[t._dbInfo.name];
                  if (e && e.dbReady) return e.dbReady;
                });
              return u(n, e, e), n;
            }
            function O(t, n, i, r) {
              void 0 === r && (r = 1);
              try {
                var e = t.db.transaction(t.storeName, n);
                i(null, e);
              } catch (e) {
                if (
                  0 < r &&
                  (!t.db ||
                    "InvalidStateError" === e.name ||
                    "NotFoundError" === e.name)
                )
                  return d
                    .resolve()
                    .then(function () {
                      if (
                        !t.db ||
                        ("NotFoundError" === e.name &&
                          !t.db.objectStoreNames.contains(t.storeName) &&
                          t.version <= t.db.version)
                      )
                        return t.db && (t.version = t.db.version + 1), T(t);
                    })
                    .then(function () {
                      return (function (n) {
                        b(n);
                        for (
                          var i = c[n.name], r = i.forages, e = 0;
                          e < r.length;
                          e++
                        ) {
                          var t = r[e];
                          t._dbInfo.db &&
                            (t._dbInfo.db.close(), (t._dbInfo.db = null));
                        }
                        return (
                          (n.db = null),
                          x(n)
                            .then(function (e) {
                              return (n.db = e), C(n) ? T(n) : e;
                            })
                            .then(function (e) {
                              n.db = i.db = e;
                              for (var t = 0; t < r.length; t++)
                                r[t]._dbInfo.db = e;
                            })
                            .catch(function (e) {
                              throw (w(n, e), e);
                            })
                        );
                      })(t).then(function () {
                        O(t, n, i, r - 1);
                      });
                    })
                    .catch(i);
                i(e);
              }
            }
            var M = {
              _driver: "asyncStorage",
              _initStorage: function (e) {
                var i = this,
                  r = { db: null };
                if (e) for (var t in e) r[t] = e[t];
                var o = c[r.name];
                o ||
                  ((o = {
                    forages: [],
                    db: null,
                    dbReady: null,
                    deferredOperations: [],
                  }),
                  (c[r.name] = o)),
                  o.forages.push(i),
                  i._initReady || ((i._initReady = i.ready), (i.ready = D));
                var n = [];
                function a() {
                  return d.resolve();
                }
                for (var s = 0; s < o.forages.length; s++) {
                  var u = o.forages[s];
                  u !== i && n.push(u._initReady().catch(a));
                }
                var l = o.forages.slice(0);
                return d
                  .all(n)
                  .then(function () {
                    return (r.db = o.db), x(r);
                  })
                  .then(function (e) {
                    return (
                      (r.db = e), C(r, i._defaultConfig.version) ? T(r) : e
                    );
                  })
                  .then(function (e) {
                    (r.db = o.db = e), (i._dbInfo = r);
                    for (var t = 0; t < l.length; t++) {
                      var n = l[t];
                      n !== i &&
                        ((n._dbInfo.db = r.db),
                        (n._dbInfo.version = r.version));
                    }
                  });
              },
              _support: (function () {
                try {
                  if (!s) return !1;
                  var e =
                      "undefined" != typeof openDatabase &&
                      /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) &&
                      !/Chrome/.test(navigator.userAgent) &&
                      !/BlackBerry/.test(navigator.platform),
                    t =
                      "function" == typeof fetch &&
                      -1 !== fetch.toString().indexOf("[native code");
                  return (
                    (!e || t) &&
                    "undefined" != typeof indexedDB &&
                    "undefined" != typeof IDBKeyRange
                  );
                } catch (e) {
                  return !1;
                }
              })(),
              iterate: function (a, e) {
                var s = this,
                  t = new d(function (o, n) {
                    s.ready()
                      .then(function () {
                        O(s._dbInfo, g, function (e, t) {
                          if (e) return n(e);
                          try {
                            var i = t
                                .objectStore(s._dbInfo.storeName)
                                .openCursor(),
                              r = 1;
                            (i.onsuccess = function () {
                              var e = i.result;
                              if (e) {
                                var t = e.value;
                                E(t) && (t = S(t));
                                var n = a(t, e.key, r++);
                                void 0 !== n ? o(n) : e.continue();
                              } else o();
                            }),
                              (i.onerror = function () {
                                n(i.error);
                              });
                          } catch (e) {
                            n(e);
                          }
                        });
                      })
                      .catch(n);
                  });
                return h(t, e), t;
              },
              getItem: function (o, e) {
                var a = this;
                o = f(o);
                var t = new d(function (i, r) {
                  a.ready()
                    .then(function () {
                      O(a._dbInfo, g, function (e, t) {
                        if (e) return r(e);
                        try {
                          var n = t.objectStore(a._dbInfo.storeName).get(o);
                          (n.onsuccess = function () {
                            var e = n.result;
                            void 0 === e && (e = null),
                              E(e) && (e = S(e)),
                              i(e);
                          }),
                            (n.onerror = function () {
                              r(n.error);
                            });
                        } catch (e) {
                          r(e);
                        }
                      });
                    })
                    .catch(r);
                });
                return h(t, e), t;
              },
              setItem: function (s, t, e) {
                var u = this;
                s = f(s);
                var n = new d(function (o, a) {
                  var e;
                  u.ready()
                    .then(function () {
                      return (
                        (e = u._dbInfo),
                        "[object Blob]" === p.call(t)
                          ? v(e.db).then(function (e) {
                              return e
                                ? t
                                : ((i = t),
                                  new d(function (n, e) {
                                    var t = new FileReader();
                                    (t.onerror = e),
                                      (t.onloadend = function (e) {
                                        var t = btoa(e.target.result || "");
                                        n({
                                          __local_forage_encoded_blob: !0,
                                          data: t,
                                          type: i.type,
                                        });
                                      }),
                                      t.readAsBinaryString(i);
                                  }));
                              var i;
                            })
                          : t
                      );
                    })
                    .then(function (r) {
                      O(u._dbInfo, m, function (e, t) {
                        if (e) return a(e);
                        try {
                          var n = t.objectStore(u._dbInfo.storeName);
                          null === r && (r = void 0);
                          var i = n.put(r, s);
                          (t.oncomplete = function () {
                            void 0 === r && (r = null), o(r);
                          }),
                            (t.onabort = t.onerror =
                              function () {
                                var e = i.error ? i.error : i.transaction.error;
                                a(e);
                              });
                        } catch (e) {
                          a(e);
                        }
                      });
                    })
                    .catch(a);
                });
                return h(n, e), n;
              },
              removeItem: function (o, e) {
                var a = this;
                o = f(o);
                var t = new d(function (i, r) {
                  a.ready()
                    .then(function () {
                      O(a._dbInfo, m, function (e, t) {
                        if (e) return r(e);
                        try {
                          var n = t.objectStore(a._dbInfo.storeName).delete(o);
                          (t.oncomplete = function () {
                            i();
                          }),
                            (t.onerror = function () {
                              r(n.error);
                            }),
                            (t.onabort = function () {
                              var e = n.error ? n.error : n.transaction.error;
                              r(e);
                            });
                        } catch (e) {
                          r(e);
                        }
                      });
                    })
                    .catch(r);
                });
                return h(t, e), t;
              },
              clear: function (e) {
                var o = this,
                  t = new d(function (i, r) {
                    o.ready()
                      .then(function () {
                        O(o._dbInfo, m, function (e, t) {
                          if (e) return r(e);
                          try {
                            var n = t.objectStore(o._dbInfo.storeName).clear();
                            (t.oncomplete = function () {
                              i();
                            }),
                              (t.onabort = t.onerror =
                                function () {
                                  var e = n.error
                                    ? n.error
                                    : n.transaction.error;
                                  r(e);
                                });
                          } catch (e) {
                            r(e);
                          }
                        });
                      })
                      .catch(r);
                  });
                return h(t, e), t;
              },
              length: function (e) {
                var o = this,
                  t = new d(function (i, r) {
                    o.ready()
                      .then(function () {
                        O(o._dbInfo, g, function (e, t) {
                          if (e) return r(e);
                          try {
                            var n = t.objectStore(o._dbInfo.storeName).count();
                            (n.onsuccess = function () {
                              i(n.result);
                            }),
                              (n.onerror = function () {
                                r(n.error);
                              });
                          } catch (e) {
                            r(e);
                          }
                        });
                      })
                      .catch(r);
                  });
                return h(t, e), t;
              },
              key: function (s, e) {
                var u = this,
                  t = new d(function (o, a) {
                    s < 0
                      ? o(null)
                      : u
                          .ready()
                          .then(function () {
                            O(u._dbInfo, g, function (e, t) {
                              if (e) return a(e);
                              try {
                                var n = t.objectStore(u._dbInfo.storeName),
                                  i = !1,
                                  r = n.openCursor();
                                (r.onsuccess = function () {
                                  var e = r.result;
                                  e
                                    ? 0 === s
                                      ? o(e.key)
                                      : i
                                      ? o(e.key)
                                      : ((i = !0), e.advance(s))
                                    : o(null);
                                }),
                                  (r.onerror = function () {
                                    a(r.error);
                                  });
                              } catch (e) {
                                a(e);
                              }
                            });
                          })
                          .catch(a);
                  });
                return h(t, e), t;
              },
              keys: function (e) {
                var a = this,
                  t = new d(function (r, o) {
                    a.ready()
                      .then(function () {
                        O(a._dbInfo, g, function (e, t) {
                          if (e) return o(e);
                          try {
                            var n = t
                                .objectStore(a._dbInfo.storeName)
                                .openCursor(),
                              i = [];
                            (n.onsuccess = function () {
                              var e = n.result;
                              e ? (i.push(e.key), e.continue()) : r(i);
                            }),
                              (n.onerror = function () {
                                o(n.error);
                              });
                          } catch (e) {
                            o(e);
                          }
                        });
                      })
                      .catch(o);
                  });
                return h(t, e), t;
              },
              dropInstance: function (a, e) {
                e = o.apply(this, arguments);
                var t,
                  n = this.config();
                if (
                  ((a = ("function" != typeof a && a) || {}).name ||
                    ((a.name = a.name || n.name),
                    (a.storeName = a.storeName || n.storeName)),
                  a.name)
                ) {
                  var i =
                    a.name === n.name && this._dbInfo.db
                      ? d.resolve(this._dbInfo.db)
                      : x(a).then(function (e) {
                          var t = c[a.name],
                            n = t.forages;
                          t.db = e;
                          for (var i = 0; i < n.length; i++)
                            n[i]._dbInfo.db = e;
                          return e;
                        });
                  t = a.storeName
                    ? i.then(function (e) {
                        if (e.objectStoreNames.contains(a.storeName)) {
                          var r = e.version + 1;
                          b(a);
                          var i = c[a.name],
                            o = i.forages;
                          e.close();
                          for (var t = 0; t < o.length; t++) {
                            var n = o[t];
                            (n._dbInfo.db = null), (n._dbInfo.version = r);
                          }
                          return new d(function (t, n) {
                            console.log(555555, r);
                            var i = s.open(a.name, r);
                            (i.onerror = function (e) {
                              i.result.close(), n(e);
                            }),
                              (i.onupgradeneeded = function () {
                                i.result.deleteObjectStore(a.storeName);
                              }),
                              (i.onsuccess = function () {
                                var e = i.result;
                                e.close(), t(e);
                              });
                          })
                            .then(function (e) {
                              i.db = e;
                              for (var t = 0; t < o.length; t++) {
                                var n = o[t];
                                (n._dbInfo.db = e), y(n._dbInfo);
                              }
                            })
                            .catch(function (e) {
                              throw (
                                ((w(a, e) || d.resolve()).catch(function () {}),
                                e)
                              );
                            });
                        }
                      })
                    : i.then(function (e) {
                        b(a);
                        var n = c[a.name],
                          i = n.forages;
                        e.close();
                        for (var t = 0; t < i.length; t++)
                          i[t]._dbInfo.db = null;
                        return new d(function (t, n) {
                          var i = s.deleteDatabase(a.name);
                          (i.onerror = i.onblocked =
                            function (e) {
                              var t = i.result;
                              t && t.close(), n(e);
                            }),
                            (i.onsuccess = function () {
                              var e = i.result;
                              e && e.close(), t(e);
                            });
                        })
                          .then(function (e) {
                            n.db = e;
                            for (var t = 0; t < i.length; t++) y(i[t]._dbInfo);
                          })
                          .catch(function (e) {
                            throw (
                              ((w(a, e) || d.resolve()).catch(function () {}),
                              e)
                            );
                          });
                      });
                } else t = d.reject("Invalid arguments");
                return h(t, e), t;
              },
            };
            var j =
                "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
              P = /^~~local_forage_type~([^~]+)~/,
              I = "__lfsc__:",
              k = I.length,
              A = k + "arbf".length,
              N = Object.prototype.toString;
            function L(e) {
              var t,
                n,
                i,
                r,
                o,
                a = 0.75 * e.length,
                s = e.length,
                u = 0;
              "=" === e[e.length - 1] && (a--, "=" === e[e.length - 2] && a--);
              var l = new ArrayBuffer(a),
                c = new Uint8Array(l);
              for (t = 0; t < s; t += 4)
                (n = j.indexOf(e[t])),
                  (i = j.indexOf(e[t + 1])),
                  (r = j.indexOf(e[t + 2])),
                  (o = j.indexOf(e[t + 3])),
                  (c[u++] = (n << 2) | (i >> 4)),
                  (c[u++] = ((15 & i) << 4) | (r >> 2)),
                  (c[u++] = ((3 & r) << 6) | (63 & o));
              return l;
            }
            function R(e) {
              var t,
                n = new Uint8Array(e),
                i = "";
              for (t = 0; t < n.length; t += 3)
                (i += j[n[t] >> 2]),
                  (i += j[((3 & n[t]) << 4) | (n[t + 1] >> 4)]),
                  (i += j[((15 & n[t + 1]) << 2) | (n[t + 2] >> 6)]),
                  (i += j[63 & n[t + 2]]);
              return (
                n.length % 3 == 2
                  ? (i = i.substring(0, i.length - 1) + "=")
                  : n.length % 3 == 1 &&
                    (i = i.substring(0, i.length - 2) + "=="),
                i
              );
            }
            var H = {
              serialize: function (t, n) {
                var e = "";
                if (
                  (t && (e = N.call(t)),
                  t &&
                    ("[object ArrayBuffer]" === e ||
                      (t.buffer &&
                        "[object ArrayBuffer]" === N.call(t.buffer))))
                ) {
                  var i,
                    r = I;
                  t instanceof ArrayBuffer
                    ? ((i = t), (r += "arbf"))
                    : ((i = t.buffer),
                      "[object Int8Array]" === e
                        ? (r += "si08")
                        : "[object Uint8Array]" === e
                        ? (r += "ui08")
                        : "[object Uint8ClampedArray]" === e
                        ? (r += "uic8")
                        : "[object Int16Array]" === e
                        ? (r += "si16")
                        : "[object Uint16Array]" === e
                        ? (r += "ur16")
                        : "[object Int32Array]" === e
                        ? (r += "si32")
                        : "[object Uint32Array]" === e
                        ? (r += "ui32")
                        : "[object Float32Array]" === e
                        ? (r += "fl32")
                        : "[object Float64Array]" === e
                        ? (r += "fl64")
                        : n(new Error("Failed to get type for BinaryArray"))),
                    n(r + R(i));
                } else if ("[object Blob]" === e) {
                  var o = new FileReader();
                  (o.onload = function () {
                    var e =
                      "~~local_forage_type~" + t.type + "~" + R(this.result);
                    n(I + "blob" + e);
                  }),
                    o.readAsArrayBuffer(t);
                } else
                  try {
                    n(JSON.stringify(t));
                  } catch (e) {
                    console.error(
                      "Couldn't convert value into a JSON string: ",
                      t
                    ),
                      n(null, e);
                  }
              },
              deserialize: function (e) {
                if (e.substring(0, k) !== I) return JSON.parse(e);
                var t,
                  n = e.substring(A),
                  i = e.substring(k, A);
                if ("blob" === i && P.test(n)) {
                  var r = n.match(P);
                  (t = r[1]), (n = n.substring(r[0].length));
                }
                var o = L(n);
                switch (i) {
                  case "arbf":
                    return o;
                  case "blob":
                    return a([o], { type: t });
                  case "si08":
                    return new Int8Array(o);
                  case "ui08":
                    return new Uint8Array(o);
                  case "uic8":
                    return new Uint8ClampedArray(o);
                  case "si16":
                    return new Int16Array(o);
                  case "ur16":
                    return new Uint16Array(o);
                  case "si32":
                    return new Int32Array(o);
                  case "ui32":
                    return new Uint32Array(o);
                  case "fl32":
                    return new Float32Array(o);
                  case "fl64":
                    return new Float64Array(o);
                  default:
                    throw new Error("Unkown type: " + i);
                }
              },
              stringToBuffer: L,
              bufferToString: R,
            };
            function F(e, t, n, i) {
              e.executeSql(
                "CREATE TABLE IF NOT EXISTS " +
                  t.storeName +
                  " (id INTEGER PRIMARY KEY, key unique, value)",
                [],
                n,
                i
              );
            }
            function B(e, i, r, o, a, s) {
              e.executeSql(
                r,
                o,
                a,
                function (e, n) {
                  n.code === n.SYNTAX_ERR
                    ? e.executeSql(
                        "SELECT name FROM sqlite_master WHERE type='table' AND name = ?",
                        [i.storeName],
                        function (e, t) {
                          t.rows.length
                            ? s(e, n)
                            : F(
                                e,
                                i,
                                function () {
                                  e.executeSql(r, o, a, s);
                                },
                                s
                              );
                        },
                        s
                      )
                    : s(e, n);
                },
                s
              );
            }
            var V = {
              _driver: "webSQLStorage",
              _initStorage: function (e) {
                var i = this,
                  r = { db: null };
                if (e)
                  for (var t in e)
                    r[t] = "string" != typeof e[t] ? e[t].toString() : e[t];
                var n = new d(function (t, n) {
                  try {
                    r.db = openDatabase(
                      r.name,
                      String(r.version),
                      r.description,
                      r.size
                    );
                  } catch (e) {
                    return n(e);
                  }
                  r.db.transaction(function (e) {
                    F(
                      e,
                      r,
                      function () {
                        (i._dbInfo = r), t();
                      },
                      function (e, t) {
                        n(t);
                      }
                    );
                  }, n);
                });
                return (r.serializer = H), n;
              },
              _support: "function" == typeof openDatabase,
              iterate: function (l, e) {
                var t = this,
                  n = new d(function (u, n) {
                    t.ready()
                      .then(function () {
                        var s = t._dbInfo;
                        s.db.transaction(function (e) {
                          B(
                            e,
                            s,
                            "SELECT * FROM " + s.storeName,
                            [],
                            function (e, t) {
                              for (
                                var n = t.rows, i = n.length, r = 0;
                                r < i;
                                r++
                              ) {
                                var o = n.item(r),
                                  a = o.value;
                                if (
                                  (a && (a = s.serializer.deserialize(a)),
                                  void 0 !== (a = l(a, o.key, r + 1)))
                                )
                                  return void u(a);
                              }
                              u();
                            },
                            function (e, t) {
                              n(t);
                            }
                          );
                        });
                      })
                      .catch(n);
                  });
                return h(n, e), n;
              },
              getItem: function (t, e) {
                var o = this;
                t = f(t);
                var n = new d(function (r, n) {
                  o.ready()
                    .then(function () {
                      var i = o._dbInfo;
                      i.db.transaction(function (e) {
                        B(
                          e,
                          i,
                          "SELECT * FROM " +
                            i.storeName +
                            " WHERE key = ? LIMIT 1",
                          [t],
                          function (e, t) {
                            var n = t.rows.length ? t.rows.item(0).value : null;
                            n && (n = i.serializer.deserialize(n)), r(n);
                          },
                          function (e, t) {
                            n(t);
                          }
                        );
                      });
                    })
                    .catch(n);
                });
                return h(n, e), n;
              },
              setItem: function (e, t, n) {
                return function a(s, e, u, l) {
                  var c = this;
                  s = f(s);
                  var t = new d(function (r, o) {
                    c.ready()
                      .then(function () {
                        void 0 === e && (e = null);
                        var n = e,
                          i = c._dbInfo;
                        i.serializer.serialize(e, function (t, e) {
                          e
                            ? o(e)
                            : i.db.transaction(
                                function (e) {
                                  B(
                                    e,
                                    i,
                                    "INSERT OR REPLACE INTO " +
                                      i.storeName +
                                      " (key, value) VALUES (?, ?)",
                                    [s, t],
                                    function () {
                                      r(n);
                                    },
                                    function (e, t) {
                                      o(t);
                                    }
                                  );
                                },
                                function (e) {
                                  if (e.code === e.QUOTA_ERR) {
                                    if (0 < l)
                                      return void r(
                                        a.apply(c, [s, n, u, l - 1])
                                      );
                                    o(e);
                                  }
                                }
                              );
                        });
                      })
                      .catch(o);
                  });
                  return h(t, u), t;
                }.apply(this, [e, t, n, 1]);
              },
              removeItem: function (r, e) {
                var o = this;
                r = f(r);
                var t = new d(function (n, i) {
                  o.ready()
                    .then(function () {
                      var t = o._dbInfo;
                      t.db.transaction(function (e) {
                        B(
                          e,
                          t,
                          "DELETE FROM " + t.storeName + " WHERE key = ?",
                          [r],
                          function () {
                            n();
                          },
                          function (e, t) {
                            i(t);
                          }
                        );
                      });
                    })
                    .catch(i);
                });
                return h(t, e), t;
              },
              clear: function (e) {
                var r = this,
                  t = new d(function (n, i) {
                    r.ready()
                      .then(function () {
                        var t = r._dbInfo;
                        t.db.transaction(function (e) {
                          B(
                            e,
                            t,
                            "DELETE FROM " + t.storeName,
                            [],
                            function () {
                              n();
                            },
                            function (e, t) {
                              i(t);
                            }
                          );
                        });
                      })
                      .catch(i);
                  });
                return h(t, e), t;
              },
              length: function (e) {
                var r = this,
                  t = new d(function (i, n) {
                    r.ready()
                      .then(function () {
                        var t = r._dbInfo;
                        t.db.transaction(function (e) {
                          B(
                            e,
                            t,
                            "SELECT COUNT(key) as c FROM " + t.storeName,
                            [],
                            function (e, t) {
                              var n = t.rows.item(0).c;
                              i(n);
                            },
                            function (e, t) {
                              n(t);
                            }
                          );
                        });
                      })
                      .catch(n);
                  });
                return h(t, e), t;
              },
              key: function (r, e) {
                var o = this,
                  t = new d(function (i, n) {
                    o.ready()
                      .then(function () {
                        var t = o._dbInfo;
                        t.db.transaction(function (e) {
                          B(
                            e,
                            t,
                            "SELECT key FROM " +
                              t.storeName +
                              " WHERE id = ? LIMIT 1",
                            [r + 1],
                            function (e, t) {
                              var n = t.rows.length ? t.rows.item(0).key : null;
                              i(n);
                            },
                            function (e, t) {
                              n(t);
                            }
                          );
                        });
                      })
                      .catch(n);
                  });
                return h(t, e), t;
              },
              keys: function (e) {
                var i = this,
                  t = new d(function (r, n) {
                    i.ready()
                      .then(function () {
                        var t = i._dbInfo;
                        t.db.transaction(function (e) {
                          B(
                            e,
                            t,
                            "SELECT key FROM " + t.storeName,
                            [],
                            function (e, t) {
                              for (var n = [], i = 0; i < t.rows.length; i++)
                                n.push(t.rows.item(i).key);
                              r(n);
                            },
                            function (e, t) {
                              n(t);
                            }
                          );
                        });
                      })
                      .catch(n);
                  });
                return h(t, e), t;
              },
              dropInstance: function (n, e) {
                e = o.apply(this, arguments);
                var i = this.config();
                (n = ("function" != typeof n && n) || {}).name ||
                  ((n.name = n.name || i.name),
                  (n.storeName = n.storeName || i.storeName));
                var t,
                  r = this;
                return (
                  h(
                    (t = n.name
                      ? new d(function (e) {
                          var t, o;
                          (t =
                            n.name === i.name
                              ? r._dbInfo.db
                              : openDatabase(n.name, "", "", 0)),
                            n.storeName
                              ? e({ db: t, storeNames: [n.storeName] })
                              : e(
                                  ((o = t),
                                  new d(function (r, n) {
                                    o.transaction(
                                      function (e) {
                                        e.executeSql(
                                          "SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",
                                          [],
                                          function (e, t) {
                                            for (
                                              var n = [], i = 0;
                                              i < t.rows.length;
                                              i++
                                            )
                                              n.push(t.rows.item(i).name);
                                            r({ db: o, storeNames: n });
                                          },
                                          function (e, t) {
                                            n(t);
                                          }
                                        );
                                      },
                                      function (e) {
                                        n(e);
                                      }
                                    );
                                  }))
                                );
                        }).then(function (s) {
                          return new d(function (o, a) {
                            s.db.transaction(
                              function (i) {
                                function e(t) {
                                  return new d(function (e, n) {
                                    i.executeSql(
                                      "DROP TABLE IF EXISTS " + t,
                                      [],
                                      function () {
                                        e();
                                      },
                                      function (e, t) {
                                        n(t);
                                      }
                                    );
                                  });
                                }
                                for (
                                  var t = [], n = 0, r = s.storeNames.length;
                                  n < r;
                                  n++
                                )
                                  t.push(e(s.storeNames[n]));
                                d.all(t)
                                  .then(function () {
                                    o();
                                  })
                                  .catch(function (e) {
                                    a(e);
                                  });
                              },
                              function (e) {
                                a(e);
                              }
                            );
                          });
                        })
                      : d.reject("Invalid arguments")),
                    e
                  ),
                  t
                );
              },
            };
            function q(e, t) {
              var n = e.name + "/";
              return e.storeName !== t.storeName && (n += e.storeName + "/"), n;
            }
            function W() {
              return (
                !(function () {
                  var e = "_localforage_support_test";
                  try {
                    return (
                      localStorage.setItem(e, !0),
                      localStorage.removeItem(e),
                      !1
                    );
                  } catch (e) {
                    return !0;
                  }
                })() || 0 < localStorage.length
              );
            }
            var U = {
                _driver: "localStorageWrapper",
                _initStorage: function (e) {
                  var t = {};
                  if (e) for (var n in e) t[n] = e[n];
                  return (
                    (t.keyPrefix = q(e, this._defaultConfig)),
                    W()
                      ? (((this._dbInfo = t).serializer = H), d.resolve())
                      : d.reject()
                  );
                },
                _support: (function () {
                  try {
                    return (
                      "undefined" != typeof localStorage &&
                      "setItem" in localStorage &&
                      !!localStorage.setItem
                    );
                  } catch (e) {
                    return !1;
                  }
                })(),
                iterate: function (u, e) {
                  var l = this,
                    t = l.ready().then(function () {
                      for (
                        var e = l._dbInfo,
                          t = e.keyPrefix,
                          n = t.length,
                          i = localStorage.length,
                          r = 1,
                          o = 0;
                        o < i;
                        o++
                      ) {
                        var a = localStorage.key(o);
                        if (0 === a.indexOf(t)) {
                          var s = localStorage.getItem(a);
                          if (
                            (s && (s = e.serializer.deserialize(s)),
                            void 0 !== (s = u(s, a.substring(n), r++)))
                          )
                            return s;
                        }
                      }
                    });
                  return h(t, e), t;
                },
                getItem: function (n, e) {
                  var i = this;
                  n = f(n);
                  var t = i.ready().then(function () {
                    var e = i._dbInfo,
                      t = localStorage.getItem(e.keyPrefix + n);
                    return t && (t = e.serializer.deserialize(t)), t;
                  });
                  return h(t, e), t;
                },
                setItem: function (a, e, t) {
                  var s = this;
                  a = f(a);
                  var n = s.ready().then(function () {
                    void 0 === e && (e = null);
                    var o = e;
                    return new d(function (n, i) {
                      var r = s._dbInfo;
                      r.serializer.serialize(e, function (e, t) {
                        if (t) i(t);
                        else
                          try {
                            localStorage.setItem(r.keyPrefix + a, e), n(o);
                          } catch (e) {
                            ("QuotaExceededError" !== e.name &&
                              "NS_ERROR_DOM_QUOTA_REACHED" !== e.name) ||
                              i(e),
                              i(e);
                          }
                      });
                    });
                  });
                  return h(n, t), n;
                },
                removeItem: function (t, e) {
                  var n = this;
                  t = f(t);
                  var i = n.ready().then(function () {
                    var e = n._dbInfo;
                    localStorage.removeItem(e.keyPrefix + t);
                  });
                  return h(i, e), i;
                },
                clear: function (e) {
                  var i = this,
                    t = i.ready().then(function () {
                      for (
                        var e = i._dbInfo.keyPrefix,
                          t = localStorage.length - 1;
                        0 <= t;
                        t--
                      ) {
                        var n = localStorage.key(t);
                        0 === n.indexOf(e) && localStorage.removeItem(n);
                      }
                    });
                  return h(t, e), t;
                },
                length: function (e) {
                  var t = this.keys().then(function (e) {
                    return e.length;
                  });
                  return h(t, e), t;
                },
                key: function (n, e) {
                  var i = this,
                    t = i.ready().then(function () {
                      var t,
                        e = i._dbInfo;
                      try {
                        t = localStorage.key(n);
                      } catch (e) {
                        t = null;
                      }
                      return t && (t = t.substring(e.keyPrefix.length)), t;
                    });
                  return h(t, e), t;
                },
                keys: function (e) {
                  var o = this,
                    t = o.ready().then(function () {
                      for (
                        var e = o._dbInfo,
                          t = localStorage.length,
                          n = [],
                          i = 0;
                        i < t;
                        i++
                      ) {
                        var r = localStorage.key(i);
                        0 === r.indexOf(e.keyPrefix) &&
                          n.push(r.substring(e.keyPrefix.length));
                      }
                      return n;
                    });
                  return h(t, e), t;
                },
                dropInstance: function (t, e) {
                  if (
                    ((e = o.apply(this, arguments)),
                    !(t = ("function" != typeof t && t) || {}).name)
                  ) {
                    var n = this.config();
                    (t.name = t.name || n.name),
                      (t.storeName = t.storeName || n.storeName);
                  }
                  var i,
                    r = this;
                  return (
                    h(
                      (i = t.name
                        ? new d(function (e) {
                            t.storeName
                              ? e(q(t, r._defaultConfig))
                              : e(t.name + "/");
                          }).then(function (e) {
                            for (var t = localStorage.length - 1; 0 <= t; t--) {
                              var n = localStorage.key(t);
                              0 === n.indexOf(e) && localStorage.removeItem(n);
                            }
                          })
                        : d.reject("Invalid arguments")),
                      e
                    ),
                    i
                  );
                },
              },
              z = function (e, t) {
                for (var n, i, r = e.length, o = 0; o < r; ) {
                  if (
                    (n = e[o]) === (i = t) ||
                    ("number" == typeof n &&
                      "number" == typeof i &&
                      isNaN(n) &&
                      isNaN(i))
                  )
                    return !0;
                  o++;
                }
                return !1;
              },
              G =
                Array.isArray ||
                function (e) {
                  return "[object Array]" === Object.prototype.toString.call(e);
                },
              K = {},
              $ = {},
              X = { INDEXEDDB: M, WEBSQL: V, LOCALSTORAGE: U },
              J = [
                X.INDEXEDDB._driver,
                X.WEBSQL._driver,
                X.LOCALSTORAGE._driver,
              ],
              Q = ["dropInstance"],
              Y = [
                "clear",
                "getItem",
                "iterate",
                "key",
                "keys",
                "length",
                "removeItem",
                "setItem",
              ].concat(Q),
              Z = {
                description: "",
                driver: J.slice(),
                name: "localforage",
                size: 4980736,
                storeName: "keyvaluepairs",
                version: 1,
              };
            function ee(t, n) {
              t[n] = function () {
                var e = arguments;
                return t.ready().then(function () {
                  return t[n].apply(t, e);
                });
              };
            }
            function te() {
              for (var e = 1; e < arguments.length; e++) {
                var t = arguments[e];
                if (t)
                  for (var n in t)
                    t.hasOwnProperty(n) &&
                      (G(t[n])
                        ? (arguments[0][n] = t[n].slice())
                        : (arguments[0][n] = t[n]));
              }
              return arguments[0];
            }
            var ne = new ((function () {
              function r(e) {
                for (var t in ((function (e, t) {
                  if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function");
                })(this, r),
                X))
                  if (X.hasOwnProperty(t)) {
                    var n = X[t],
                      i = n._driver;
                    (this[t] = i), K[i] || this.defineDriver(n);
                  }
                (this._defaultConfig = te({}, Z)),
                  (this._config = te({}, this._defaultConfig, e)),
                  (this._driverSet = null),
                  (this._initDriver = null),
                  (this._ready = !1),
                  (this._dbInfo = null),
                  this._wrapLibraryMethodsWithReady(),
                  this.setDriver(this._config.driver).catch(function () {});
              }
              return (
                (r.prototype.config = function (e) {
                  if ("object" === (void 0 === e ? "undefined" : i(e))) {
                    if (this._ready)
                      return new Error(
                        "Can't call config() after localforage has been used."
                      );
                    for (var t in e) {
                      if (
                        ("storeName" === t && (e[t] = e[t].replace(/\W/g, "_")),
                        "version" === t && "number" != typeof e[t])
                      )
                        return new Error("Database version must be a number.");
                      this._config[t] = e[t];
                    }
                    return (
                      !("driver" in e && e.driver) ||
                      this.setDriver(this._config.driver)
                    );
                  }
                  return "string" == typeof e ? this._config[e] : this._config;
                }),
                (r.prototype.defineDriver = function (l, e, t) {
                  var n = new d(function (t, n) {
                    try {
                      var i = l._driver,
                        e = new Error(
                          "Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"
                        );
                      if (!l._driver) return void n(e);
                      for (
                        var r = Y.concat("_initStorage"), o = 0, a = r.length;
                        o < a;
                        o++
                      ) {
                        var s = r[o];
                        if ((!z(Q, s) || l[s]) && "function" != typeof l[s])
                          return void n(e);
                      }
                      !(function () {
                        for (
                          var e = function (n) {
                              return function () {
                                var e = new Error(
                                    "Method " +
                                      n +
                                      " is not implemented by the current driver"
                                  ),
                                  t = d.reject(e);
                                return h(t, arguments[arguments.length - 1]), t;
                              };
                            },
                            t = 0,
                            n = Q.length;
                          t < n;
                          t++
                        ) {
                          var i = Q[t];
                          l[i] || (l[i] = e(i));
                        }
                      })();
                      var u = function (e) {
                        K[i] &&
                          console.info("Redefining LocalForage driver: " + i),
                          (K[i] = l),
                          ($[i] = e),
                          t();
                      };
                      "_support" in l
                        ? l._support && "function" == typeof l._support
                          ? l._support().then(u, n)
                          : u(!!l._support)
                        : u(!0);
                    } catch (e) {
                      n(e);
                    }
                  });
                  return u(n, e, t), n;
                }),
                (r.prototype.driver = function () {
                  return this._driver || null;
                }),
                (r.prototype.getDriver = function (e, t, n) {
                  var i = K[e]
                    ? d.resolve(K[e])
                    : d.reject(new Error("Driver not found."));
                  return u(i, t, n), i;
                }),
                (r.prototype.getSerializer = function (e) {
                  var t = d.resolve(H);
                  return u(t, e), t;
                }),
                (r.prototype.ready = function (e) {
                  var t = this,
                    n = t._driverSet.then(function () {
                      return (
                        null === t._ready && (t._ready = t._initDriver()),
                        t._ready
                      );
                    });
                  return u(n, e, e), n;
                }),
                (r.prototype.setDriver = function (e, t, n) {
                  var o = this;
                  G(e) || (e = [e]);
                  var i = this._getSupportedDrivers(e);
                  function a() {
                    o._config.driver = o.driver();
                  }
                  function s(e) {
                    return (
                      o._extend(e),
                      a(),
                      (o._ready = o._initStorage(o._config)),
                      o._ready
                    );
                  }
                  var r =
                    null !== this._driverSet
                      ? this._driverSet.catch(function () {
                          return d.resolve();
                        })
                      : d.resolve();
                  return (
                    (this._driverSet = r
                      .then(function () {
                        var e = i[0];
                        return (
                          (o._dbInfo = null),
                          (o._ready = null),
                          o.getDriver(e).then(function (e) {
                            var r;
                            (o._driver = e._driver),
                              a(),
                              o._wrapLibraryMethodsWithReady(),
                              (o._initDriver =
                                ((r = i),
                                function () {
                                  var i = 0;
                                  return (function e() {
                                    for (; i < r.length; ) {
                                      var t = r[i];
                                      return (
                                        i++,
                                        (o._dbInfo = null),
                                        (o._ready = null),
                                        o.getDriver(t).then(s).catch(e)
                                      );
                                    }
                                    a();
                                    var n = new Error(
                                      "No available storage method found."
                                    );
                                    return (
                                      (o._driverSet = d.reject(n)), o._driverSet
                                    );
                                  })();
                                }));
                          })
                        );
                      })
                      .catch(function () {
                        a();
                        var e = new Error("No available storage method found.");
                        return (o._driverSet = d.reject(e)), o._driverSet;
                      })),
                    u(this._driverSet, t, n),
                    this._driverSet
                  );
                }),
                (r.prototype.supports = function (e) {
                  return !!$[e];
                }),
                (r.prototype._extend = function (e) {
                  te(this, e);
                }),
                (r.prototype._getSupportedDrivers = function (e) {
                  for (var t = [], n = 0, i = e.length; n < i; n++) {
                    var r = e[n];
                    this.supports(r) && t.push(r);
                  }
                  return t;
                }),
                (r.prototype._wrapLibraryMethodsWithReady = function () {
                  for (var e = 0, t = Y.length; e < t; e++) ee(this, Y[e]);
                }),
                (r.prototype.createInstance = function (e) {
                  return new r(e);
                }),
                r
              );
            })())();
            t.exports = ne;
          },
          { 3: 3 },
        ],
      },
      {},
      [4]
    )(4);
  }),
  define(
    "HMIWeb/Source/Core/ContextStore",
    ["require", "exports", "localforage"],
    function (e, t, n) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var i = (function () {
        function e(e, t) {
          void 0 === t && (t = "hmiweb"),
            (this.keyPrefix = t),
            (this.logger = e),
            (this.localForage = n),
            this.localForage.config({ name: "InsightContextStore" });
        }
        return (
          (e.prototype.addContextAsync = function (e, t) {
            var n = "" + this.keyPrefix + (Date.now() + t);
            return this.localForage.setItem(n, e).then(function () {
              return Promise.resolve(n);
            });
          }),
          (e.prototype.addContextWithKeyAsync = function (e, t) {
            return this.localForage.setItem(e, t);
          }),
          (e.prototype.getContextAsync = function (e) {
            return this.localForage.getItem(e);
          }),
          (e.prototype.removeContextAsync = function (e) {
            return this.localForage.removeItem(e);
          }),
          (e.prototype.cleanStoreAsync = function () {
            var o = this,
              a = Date.now();
            return this.localForage.iterate(function (e, t, n) {
              var i = t.split(o.keyPrefix);
              if (2 === i.length && 0 === i[0].length) {
                var r = parseInt(i[1]);
                isNaN(r) || (r < a && o.localForage.removeItem(t));
              }
            });
          }),
          e
        );
      })();
      t.ContextStore = i;
    }
  ),
  define(
    "HMIWeb/Source/Data/DataObjectIdGenerator",
    ["require", "exports"],
    function (e, t) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function e() {
          this.maxDataObjectId = 0;
        }
        return (
          (e.prototype.getNextDataObjectId = function () {
            return this.maxDataObjectId++, this.maxDataObjectId;
          }),
          (e.prototype.updateMaxDataObjectId = function (e) {
            this.maxDataObjectId = Math.max(this.maxDataObjectId, e);
          }),
          e
        );
      })();
      t.DataObjectIdGenerator = n;
    }
  ),
  define(
    "HMIWeb/Source/Binding/DataBindingController",
    ["require", "exports"],
    function (e, t) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function e(e, t, n, i, r) {
          (this.logger = e),
            (this.localisationCache = t),
            (this.fatalErrorNotification = n),
            (this.ko = i),
            (this.viewModelFactory = r),
            (this.elementsPendingBinding = []),
            (this.dataObjectsPendingBinding = []),
            (this.bindingIdToViewModelMap = []),
            (this.hasChanges = !1);
        }
        return (
          (e.prototype.registerCustomBindingHandlers = function (e) {
            for (var t in e)
              e.hasOwnProperty(t) && (this.ko.bindingHandlers[t] = e[t]);
          }),
          (e.prototype.registerCustomBindingProvider = function (e) {
            void 0 !== e && (this.ko.bindingProvider.instance = e);
          }),
          (e.prototype.registerElementForBinding = function (e, t) {
            null != e
              ? ((this.elementsPendingBinding[e] = t), (this.hasChanges = !0))
              : this.bind(t, null);
          }),
          (e.prototype.registerDataObjectForBinding = function (e, t) {
            null != e &&
              ((this.dataObjectsPendingBinding[e] = t), (this.hasChanges = !0));
          }),
          Object.defineProperty(e.prototype, "hasBindingsToProcess", {
            get: function () {
              return this.hasChanges;
            },
            enumerable: !0,
            configurable: !0,
          }),
          (e.prototype.processQueuedBindings = function () {
            var e = Object.keys(this.elementsPendingBinding).map(Number),
              t = Object.keys(this.dataObjectsPendingBinding).map(Number);
            if (e.length < t.length)
              for (var n = 0; n < e.length; n++)
                this.checkAndApplyBindings(e[n]);
            else
              for (n = 0; n < t.length; n++) this.checkAndApplyBindings(t[n]);
            this.hasChanges = !1;
          }),
          (e.prototype.checkAndApplyBindings = function (e) {
            var t = this.elementsPendingBinding[e],
              n = this.dataObjectsPendingBinding[e];
            null != t &&
              null != n &&
              (this.bind(t, n),
              delete this.elementsPendingBinding[e],
              delete this.dataObjectsPendingBinding[e]);
          }),
          (e.prototype.bind = function (e, t) {
            var n = this;
            try {
              var i =
                null != t ? this.viewModelFactory.createViewModel(e, t) : null;
              return (
                this.ko.applyBindings(i, e),
                e._afterDataBound &&
                  "function" == typeof e._afterDataBound &&
                  e._afterDataBound(),
                i
                  ? (i.afterDataBound &&
                      "function" == typeof i.afterDataBound &&
                      i.afterDataBound(),
                    this.bindingIdToViewModelMap.push(i),
                    this.bindingIdToViewModelMap.length - 1)
                  : null
              );
            } catch (e) {
              return (
                this.logger.exception(
                  "Binding",
                  "Error applying bindings for element",
                  e
                ),
                this.localisationCache.getLocalisedStrings().then(function (e) {
                  n.fatalErrorNotification.updateStatus(
                    e.getStringOrError("Application_Error_Binding"),
                    !0
                  );
                }),
                null
              );
            }
          }),
          (e.prototype.unbind = function (e) {
            if (null == this.bindingIdToViewModelMap[e])
              throw new Error(
                "binding with id " +
                  e +
                  " does not exist or has already been unbound"
              );
            this.bindingIdToViewModelMap[e].dispose(),
              (this.bindingIdToViewModelMap[e] = null);
          }),
          e
        );
      })();
      t.DataBindingController = n;
    }
  ),
  (function (Ewa) {
    var Kwa,
      Fwa = this || eval("this"),
      Gwa = Fwa.document,
      Hwa = Fwa.navigator,
      Iwa = Fwa.jQuery,
      Jwa = Fwa.JSON;
    Iwa || "undefined" == typeof jQuery || (Iwa = jQuery),
      (Kwa = function (e, i) {
        function n(e, t) {
          return (null === e || typeof e in g) && e === t;
        }
        function o(e, t) {
          var n;
          return function () {
            n ||
              (n = P.a.setTimeout(function () {
                (n = Ewa), e();
              }, t));
          };
        }
        function a(e, t) {
          var n;
          return function () {
            clearTimeout(n), (n = P.a.setTimeout(e, t));
          };
        }
        function l(e, t) {
          t && "change" !== t
            ? "beforeChange" === t
              ? this.oc(e)
              : this.bb(e, t)
            : this.pc(e);
        }
        function r(e, t) {
          null !== t && t.s && t.s();
        }
        function s(e, t) {
          var n = this.pd,
            i = n[w];
          i.qa ||
            (this.Pb && this.kb[t]
              ? (n.tc(t, e, this.kb[t]), (this.kb[t] = null), --this.Pb)
              : i.F[t] || n.tc(t, e, i.G ? { da: e } : n.Zc(e)),
            e.Ka && e.fd());
        }
        var u,
          t,
          c,
          d,
          h,
          f,
          p,
          P = void 0 !== e ? e : {};
        (P.b = function (e, t) {
          for (var n = e.split("."), i = P, r = 0; r < n.length - 1; r++)
            i = i[n[r]];
          i[n[n.length - 1]] = t;
        }),
          (P.J = function (e, t, n) {
            e[t] = n;
          }),
          (P.version = "3.5.0"),
          P.b("version", P.version),
          (P.options = {
            deferUpdates: !1,
            useOnlyNativeEvents: !1,
            foreachHidesDestroyed: !1,
          }),
          (P.a = (function () {
            function d(e, t) {
              for (var n in e) o.call(e, n) && t(n, e[n]);
            }
            function e(e, t) {
              if (t) for (var n in t) o.call(t, n) && (e[n] = t[n]);
              return e;
            }
            function t(e, t) {
              return (e.__proto__ = t), e;
            }
            function r(e, t, n, i) {
              var r = e[t].match(h) || [];
              P.a.C(n.match(h), function (e) {
                P.a.Oa(r, e, i);
              }),
                (e[t] = r.join(" "));
            }
            var o = Object.prototype.hasOwnProperty,
              n = { __proto__: [] } instanceof Array,
              i = "function" == typeof Symbol,
              a = {},
              s = {};
            (a[
              Hwa && /Firefox\/2/i.test(Hwa.userAgent)
                ? "KeyboardEvent"
                : "UIEvents"
            ] = ["keyup", "keydown", "keypress"]),
              (a.MouseEvents =
                "click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(
                  " "
                )),
              d(a, function (e, t) {
                if (t.length)
                  for (var n = 0, i = t.length; n < i; n++) s[t[n]] = e;
              });
            var u,
              l = { propertychange: !0 },
              c =
                Gwa &&
                (function () {
                  for (
                    var e = 3,
                      t = Gwa.createElement("div"),
                      n = t.getElementsByTagName("i");
                    (t.innerHTML =
                      "\x3c!--[if gt IE " + ++e + "]><i></i><![endif]--\x3e"),
                      n[0];

                  );
                  return 4 < e ? e : Ewa;
                })(),
              h = /\S+/g;
            return {
              Ic: ["authenticity_token", /^__RequestVerificationToken(_.*)?$/],
              C: function (e, t, n) {
                for (var i = 0, r = e.length; i < r; i++) t.call(n, e[i], i, e);
              },
              A:
                "function" == typeof Array.prototype.indexOf
                  ? function (e, t) {
                      return Array.prototype.indexOf.call(e, t);
                    }
                  : function (e, t) {
                      for (var n = 0, i = e.length; n < i; n++)
                        if (e[n] === t) return n;
                      return -1;
                    },
              Lb: function (e, t, n) {
                for (var i = 0, r = e.length; i < r; i++)
                  if (t.call(n, e[i], i, e)) return e[i];
                return Ewa;
              },
              hb: function (e, t) {
                var n = P.a.A(e, t);
                0 < n ? e.splice(n, 1) : 0 === n && e.shift();
              },
              vc: function (e) {
                var t = [];
                return (
                  e &&
                    P.a.C(e, function (e) {
                      P.a.A(t, e) < 0 && t.push(e);
                    }),
                  t
                );
              },
              Mb: function (e, t, n) {
                var i = [];
                if (e)
                  for (var r = 0, o = e.length; r < o; r++)
                    i.push(t.call(n, e[r], r));
                return i;
              },
              fb: function (e, t, n) {
                var i = [];
                if (e)
                  for (var r = 0, o = e.length; r < o; r++)
                    t.call(n, e[r], r) && i.push(e[r]);
                return i;
              },
              gb: function (e, t) {
                if (t instanceof Array) e.push.apply(e, t);
                else for (var n = 0, i = t.length; n < i; n++) e.push(t[n]);
                return e;
              },
              Oa: function (e, t, n) {
                var i = P.a.A(P.a.$b(e), t);
                i < 0 ? n && e.push(t) : n || e.splice(i, 1);
              },
              Ba: n,
              extend: e,
              setPrototypeOf: t,
              zb: n ? t : e,
              O: d,
              Ha: function (e, t, n) {
                if (!e) return e;
                var i,
                  r = {};
                for (i in e) o.call(e, i) && (r[i] = t.call(n, e[i], i, e));
                return r;
              },
              Sb: function (e) {
                for (; e.firstChild; ) P.removeNode(e.firstChild);
              },
              Xb: function (e) {
                for (
                  var t = (
                      ((e = P.a.la(e))[0] && e[0].ownerDocument) ||
                      Gwa
                    ).createElement("div"),
                    n = 0,
                    i = e.length;
                  n < i;
                  n++
                )
                  t.appendChild(P.na(e[n]));
                return t;
              },
              Ca: function (e, t) {
                for (var n = 0, i = e.length, r = []; n < i; n++) {
                  var o = e[n].cloneNode(!0);
                  r.push(t ? P.na(o) : o);
                }
                return r;
              },
              ua: function (e, t) {
                if ((P.a.Sb(e), t))
                  for (var n = 0, i = t.length; n < i; n++) e.appendChild(t[n]);
              },
              Wc: function (e, t) {
                var n = e.nodeType ? [e] : e;
                if (0 < n.length) {
                  for (
                    var i = n[0], r = i.parentNode, o = 0, a = t.length;
                    o < a;
                    o++
                  )
                    r.insertBefore(t[o], i);
                  for (o = 0, a = n.length; o < a; o++) P.removeNode(n[o]);
                }
              },
              Ua: function (e, t) {
                if (e.length) {
                  for (
                    t = (8 === t.nodeType && t.parentNode) || t;
                    e.length && e[0].parentNode !== t;

                  )
                    e.splice(0, 1);
                  for (; 1 < e.length && e[e.length - 1].parentNode !== t; )
                    e.length--;
                  if (1 < e.length) {
                    var n = e[0],
                      i = e[e.length - 1];
                    for (e.length = 0; n !== i; )
                      e.push(n), (n = n.nextSibling);
                    e.push(i);
                  }
                }
                return e;
              },
              Yc: function (e, t) {
                c < 7 ? e.setAttribute("selected", t) : (e.selected = t);
              },
              Cb: function (e) {
                return null === e || e === Ewa
                  ? ""
                  : e.trim
                  ? e.trim()
                  : e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g, "");
              },
              Td: function (e, t) {
                return (
                  (e = e || ""),
                  !(t.length > e.length) && e.substring(0, t.length) === t
                );
              },
              ud: function (e, t) {
                if (e === t) return !0;
                if (11 === e.nodeType) return !1;
                if (t.contains)
                  return t.contains(1 !== e.nodeType ? e.parentNode : e);
                if (t.compareDocumentPosition)
                  return 16 == (16 & t.compareDocumentPosition(e));
                for (; e && e != t; ) e = e.parentNode;
                return !!e;
              },
              Rb: function (e) {
                return P.a.ud(e, e.ownerDocument.documentElement);
              },
              jd: function (e) {
                return !!P.a.Lb(e, P.a.Rb);
              },
              P: function (e) {
                return e && e.tagName && e.tagName.toLowerCase();
              },
              zc: function (e) {
                return P.onError
                  ? function () {
                      try {
                        return e.apply(this, arguments);
                      } catch (e) {
                        throw (P.onError && P.onError(e), e);
                      }
                    }
                  : e;
              },
              setTimeout: function (e, t) {
                return setTimeout(P.a.zc(e), t);
              },
              Fc: function (e) {
                setTimeout(function () {
                  throw (P.onError && P.onError(e), e);
                }, 0);
              },
              H: function (t, e, n) {
                var i = P.a.zc(n);
                if (((n = l[e]), P.options.useOnlyNativeEvents || n || !Iwa))
                  if (n || "function" != typeof t.addEventListener) {
                    if (void 0 === t.attachEvent)
                      throw Error(
                        "Browser doesn't support addEventListener or attachEvent"
                      );
                    var r = function (e) {
                        i.call(t, e);
                      },
                      o = "on" + e;
                    t.attachEvent(o, r),
                      P.a.I.za(t, function () {
                        t.detachEvent(o, r);
                      });
                  } else t.addEventListener(e, i, !1);
                else
                  u || (u = "function" == typeof Iwa(t).on ? "on" : "bind"),
                    Iwa(t)[u](e, i);
              },
              Fb: function (e, t) {
                if (!e || !e.nodeType)
                  throw Error(
                    "element must be a DOM node when calling triggerEvent"
                  );
                var n;
                if (
                  ((n =
                    !(
                      "input" !== P.a.P(e) ||
                      !e.type ||
                      "click" != t.toLowerCase()
                    ) &&
                    ("checkbox" == (n = e.type) || "radio" == n)),
                  P.options.useOnlyNativeEvents || !Iwa || n)
                )
                  if ("function" == typeof Gwa.createEvent) {
                    if ("function" != typeof e.dispatchEvent)
                      throw Error(
                        "The supplied element doesn't support dispatchEvent"
                      );
                    (n = Gwa.createEvent(s[t] || "HTMLEvents")).initEvent(
                      t,
                      !0,
                      !0,
                      Fwa,
                      0,
                      0,
                      0,
                      0,
                      0,
                      !1,
                      !1,
                      !1,
                      !1,
                      0,
                      e
                    ),
                      e.dispatchEvent(n);
                  } else if (n && e.click) e.click();
                  else {
                    if (void 0 === e.fireEvent)
                      throw Error("Browser doesn't support triggering events");
                    e.fireEvent("on" + t);
                  }
                else Iwa(e).trigger(t);
              },
              c: function (e) {
                return P.N(e) ? e() : e;
              },
              $b: function (e) {
                return P.N(e) ? e.w() : e;
              },
              Eb: function (t, e, n) {
                var i;
                e &&
                  ("object" == typeof t.classList
                    ? ((i = t.classList[n ? "add" : "remove"]),
                      P.a.C(e.match(h), function (e) {
                        i.call(t.classList, e);
                      }))
                    : "string" == typeof t.className.baseVal
                    ? r(t.className, "baseVal", e, n)
                    : r(t, "className", e, n));
              },
              Ab: function (e, t) {
                var n = P.a.c(t);
                (null !== n && n !== Ewa) || (n = "");
                var i = P.h.firstChild(e);
                !i || 3 != i.nodeType || P.h.nextSibling(i)
                  ? P.h.ua(e, [e.ownerDocument.createTextNode(n)])
                  : (i.data = n),
                  P.a.zd(e);
              },
              Xc: function (e, t) {
                if (((e.name = t), c <= 7))
                  try {
                    var n = e.name.replace(/[&<>'"]/g, function (e) {
                      return "&#" + e.charCodeAt(0) + ";";
                    });
                    e.mergeAttributes(
                      Gwa.createElement("<input name='" + n + "'/>"),
                      !1
                    );
                  } catch (e) {}
              },
              zd: function (e) {
                9 <= c &&
                  (e = 1 == e.nodeType ? e : e.parentNode).style &&
                  (e.style.zoom = e.style.zoom);
              },
              vd: function (e) {
                if (c) {
                  var t = e.style.width;
                  (e.style.width = 0), (e.style.width = t);
                }
              },
              Od: function (e, t) {
                (e = P.a.c(e)), (t = P.a.c(t));
                for (var n = [], i = e; i <= t; i++) n.push(i);
                return n;
              },
              la: function (e) {
                for (var t = [], n = 0, i = e.length; n < i; n++) t.push(e[n]);
                return t;
              },
              Da: function (e) {
                return i ? Symbol(e) : e;
              },
              Xd: 6 === c,
              Yd: 7 === c,
              W: c,
              Kc: function (e, t) {
                for (
                  var n = P.a
                      .la(e.getElementsByTagName("input"))
                      .concat(P.a.la(e.getElementsByTagName("textarea"))),
                    i =
                      "string" == typeof t
                        ? function (e) {
                            return e.name === t;
                          }
                        : function (e) {
                            return t.test(e.name);
                          },
                    r = [],
                    o = n.length - 1;
                  0 <= o;
                  o--
                )
                  i(n[o]) && r.push(n[o]);
                return r;
              },
              Md: function (e) {
                return "string" == typeof e && (e = P.a.Cb(e))
                  ? Jwa && Jwa.parse
                    ? Jwa.parse(e)
                    : new Function("return " + e)()
                  : null;
              },
              fc: function (e, t, n) {
                if (!Jwa || !Jwa.stringify)
                  throw Error(
                    "Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js"
                  );
                return Jwa.stringify(P.a.c(e), t, n);
              },
              Nd: function (e, t, n) {
                var i = (n = n || {}).params || {},
                  r = n.includeFields || this.Ic,
                  o = e;
                if ("object" == typeof e && "form" === P.a.P(e)) {
                  o = e.action;
                  for (var a = r.length - 1; 0 <= a; a--)
                    for (var s = P.a.Kc(e, r[a]), u = s.length - 1; 0 <= u; u--)
                      i[s[u].name] = s[u].value;
                }
                t = P.a.c(t);
                var l = Gwa.createElement("form");
                for (var c in ((l.style.display = "none"),
                (l.action = o),
                (l.method = "post"),
                t))
                  ((e = Gwa.createElement("input")).type = "hidden"),
                    (e.name = c),
                    (e.value = P.a.fc(P.a.c(t[c]))),
                    l.appendChild(e);
                d(i, function (e, t) {
                  var n = Gwa.createElement("input");
                  (n.type = "hidden"),
                    (n.name = e),
                    (n.value = t),
                    l.appendChild(n);
                }),
                  Gwa.body.appendChild(l),
                  n.submitter ? n.submitter(l) : l.submit(),
                  setTimeout(function () {
                    l.parentNode.removeChild(l);
                  }, 0);
              },
            };
          })()),
          P.b("utils", P.a),
          P.b("utils.arrayForEach", P.a.C),
          P.b("utils.arrayFirst", P.a.Lb),
          P.b("utils.arrayFilter", P.a.fb),
          P.b("utils.arrayGetDistinctValues", P.a.vc),
          P.b("utils.arrayIndexOf", P.a.A),
          P.b("utils.arrayMap", P.a.Mb),
          P.b("utils.arrayPushAll", P.a.gb),
          P.b("utils.arrayRemoveItem", P.a.hb),
          P.b("utils.cloneNodes", P.a.Ca),
          P.b("utils.createSymbolOrString", P.a.Da),
          P.b("utils.extend", P.a.extend),
          P.b("utils.fieldsIncludedWithJsonPost", P.a.Ic),
          P.b("utils.getFormFields", P.a.Kc),
          P.b("utils.objectMap", P.a.Ha),
          P.b("utils.peekObservable", P.a.$b),
          P.b("utils.postJson", P.a.Nd),
          P.b("utils.parseJson", P.a.Md),
          P.b("utils.registerEventHandler", P.a.H),
          P.b("utils.stringifyJson", P.a.fc),
          P.b("utils.range", P.a.Od),
          P.b("utils.toggleDomNodeCssClass", P.a.Eb),
          P.b("utils.triggerEvent", P.a.Fb),
          P.b("utils.unwrapObservable", P.a.c),
          P.b("utils.objectForEach", P.a.O),
          P.b("utils.addOrRemoveItem", P.a.Oa),
          P.b("utils.setTextContent", P.a.Ab),
          P.b("unwrap", P.a.c),
          Function.prototype.bind ||
            (Function.prototype.bind = function (t) {
              var n = this;
              if (1 === arguments.length)
                return function () {
                  return n.apply(t, arguments);
                };
              var i = Array.prototype.slice.call(arguments, 1);
              return function () {
                var e = i.slice(0);
                return e.push.apply(e, arguments), n.apply(t, e);
              };
            }),
          (P.a.g = new (function () {
            var i,
              e,
              r = 0,
              o = "__ko__" + new Date().getTime(),
              a = {};
            return (
              P.a.W
                ? ((i = function (e, t) {
                    var n = e[o];
                    if (!n || "null" === n || !a[n]) {
                      if (!t) return Ewa;
                      (n = e[o] = "ko" + r++), (a[n] = {});
                    }
                    return a[n];
                  }),
                  (e = function (e) {
                    var t = e[o];
                    return !(!t || (delete a[t], (e[o] = null)));
                  }))
                : ((i = function (e, t) {
                    var n = e[o];
                    return !n && t && (n = e[o] = {}), n;
                  }),
                  (e = function (e) {
                    return !!e[o] && (delete e[o], !0);
                  })),
              {
                get: function (e, t) {
                  var n = i(e, !1);
                  return n && n[t];
                },
                set: function (e, t, n) {
                  (e = i(e, n !== Ewa)) && (e[t] = n);
                },
                Tb: function (e, t, n) {
                  return (e = i(e, !0))[t] || (e[t] = n);
                },
                clear: e,
                Z: function () {
                  return r++ + o;
                },
              }
            );
          })()),
          P.b("utils.domData", P.a.g),
          P.b("utils.domData.clear", P.a.g.clear),
          (P.a.I = new (function () {
            function i(e, t) {
              var n = P.a.g.get(e, a);
              return n === Ewa && t && ((n = []), P.a.g.set(e, a, n)), n;
            }
            function o(e) {
              if ((t = i(e, !1)))
                for (var t = t.slice(0), n = 0; n < t.length; n++) t[n](e);
              P.a.g.clear(e),
                P.a.I.cleanExternalData(e),
                s[e.nodeType] && r(e.childNodes, !0);
            }
            function r(e, t) {
              for (var n, i = [], r = 0; r < e.length; r++)
                if (
                  (!t || 8 === e[r].nodeType) &&
                  (o((i[i.length] = n = e[r])), e[r] !== n)
                )
                  for (; r-- && -1 == P.a.A(i, e[r]); );
            }
            var a = P.a.g.Z(),
              t = { 1: !0, 8: !0, 9: !0 },
              s = { 1: !0, 9: !0 };
            return {
              za: function (e, t) {
                if ("function" != typeof t)
                  throw Error("Callback must be a function");
                i(e, !0).push(t);
              },
              xb: function (e, t) {
                var n = i(e, !1);
                n && (P.a.hb(n, t), 0 == n.length && P.a.g.set(e, a, Ewa));
              },
              na: function (e) {
                return (
                  t[e.nodeType] &&
                    (o(e), s[e.nodeType] && r(e.getElementsByTagName("*"))),
                  e
                );
              },
              removeNode: function (e) {
                P.na(e), e.parentNode && e.parentNode.removeChild(e);
              },
              cleanExternalData: function (e) {
                Iwa && "function" == typeof Iwa.cleanData && Iwa.cleanData([e]);
              },
            };
          })()),
          (P.na = P.a.I.na),
          (P.removeNode = P.a.I.removeNode),
          P.b("cleanNode", P.na),
          P.b("removeNode", P.removeNode),
          P.b("utils.domNodeDisposal", P.a.I),
          P.b("utils.domNodeDisposal.addDisposeCallback", P.a.I.za),
          P.b("utils.domNodeDisposal.removeDisposeCallback", P.a.I.xb),
          (u = [0, "", ""]),
          (h = {
            thead: (t = [1, "<table>", "</table>"]),
            tbody: t,
            tfoot: t,
            tr: [2, "<table><tbody>", "</tbody></table>"],
            td: (c = [3, "<table><tbody><tr>", "</tr></tbody></table>"]),
            th: c,
            option: (d = [1, "<select multiple='multiple'>", "</select>"]),
            optgroup: d,
          }),
          (f = P.a.W <= 8),
          (P.a.ta = function (e, t) {
            var n;
            if (Iwa) {
              if (Iwa.parseHTML) n = Iwa.parseHTML(e, t) || [];
              else if ((n = Iwa.clean([e], t)) && n[0]) {
                for (
                  var i = n[0];
                  i.parentNode && 11 !== i.parentNode.nodeType;

                )
                  i = i.parentNode;
                i.parentNode && i.parentNode.removeChild(i);
              }
            } else {
              (n = t) || (n = Gwa),
                (i = n.parentWindow || n.defaultView || Fwa);
              var r,
                o = P.a.Cb(e).toLowerCase(),
                a = n.createElement("div");
              for (
                o = (r =
                  ((o = o.match(/^(?:\x3c!--.*?--\x3e\s*?)*?<([a-z]+)[\s>]/)) &&
                    h[o[1]]) ||
                  u)[0],
                  r = "ignored<div>" + r[1] + e + r[2] + "</div>",
                  "function" == typeof i.innerShiv
                    ? a.appendChild(i.innerShiv(r))
                    : (f && n.body.appendChild(a),
                      (a.innerHTML = r),
                      f && a.parentNode.removeChild(a));
                o--;

              )
                a = a.lastChild;
              n = P.a.la(a.lastChild.childNodes);
            }
            return n;
          }),
          (P.a.Ld = function (e, t) {
            var n = P.a.ta(e, t);
            return (n.length && n[0].parentElement) || P.a.Xb(n);
          }),
          (P.a.dc = function (e, t) {
            if ((P.a.Sb(e), null !== (t = P.a.c(t)) && t !== Ewa))
              if (("string" != typeof t && (t = t.toString()), Iwa))
                Iwa(e).html(t);
              else
                for (
                  var n = P.a.ta(t, e.ownerDocument), i = 0;
                  i < n.length;
                  i++
                )
                  e.appendChild(n[i]);
          }),
          P.b("utils.parseHtmlFragment", P.a.ta),
          P.b("utils.setHtml", P.a.dc),
          (P.aa =
            ((p = {}),
            {
              Wb: function (e) {
                if ("function" != typeof e)
                  throw Error(
                    "You can only pass a function to ko.memoization.memoize()"
                  );
                var t =
                  ((4294967296 * (1 + Math.random())) | 0)
                    .toString(16)
                    .substring(1) +
                  ((4294967296 * (1 + Math.random())) | 0)
                    .toString(16)
                    .substring(1);
                return (p[t] = e), "\x3c!--[ko_memo:" + t + "]--\x3e";
              },
              ad: function (e, t) {
                var n = p[e];
                if (n === Ewa)
                  throw Error(
                    "Couldn't find any memo with ID " +
                      e +
                      ". Perhaps it's already been unmemoized."
                  );
                try {
                  return n.apply(null, t || []), !0;
                } finally {
                  delete p[e];
                }
              },
              bd: function (e, t) {
                var n = [];
                !(function e(t, n) {
                  if (t)
                    if (8 == t.nodeType)
                      null != (i = P.aa.Tc(t.nodeValue)) &&
                        n.push({ sd: t, Jd: i });
                    else if (1 == t.nodeType)
                      for (
                        var i = 0, r = t.childNodes, o = r.length;
                        i < o;
                        i++
                      )
                        e(r[i], n);
                })(e, n);
                for (var i = 0, r = n.length; i < r; i++) {
                  var o = n[i].sd,
                    a = [o];
                  t && P.a.gb(a, t),
                    P.aa.ad(n[i].Jd, a),
                    (o.nodeValue = ""),
                    o.parentNode && o.parentNode.removeChild(o);
                }
              },
              Tc: function (e) {
                return (e = e.match(/^\[ko_memo\:(.*?)\]$/)) ? e[1] : null;
              },
            })),
          P.b("memoization", P.aa),
          P.b("memoization.memoize", P.aa.Wb),
          P.b("memoization.unmemoize", P.aa.ad),
          P.b("memoization.parseMemoText", P.aa.Tc),
          P.b("memoization.unmemoizeDomNodeAndDescendants", P.aa.bd),
          (P.ma = (function () {
            function e() {
              if (a)
                for (var e, t = a, n = 0; u < a; )
                  if ((e = o[u++])) {
                    if (t < u) {
                      if (5e3 <= ++n) {
                        (u = a),
                          P.a.Fc(
                            Error(
                              "'Too much recursion' after processing " +
                                n +
                                " task groups."
                            )
                          );
                        break;
                      }
                      t = a;
                    }
                    try {
                      e();
                    } catch (e) {
                      P.a.Fc(e);
                    }
                  }
            }
            function t() {
              e(), (u = a = o.length = 0);
            }
            var n,
              i,
              r,
              o = [],
              a = 0,
              s = 1,
              u = 0;
            return (
              Fwa.MutationObserver
                ? ((i = t),
                  (r = Gwa.createElement("div")),
                  new MutationObserver(i).observe(r, { attributes: !0 }),
                  (n = function () {
                    r.classList.toggle("foo");
                  }))
                : (n =
                    Gwa && "onreadystatechange" in Gwa.createElement("script")
                      ? function (e) {
                          var t = Gwa.createElement("script");
                          (t.onreadystatechange = function () {
                            (t.onreadystatechange = null),
                              Gwa.documentElement.removeChild(t),
                              (t = null),
                              e();
                          }),
                            Gwa.documentElement.appendChild(t);
                        }
                      : function (e) {
                          setTimeout(e, 0);
                        }),
              {
                scheduler: n,
                yb: function (e) {
                  return a || P.ma.scheduler(t), (o[a++] = e), s++;
                },
                cancel: function (e) {
                  u <= (e -= s - a) && e < a && (o[e] = null);
                },
                resetForTesting: function () {
                  var e = a - u;
                  return (u = a = o.length = 0), e;
                },
                Rd: e,
              }
            );
          })()),
          P.b("tasks", P.ma),
          P.b("tasks.schedule", P.ma.yb),
          P.b("tasks.runEarly", P.ma.Rd),
          (P.Ta = {
            throttle: function (t, n) {
              t.throttleEvaluation = n;
              var i = null;
              return P.$({
                read: t,
                write: function (e) {
                  clearTimeout(i),
                    (i = P.a.setTimeout(function () {
                      t(e);
                    }, n));
                },
              });
            },
            rateLimit: function (e, t) {
              var n, i, r;
              "number" == typeof t
                ? (n = t)
                : ((n = t.timeout), (i = t.method)),
                (e.Hb = !1),
                (r =
                  "function" == typeof i
                    ? i
                    : "notifyWhenChangesStop" == i
                    ? a
                    : o),
                e.tb(function (e) {
                  return r(e, n, t);
                });
            },
            deferred: function (i, e) {
              if (!0 !== e)
                throw Error(
                  "The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled."
                );
              i.Hb ||
                ((i.Hb = !0),
                i.tb(function (e) {
                  var t,
                    n = !1;
                  return function () {
                    if (!n) {
                      P.ma.cancel(t), (t = P.ma.yb(e));
                      try {
                        (n = !0), i.notifySubscribers(Ewa, "dirty");
                      } finally {
                        n = !1;
                      }
                    }
                  };
                }));
            },
            notify: function (e, t) {
              e.equalityComparer = "always" == t ? null : n;
            },
          });
        var g = { undefined: 1, boolean: 1, number: 1, string: 1 };
        P.b("extenders", P.Ta),
          (P.gc = function (e, t, n) {
            (this.da = e),
              (this.kc = t),
              (this.lc = n),
              (this.Ib = !1),
              (this.ab = this.Jb = null),
              P.J(this, "dispose", this.s),
              P.J(this, "disposeWhenNodeIsRemoved", this.l);
          }),
          (P.gc.prototype.s = function () {
            this.Ib ||
              (this.ab && P.a.I.xb(this.Jb, this.ab),
              (this.Ib = !0),
              this.lc(),
              (this.da = this.kc = this.lc = this.Jb = this.ab = null));
          }),
          (P.gc.prototype.l = function (e) {
            (this.Jb = e), P.a.I.za(e, (this.ab = this.s.bind(this)));
          }),
          (P.R = function () {
            P.a.zb(this, m), m.ob(this);
          });
        var m = {
          ob: function (e) {
            (e.S = { change: [] }), (e.rc = 1);
          },
          subscribe: function (e, t, n) {
            var i = this;
            n = n || "change";
            var r = new P.gc(i, t ? e.bind(t) : e, function () {
              P.a.hb(i.S[n], r), i.cb && i.cb(n);
            });
            return i.Qa && i.Qa(n), i.S[n] || (i.S[n] = []), i.S[n].push(r), r;
          },
          notifySubscribers: function (e, t) {
            if (("change" === (t = t || "change") && this.Gb(), this.Wa(t))) {
              var n = ("change" === t && this.dd) || this.S[t].slice(0);
              try {
                P.v.wc();
                for (var i, r = 0; (i = n[r]); ++r) i.Ib || i.kc(e);
              } finally {
                P.v.end();
              }
            }
          },
          mb: function () {
            return this.rc;
          },
          Cd: function (e) {
            return this.mb() !== e;
          },
          Gb: function () {
            ++this.rc;
          },
          tb: function (e) {
            var n,
              t,
              i,
              r,
              o,
              a = this,
              s = P.N(a);
            a.bb || ((a.bb = a.notifySubscribers), (a.notifySubscribers = l));
            var u = e(function () {
              (a.Ka = !1), s && r === a && (r = a.mc ? a.mc() : a());
              var e = t || (o && a.qb(i, r));
              (o = t = n = !1), e && a.bb((i = r));
            });
            (a.pc = function (e, t) {
              (t && a.Ka) || (o = !t),
                (a.dd = a.S.change.slice(0)),
                (a.Ka = n = !0),
                (r = e),
                u();
            }),
              (a.oc = function (e) {
                n || ((i = e), a.bb(e, "beforeChange"));
              }),
              (a.qc = function () {
                o = !0;
              }),
              (a.fd = function () {
                a.qb(i, a.w(!0)) && (t = !0);
              });
          },
          Wa: function (e) {
            return this.S[e] && this.S[e].length;
          },
          Ad: function (e) {
            if (e) return (this.S[e] && this.S[e].length) || 0;
            var n = 0;
            return (
              P.a.O(this.S, function (e, t) {
                "dirty" !== e && (n += t.length);
              }),
              n
            );
          },
          qb: function (e, t) {
            return !this.equalityComparer || !this.equalityComparer(e, t);
          },
          toString: function () {
            return "[object Object]";
          },
          extend: function (e) {
            var i = this;
            return (
              e &&
                P.a.O(e, function (e, t) {
                  var n = P.Ta[e];
                  "function" == typeof n && (i = n(i, t) || i);
                }),
              i
            );
          },
        };
        P.J(m, "init", m.ob),
          P.J(m, "subscribe", m.subscribe),
          P.J(m, "extend", m.extend),
          P.J(m, "getSubscriptionsCount", m.Ad),
          P.a.Ba && P.a.setPrototypeOf(m, Function.prototype),
          (P.R.fn = m),
          (P.Pc = function (e) {
            return (
              null != e &&
              "function" == typeof e.subscribe &&
              "function" == typeof e.notifySubscribers
            );
          }),
          P.b("subscribable", P.R),
          P.b("isSubscribable", P.Pc),
          (P.U = P.v =
            (function () {
              function i(e) {
                n.push(t), (t = e);
              }
              function r() {
                t = n.pop();
              }
              var t,
                n = [],
                o = 0;
              return {
                wc: i,
                end: r,
                ac: function (e) {
                  if (t) {
                    if (!P.Pc(e))
                      throw Error(
                        "Only subscribable things can act as dependencies"
                      );
                    t.nd.call(t.od, e, e.ed || (e.ed = ++o));
                  }
                },
                K: function (e, t, n) {
                  try {
                    return i(), e.apply(t, n || []);
                  } finally {
                    r();
                  }
                },
                pa: function () {
                  if (t) return t.o.pa();
                },
                Va: function () {
                  if (t) return t.o.Va();
                },
                rb: function () {
                  if (t) return t.rb;
                },
                o: function () {
                  if (t) return t.o;
                },
              };
            })()),
          P.b("computedContext", P.U),
          P.b("computedContext.getDependenciesCount", P.U.pa),
          P.b("computedContext.getDependencies", P.U.Va),
          P.b("computedContext.isInitial", P.U.rb),
          P.b("computedContext.registerDependency", P.U.ac),
          P.b("ignoreDependencies", (P.Wd = P.v.K));
        var v = P.a.Da("_latestValue");
        P.sa = function (e) {
          function t() {
            return 0 < arguments.length
              ? (t.qb(t[v], arguments[0]) &&
                  (t.xa(), (t[v] = arguments[0]), t.wa()),
                this)
              : (P.v.ac(t), t[v]);
          }
          return (
            (t[v] = e),
            P.a.Ba || P.a.extend(t, P.R.fn),
            P.R.fn.ob(t),
            P.a.zb(t, b),
            P.options.deferUpdates && P.Ta.deferred(t, !0),
            t
          );
        };
        var b = {
          equalityComparer: n,
          w: function () {
            return this[v];
          },
          wa: function () {
            this.notifySubscribers(this[v], "spectate"),
              this.notifySubscribers(this[v]);
          },
          xa: function () {
            this.notifySubscribers(this[v], "beforeChange");
          },
        };
        P.a.Ba && P.a.setPrototypeOf(b, P.R.fn);
        var y = (P.sa.Na = "__ko_proto__");
        (b[y] = P.sa),
          (P.N = function (e) {
            if (
              (e = "function" == typeof e && e[y]) &&
              e !== b[y] &&
              e !== P.o.fn[y]
            )
              throw Error(
                "Invalid object that looks like an observable; possibly from another Knockout instance"
              );
            return !!e;
          }),
          (P.Ya = function (e) {
            return (
              "function" == typeof e &&
              (e[y] === b[y] || (e[y] === P.o.fn[y] && e.Mc))
            );
          }),
          P.b("observable", P.sa),
          P.b("isObservable", P.N),
          P.b("isWriteableObservable", P.Ya),
          P.b("isWritableObservable", P.Ya),
          P.b("observable.fn", b),
          P.J(b, "peek", b.w),
          P.J(b, "valueHasMutated", b.wa),
          P.J(b, "valueWillMutate", b.xa),
          (P.Ia = function (e) {
            if ("object" != typeof (e = e || []) || !("length" in e))
              throw Error(
                "The argument passed when initializing an observable array must be an array, or null, or undefined."
              );
            return (
              (e = P.sa(e)),
              P.a.zb(e, P.Ia.fn),
              e.extend({ trackArrayChanges: !0 })
            );
          }),
          (P.Ia.fn = {
            remove: function (t) {
              for (
                var e = this.w(),
                  n = [],
                  i =
                    "function" != typeof t || P.N(t)
                      ? function (e) {
                          return e === t;
                        }
                      : t,
                  r = 0;
                r < e.length;
                r++
              ) {
                var o = e[r];
                if (i(o)) {
                  if ((0 === n.length && this.xa(), e[r] !== o))
                    throw Error(
                      "Array modified during remove; cannot remove item"
                    );
                  n.push(o), e.splice(r, 1), r--;
                }
              }
              return n.length && this.wa(), n;
            },
            removeAll: function (t) {
              if (t === Ewa) {
                var e = this.w(),
                  n = e.slice(0);
                return this.xa(), e.splice(0, e.length), this.wa(), n;
              }
              return t
                ? this.remove(function (e) {
                    return 0 <= P.a.A(t, e);
                  })
                : [];
            },
            destroy: function (t) {
              var e = this.w(),
                n =
                  "function" != typeof t || P.N(t)
                    ? function (e) {
                        return e === t;
                      }
                    : t;
              this.xa();
              for (var i = e.length - 1; 0 <= i; i--) {
                var r = e[i];
                n(r) && (r._destroy = !0);
              }
              this.wa();
            },
            destroyAll: function (t) {
              return t === Ewa
                ? this.destroy(function () {
                    return !0;
                  })
                : t
                ? this.destroy(function (e) {
                    return 0 <= P.a.A(t, e);
                  })
                : [];
            },
            indexOf: function (e) {
              var t = this();
              return P.a.A(t, e);
            },
            replace: function (e, t) {
              var n = this.indexOf(e);
              0 <= n && (this.xa(), (this.w()[n] = t), this.wa());
            },
            sorted: function (e) {
              var t = this().slice(0);
              return e ? t.sort(e) : t.sort();
            },
            reversed: function () {
              return this().slice(0).reverse();
            },
          }),
          P.a.Ba && P.a.setPrototypeOf(P.Ia.fn, P.sa.fn),
          P.a.C(
            "pop push reverse shift sort splice unshift".split(" "),
            function (n) {
              P.Ia.fn[n] = function () {
                var e = this.w();
                this.xa(), this.yc(e, n, arguments);
                var t = e[n].apply(e, arguments);
                return this.wa(), t === e ? this : t;
              };
            }
          ),
          P.a.C(["slice"], function (t) {
            P.Ia.fn[t] = function () {
              var e = this();
              return e[t].apply(e, arguments);
            };
          }),
          (P.Oc = function (e) {
            return (
              P.N(e) &&
              "function" == typeof e.remove &&
              "function" == typeof e.push
            );
          }),
          P.b("observableArray", P.Ia),
          P.b("isObservableArray", P.Oc),
          (P.Ta.trackArrayChanges = function (n, e) {
            if (
              ((n.Nb = {}),
              e && "object" == typeof e && P.a.extend(n.Nb, e),
              (n.Nb.sparse = !0),
              !n.yc)
            ) {
              var t,
                i,
                r,
                d = !1,
                h = null,
                f = 0,
                o = n.Qa,
                a = n.cb;
              (n.Qa = function (e) {
                o && o.call(n, e),
                  "arrayChange" === e &&
                    (function () {
                      function e() {
                        if (f) {
                          var e,
                            t = [].concat(n.w() || []);
                          n.Wa("arrayChange") &&
                            ((!h || 1 < f) && (h = P.a.Ob(i, t, n.Nb)),
                            (e = h)),
                            (i = t),
                            (h = null),
                            (f = 0),
                            e &&
                              e.length &&
                              n.notifySubscribers(e, "arrayChange");
                        }
                      }
                      d
                        ? e()
                        : ((d = !0),
                          (r = n.notifySubscribers),
                          (n.notifySubscribers = function (e, t) {
                            return (
                              (t && "change" !== t) || ++f,
                              r.apply(this, arguments)
                            );
                          }),
                          (i = [].concat(n.w() || [])),
                          (h = null),
                          (t = n.subscribe(e)));
                    })();
              }),
                (n.cb = function (e) {
                  a && a.call(n, e),
                    "arrayChange" !== e ||
                      n.Wa("arrayChange") ||
                      (r && ((n.notifySubscribers = r), (r = Ewa)),
                      t && t.s(),
                      (t = null),
                      (d = !1),
                      (i = Ewa));
                }),
                (n.yc = function (e, t, n) {
                  function i(e, t, n) {
                    return (r[r.length] = { status: e, value: t, index: n });
                  }
                  if (d && !f) {
                    var r = [],
                      o = e.length,
                      a = n.length,
                      s = 0;
                    switch (t) {
                      case "push":
                        s = o;
                      case "unshift":
                        for (t = 0; t < a; t++) i("added", n[t], s + t);
                        break;
                      case "pop":
                        s = o - 1;
                      case "shift":
                        o && i("deleted", e[s], s);
                        break;
                      case "splice":
                        (t = Math.min(
                          Math.max(0, n[0] < 0 ? o + n[0] : n[0]),
                          o
                        )),
                          (o = 1 === a ? o : Math.min(t + (n[1] || 0), o)),
                          (a = t + a - 2),
                          (s = Math.max(o, a));
                        for (var u = [], l = [], c = 2; t < s; ++t, ++c)
                          t < o && l.push(i("deleted", e[t], t)),
                            t < a && u.push(i("added", n[c], t));
                        P.a.Jc(l, u);
                        break;
                      default:
                        return;
                    }
                    h = r;
                  }
                });
            }
          });
        var w = P.a.Da("_state");
        P.o = P.$ = function (e, t, n) {
          function i() {
            if (0 < arguments.length) {
              if ("function" != typeof r)
                throw Error(
                  "Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters."
                );
              return r.apply(o.lb, arguments), this;
            }
            return o.qa || P.v.ac(i), (o.ka || (o.G && i.Xa())) && i.ha(), o.X;
          }
          if (
            ("object" == typeof e
              ? (n = e)
              : ((n = n || {}), e && (n.read = e)),
            "function" != typeof n.read)
          )
            throw Error(
              "Pass a function that returns the value of the ko.computed"
            );
          var r = n.write,
            o = {
              X: Ewa,
              ra: !0,
              ka: !0,
              pb: !1,
              hc: !1,
              qa: !1,
              vb: !1,
              G: !1,
              Vc: n.read,
              lb: t || n.owner,
              l: n.disposeWhenNodeIsRemoved || n.l || null,
              Sa: n.disposeWhen || n.Sa,
              Qb: null,
              F: {},
              V: 0,
              Hc: null,
            };
          return (
            (i[w] = o),
            (i.Mc = "function" == typeof r),
            P.a.Ba || P.a.extend(i, P.R.fn),
            P.R.fn.ob(i),
            P.a.zb(i, _),
            n.pure
              ? ((o.vb = !0), (o.G = !0), P.a.extend(i, x))
              : n.deferEvaluation && P.a.extend(i, T),
            P.options.deferUpdates && P.Ta.deferred(i, !0),
            o.l && ((o.hc = !0), o.l.nodeType || (o.l = null)),
            o.G || n.deferEvaluation || i.ha(),
            o.l &&
              i.ja() &&
              P.a.I.za(
                o.l,
                (o.Qb = function () {
                  i.s();
                })
              ),
            i
          );
        };
        var _ = {
            equalityComparer: n,
            pa: function () {
              return this[w].V;
            },
            Va: function () {
              var n = [];
              return (
                P.a.O(this[w].F, function (e, t) {
                  n[t.La] = t.da;
                }),
                n
              );
            },
            Ub: function (t) {
              if (!this[w].V) return !1;
              var e = this.Va();
              return (
                -1 !== P.a.A(e, t) ||
                !!P.a.Lb(e, function (e) {
                  return e.Ub && e.Ub(t);
                })
              );
            },
            tc: function (e, t, n) {
              if (this[w].vb && t === this)
                throw Error("A 'pure' computed must not be called recursively");
              ((this[w].F[e] = n).La = this[w].V++), (n.Ma = t.mb());
            },
            Xa: function () {
              var e,
                t,
                n = this[w].F;
              for (e in n)
                if (
                  Object.prototype.hasOwnProperty.call(n, e) &&
                  ((t = n[e]), (this.Ja && t.da.Ka) || t.da.Cd(t.Ma))
                )
                  return !0;
            },
            Id: function () {
              this.Ja && !this[w].pb && this.Ja(!1);
            },
            ja: function () {
              var e = this[w];
              return e.ka || 0 < e.V;
            },
            Qd: function () {
              this.Ka ? this[w].ka && (this[w].ra = !0) : this.Gc();
            },
            Zc: function (e) {
              if (e.Hb) {
                var t = e.subscribe(this.Id, this, "dirty"),
                  n = e.subscribe(this.Qd, this);
                return {
                  da: e,
                  s: function () {
                    t.s(), n.s();
                  },
                };
              }
              return e.subscribe(this.Gc, this);
            },
            Gc: function () {
              var e = this,
                t = e.throttleEvaluation;
              t && 0 <= t
                ? (clearTimeout(this[w].Hc),
                  (this[w].Hc = P.a.setTimeout(function () {
                    e.ha(!0);
                  }, t)))
                : e.Ja
                ? e.Ja(!0)
                : e.ha(!0);
            },
            ha: function (e) {
              var t = this[w],
                n = t.Sa,
                i = !1;
              if (!t.pb && !t.qa) {
                if ((t.l && !P.a.Rb(t.l)) || (n && n())) {
                  if (!t.hc) return void this.s();
                } else t.hc = !1;
                t.pb = !0;
                try {
                  i = this.yd(e);
                } finally {
                  t.pb = !1;
                }
                return i;
              }
            },
            yd: function (e) {
              var t = this[w],
                n = !1,
                i = t.vb ? Ewa : !t.V;
              (n = { pd: this, kb: t.F, Pb: t.V }),
                P.v.wc({ od: n, nd: s, o: this, rb: i }),
                (t.F = {}),
                (t.V = 0);
              var r = this.xd(t, n);
              return (
                t.V ? (n = this.qb(t.X, r)) : (this.s(), (n = !0)),
                n &&
                  (t.G
                    ? this.Gb()
                    : this.notifySubscribers(t.X, "beforeChange"),
                  (t.X = r),
                  this.notifySubscribers(t.X, "spectate"),
                  !t.G && e && this.notifySubscribers(t.X),
                  this.qc && this.qc()),
                i && this.notifySubscribers(t.X, "awake"),
                n
              );
            },
            xd: function (e, t) {
              try {
                var n = e.Vc;
                return e.lb ? n.call(e.lb) : n();
              } finally {
                P.v.end(), t.Pb && !e.G && P.a.O(t.kb, r), (e.ra = e.ka = !1);
              }
            },
            w: function (e) {
              var t = this[w];
              return (
                ((t.ka && (e || !t.V)) || (t.G && this.Xa())) && this.ha(), t.X
              );
            },
            tb: function (e) {
              P.R.fn.tb.call(this, e),
                (this.mc = function () {
                  return (
                    this[w].G || (this[w].ra ? this.ha() : (this[w].ka = !1)),
                    this[w].X
                  );
                }),
                (this.Ja = function (e) {
                  this.oc(this[w].X),
                    (this[w].ka = !0),
                    e && (this[w].ra = !0),
                    this.pc(this, !e);
                });
            },
            s: function () {
              var e = this[w];
              !e.G &&
                e.F &&
                P.a.O(e.F, function (e, t) {
                  t.s && t.s();
                }),
                e.l && e.Qb && P.a.I.xb(e.l, e.Qb),
                (e.F = Ewa),
                (e.V = 0),
                (e.qa = !0),
                (e.ra = !1),
                (e.ka = !1),
                (e.G = !1),
                (e.l = Ewa),
                (e.Sa = Ewa),
                (e.Vc = Ewa),
                this.Mc || (e.lb = Ewa);
            },
          },
          x = {
            Qa: function (e) {
              var r = this,
                o = r[w];
              if (!o.qa && o.G && "change" == e) {
                if (((o.G = !1), o.ra || r.Xa()))
                  (o.F = null), (o.V = 0), r.ha() && r.Gb();
                else {
                  var n = [];
                  P.a.O(o.F, function (e, t) {
                    n[t.La] = e;
                  }),
                    P.a.C(n, function (e, t) {
                      var n = o.F[e],
                        i = r.Zc(n.da);
                      (i.La = t), (i.Ma = n.Ma), (o.F[e] = i);
                    }),
                    r.Xa() && r.ha() && r.Gb();
                }
                o.qa || r.notifySubscribers(o.X, "awake");
              }
            },
            cb: function (e) {
              var n = this[w];
              n.qa ||
                "change" != e ||
                this.Wa("change") ||
                (P.a.O(n.F, function (e, t) {
                  t.s && ((n.F[e] = { da: t.da, La: t.La, Ma: t.Ma }), t.s());
                }),
                (n.G = !0),
                this.notifySubscribers(Ewa, "asleep"));
            },
            mb: function () {
              var e = this[w];
              return (
                e.G && (e.ra || this.Xa()) && this.ha(), P.R.fn.mb.call(this)
              );
            },
          },
          T = {
            Qa: function (e) {
              ("change" != e && "beforeChange" != e) || this.w();
            },
          };
        P.a.Ba && P.a.setPrototypeOf(_, P.R.fn);
        var C,
          S = P.sa.Na;
        (_[S] = P.o),
          (P.Nc = function (e) {
            return "function" == typeof e && e[S] === _[S];
          }),
          (P.Ed = function (e) {
            return P.Nc(e) && e[w] && e[w].vb;
          }),
          P.b("computed", P.o),
          P.b("dependentObservable", P.o),
          P.b("isComputed", P.Nc),
          P.b("isPureComputed", P.Ed),
          P.b("computed.fn", _),
          P.J(_, "peek", _.w),
          P.J(_, "dispose", _.s),
          P.J(_, "isActive", _.ja),
          P.J(_, "getDependenciesCount", _.pa),
          P.J(_, "getDependencies", _.Va),
          (P.wb = function (e, t) {
            return "function" == typeof e
              ? P.o(e, t, { pure: !0 })
              : (((e = P.a.extend({}, e)).pure = !0), P.o(e, t));
          }),
          P.b("pureComputed", P.wb),
          (function () {
            function s(i, r, o) {
              if (
                ((o = o || new e()),
                "object" != typeof (i = r(i)) ||
                  null === i ||
                  i === Ewa ||
                  i instanceof RegExp ||
                  i instanceof Date ||
                  i instanceof String ||
                  i instanceof Number ||
                  i instanceof Boolean)
              )
                return i;
              var a = i instanceof Array ? [] : {};
              return (
                o.save(i, a),
                (function (e, t) {
                  if (e instanceof Array) {
                    for (var n = 0; n < e.length; n++) t(n);
                    "function" == typeof e.toJSON && t("toJSON");
                  } else for (n in e) t(n);
                })(i, function (e) {
                  var t = r(i[e]);
                  switch (typeof t) {
                    case "boolean":
                    case "number":
                    case "string":
                    case "function":
                      a[e] = t;
                      break;
                    case "object":
                    case "undefined":
                      var n = o.get(t);
                      a[e] = n !== Ewa ? n : s(t, r, o);
                  }
                }),
                a
              );
            }
            function e() {
              (this.keys = []), (this.values = []);
            }
            (P.$c = function (e) {
              if (0 == arguments.length)
                throw Error(
                  "When calling ko.toJS, pass the object you want to convert."
                );
              return s(e, function (e) {
                for (var t = 0; P.N(e) && t < 10; t++) e = e();
                return e;
              });
            }),
              (P.toJSON = function (e, t, n) {
                return (e = P.$c(e)), P.a.fc(e, t, n);
              }),
              (e.prototype = {
                constructor: e,
                save: function (e, t) {
                  var n = P.a.A(this.keys, e);
                  0 <= n
                    ? (this.values[n] = t)
                    : (this.keys.push(e), this.values.push(t));
                },
                get: function (e) {
                  return 0 <= (e = P.a.A(this.keys, e)) ? this.values[e] : Ewa;
                },
              });
          })(),
          P.b("toJS", P.$c),
          P.b("toJSON", P.toJSON),
          (P.Vd = function (i, e, r) {
            function t(t) {
              var e = P.wb(i, r).extend({ Ga: "always" }),
                n = e.subscribe(function (e) {
                  e && (n.s(), t(e));
                });
              return e.notifySubscribers(e.w()), n;
            }
            return "function" != typeof Promise || e
              ? t(e.bind(r))
              : new Promise(t);
          }),
          P.b("when", P.Vd),
          (P.u = {
            L: function (e) {
              switch (P.a.P(e)) {
                case "option":
                  return !0 === e.__ko__hasDomDataOptionValue__
                    ? P.a.g.get(e, P.f.options.Yb)
                    : P.a.W <= 7
                    ? e.getAttributeNode("value") &&
                      e.getAttributeNode("value").specified
                      ? e.value
                      : e.text
                    : e.value;
                case "select":
                  return 0 <= e.selectedIndex
                    ? P.u.L(e.options[e.selectedIndex])
                    : Ewa;
                default:
                  return e.value;
              }
            },
            ya: function (e, t, n) {
              switch (P.a.P(e)) {
                case "option":
                  "string" == typeof t
                    ? (P.a.g.set(e, P.f.options.Yb, Ewa),
                      "__ko__hasDomDataOptionValue__" in e &&
                        delete e.__ko__hasDomDataOptionValue__,
                      (e.value = t))
                    : (P.a.g.set(e, P.f.options.Yb, t),
                      (e.__ko__hasDomDataOptionValue__ = !0),
                      (e.value = "number" == typeof t ? t : ""));
                  break;
                case "select":
                  ("" !== t && null !== t) || (t = Ewa);
                  for (var i, r = -1, o = 0, a = e.options.length; o < a; ++o)
                    if (
                      (i = P.u.L(e.options[o])) == t ||
                      ("" === i && t === Ewa)
                    ) {
                      r = o;
                      break;
                    }
                  (n || 0 <= r || (t === Ewa && 1 < e.size)) &&
                    ((e.selectedIndex = r),
                    6 === P.a.W &&
                      P.a.setTimeout(function () {
                        e.selectedIndex = r;
                      }, 0));
                  break;
                default:
                  (null !== t && t !== Ewa) || (t = ""), (e.value = t);
              }
            },
          }),
          P.b("selectExtensions", P.u),
          P.b("selectExtensions.readValue", P.u.L),
          P.b("selectExtensions.writeValue", P.u.ya),
          (P.m = (function () {
            function i(e) {
              123 === (e = P.a.Cb(e)).charCodeAt(0) && (e = e.slice(1, -1));
              var t,
                n = [],
                i = (e += "\n,").match(d),
                r = [],
                o = 0;
              if (1 < i.length) {
                for (var a, s = 0; (a = i[s]); ++s) {
                  var u = a.charCodeAt(0);
                  if (44 === u) {
                    if (o <= 0) {
                      n.push(
                        t && r.length
                          ? { key: t, value: r.join("") }
                          : { unknown: t || r.join("") }
                      ),
                        (t = o = 0),
                        (r = []);
                      continue;
                    }
                  } else if (58 === u) {
                    if (!o && !t && 1 === r.length) {
                      t = r.pop();
                      continue;
                    }
                  } else {
                    if (
                      47 === u &&
                      1 < a.length &&
                      (47 === a.charCodeAt(1) || 42 === a.charCodeAt(1))
                    )
                      continue;
                    47 === u && s && 1 < a.length
                      ? (u = i[s - 1].match(h)) &&
                        !f[u[0]] &&
                        ((i = (e = e.substr(e.indexOf(a) + 1)).match(d)),
                        (s = -1),
                        (a = "/"))
                      : 40 === u || 123 === u || 91 === u
                      ? ++o
                      : 41 === u || 125 === u || 93 === u
                      ? --o
                      : t ||
                        r.length ||
                        (34 !== u && 39 !== u) ||
                        (a = a.slice(1, -1));
                  }
                  r.push(a);
                }
                if (0 < o)
                  throw Error("Unbalanced parentheses, braces, or brackets");
              }
              return n;
            }
            var l = ["true", "false", "null", "undefined"],
              c = /^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,
              d = RegExp(
                "\"(?:\\\\.|[^\"])*\"|'(?:\\\\.|[^'])*'|`(?:\\\\.|[^`])*`|/\\*(?:[^*]|\\*+[^*/])*\\*+/|//.*\n|/(?:\\\\.|[^/])+/w*|[^\\s:,/][^,\"'`{}()/:[\\]]*[^\\s,\"'`{}()/:[\\]]|[^\\s]",
                "g"
              ),
              h = /[\])"'A-Za-z0-9_$]+$/,
              f = { in: 1, return: 1, typeof: 1 },
              p = {};
            return {
              Ra: [],
              va: p,
              Zb: i,
              ub: function (e, t) {
                function r(e, t) {
                  var n;
                  if (!u) {
                    var i = P.getBindingHandler(e);
                    if (i && i.preprocess && !(t = i.preprocess(t, e, r)))
                      return;
                    (i = p[e]) &&
                      ((n = t),
                      (i = n =
                        !(0 <= P.a.A(l, n)) &&
                        null !== (i = n.match(c)) &&
                        (i[1] ? "Object(" + i[1] + ")" + i[2] : n))),
                      i &&
                        a.push(
                          "'" +
                            ("string" == typeof p[e] ? p[e] : e) +
                            "':function(_z){" +
                            n +
                            "=_z}"
                        );
                  }
                  s && (t = "function(){return " + t + " }"),
                    o.push("'" + e + "':" + t);
                }
                var o = [],
                  a = [],
                  s = (t = t || {}).valueAccessors,
                  u = t.bindingParams,
                  n = "string" == typeof e ? i(e) : e;
                return (
                  P.a.C(n, function (e) {
                    r(e.key || e.unknown, e.value);
                  }),
                  a.length &&
                    r("_ko_property_writers", "{" + a.join(",") + " }"),
                  o.join(",")
                );
              },
              Hd: function (e, t) {
                for (var n = 0; n < e.length; n++) if (e[n].key == t) return !0;
                return !1;
              },
              $a: function (e, t, n, i, r) {
                e && P.N(e)
                  ? !P.Ya(e) || (r && e.w() === i) || e(i)
                  : (e = t.get("_ko_property_writers")) && e[n] && e[n](i);
              },
            };
          })()),
          P.b("expressionRewriting", P.m),
          P.b("expressionRewriting.bindingRewriteValidators", P.m.Ra),
          P.b("expressionRewriting.parseObjectLiteral", P.m.Zb),
          P.b("expressionRewriting.preProcessBindings", P.m.ub),
          P.b("expressionRewriting._twoWayBindings", P.m.va),
          P.b("jsonExpressionRewriting", P.m),
          P.b(
            "jsonExpressionRewriting.insertPropertyAccessorsIntoJson",
            P.m.ub
          ),
          (function () {
            function o(e) {
              return 8 == e.nodeType && n.test(t ? e.text : e.nodeValue);
            }
            function a(e) {
              return 8 == e.nodeType && r.test(t ? e.text : e.nodeValue);
            }
            function i(e, t) {
              for (var n = e, i = 1, r = []; (n = n.nextSibling); ) {
                if (a(n) && (P.a.g.set(n, l, !0), 0 == --i)) return r;
                r.push(n), o(n) && i++;
              }
              if (!t)
                throw Error(
                  "Cannot find closing comment tag to match: " + e.nodeValue
                );
              return null;
            }
            function s(e, t) {
              var n = i(e, t);
              return n
                ? 0 < n.length
                  ? n[n.length - 1].nextSibling
                  : e.nextSibling
                : null;
            }
            var t =
                Gwa && "\x3c!--test--\x3e" === Gwa.createComment("test").text,
              n = t
                ? /^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/
                : /^\s*ko(?:\s+([\s\S]+))?\s*$/,
              r = t ? /^\x3c!--\s*\/ko\s*--\x3e$/ : /^\s*\/ko\s*$/,
              u = { ul: !0, ol: !0 },
              l = "__ko_matchedEndComment__";
            P.h = {
              ea: {},
              childNodes: function (e) {
                return o(e) ? i(e) : e.childNodes;
              },
              Ea: function (e) {
                if (o(e))
                  for (
                    var t = 0, n = (e = P.h.childNodes(e)).length;
                    t < n;
                    t++
                  )
                    P.removeNode(e[t]);
                else P.a.Sb(e);
              },
              ua: function (e, t) {
                if (o(e)) {
                  P.h.Ea(e);
                  for (var n = e.nextSibling, i = 0, r = t.length; i < r; i++)
                    n.parentNode.insertBefore(t[i], n);
                } else P.a.ua(e, t);
              },
              Uc: function (e, t) {
                o(e)
                  ? e.parentNode.insertBefore(t, e.nextSibling)
                  : e.firstChild
                  ? e.insertBefore(t, e.firstChild)
                  : e.appendChild(t);
              },
              Vb: function (e, t, n) {
                n
                  ? o(e)
                    ? e.parentNode.insertBefore(t, n.nextSibling)
                    : n.nextSibling
                    ? e.insertBefore(t, n.nextSibling)
                    : e.appendChild(t)
                  : P.h.Uc(e, t);
              },
              firstChild: function (e) {
                if (o(e))
                  return !e.nextSibling || a(e.nextSibling)
                    ? null
                    : e.nextSibling;
                if (e.firstChild && a(e.firstChild))
                  throw Error(
                    "Found invalid end comment, as the first child of " + e
                  );
                return e.firstChild;
              },
              nextSibling: function (e) {
                if ((o(e) && (e = s(e)), e.nextSibling && a(e.nextSibling))) {
                  var t = e.nextSibling;
                  if (a(t) && !P.a.g.get(t, l))
                    throw Error(
                      "Found end comment without a matching opening comment, as child of " +
                        e
                    );
                  return null;
                }
                return e.nextSibling;
              },
              Bd: o,
              Ud: function (e) {
                return (e = (t ? e.text : e.nodeValue).match(n)) ? e[1] : null;
              },
              Rc: function (e) {
                if (u[P.a.P(e)]) {
                  var t = e.firstChild;
                  if (t)
                    do {
                      if (1 === t.nodeType) {
                        var n,
                          i = null;
                        if ((n = t.firstChild))
                          do {
                            if (i) i.push(n);
                            else if (o(n)) {
                              var r = s(n, !0);
                              r ? (n = r) : (i = [n]);
                            } else a(n) && (i = [n]);
                          } while ((n = n.nextSibling));
                        if ((n = i))
                          for (i = t.nextSibling, r = 0; r < n.length; r++)
                            i ? e.insertBefore(n[r], i) : e.appendChild(n[r]);
                      }
                    } while ((t = t.nextSibling));
                }
              },
            };
          })(),
          P.b("virtualElements", P.h),
          P.b("virtualElements.allowedBindings", P.h.ea),
          P.b("virtualElements.emptyNode", P.h.Ea),
          P.b("virtualElements.insertAfter", P.h.Vb),
          P.b("virtualElements.prepend", P.h.Uc),
          P.b("virtualElements.setDomNodeChildren", P.h.ua),
          (P.ga = function () {
            this.md = {};
          }),
          P.a.extend(P.ga.prototype, {
            nodeHasBindings: function (e) {
              switch (e.nodeType) {
                case 1:
                  return (
                    null != e.getAttribute("data-bind") ||
                    P.i.getComponentNameForNode(e)
                  );
                case 8:
                  return P.h.Bd(e);
                default:
                  return !1;
              }
            },
            getBindings: function (e, t) {
              var n = (n = this.getBindingsString(e, t))
                ? this.parseBindingsString(n, t, e)
                : null;
              return P.i.sc(n, e, t, !1);
            },
            getBindingAccessors: function (e, t) {
              var n = (n = this.getBindingsString(e, t))
                ? this.parseBindingsString(n, t, e, { valueAccessors: !0 })
                : null;
              return P.i.sc(n, e, t, !0);
            },
            getBindingsString: function (e) {
              switch (e.nodeType) {
                case 1:
                  return e.getAttribute("data-bind");
                case 8:
                  return P.h.Ud(e);
                default:
                  return null;
              }
            },
            parseBindingsString: function (t, e, n, i) {
              try {
                var r,
                  o = this.md,
                  a = t + ((i && i.valueAccessors) || "");
                if (!(r = o[a])) {
                  var s,
                    u =
                      "with($context){with($data||{}){return{" +
                      P.m.ub(t, i) +
                      "}}}";
                  (s = new Function("$context", "$element", u)), (r = o[a] = s);
                }
                return r(e, n);
              } catch (e) {
                throw (
                  ((e.message =
                    "Unable to parse bindings.\nBindings value: " +
                    t +
                    "\nMessage: " +
                    e.message),
                  e)
                );
              }
            },
          }),
          (P.ga.instance = new P.ga()),
          P.b("bindingProvider", P.ga),
          (function () {
            function i(e) {
              var t = (e = P.a.g.get(e, _)) && e.M;
              t && ((e.M = null), t.Sc());
            }
            function r(e, t, n) {
              (this.node = e),
                (this.xc = t),
                (this.ib = []),
                (this.T = !1),
                t.M || P.a.I.za(e, i),
                n && n.M && (n.M.ib.push(e), (this.Kb = n));
            }
            function a(e) {
              return function () {
                return e;
              };
            }
            function v(e) {
              return e();
            }
            function s(n) {
              return P.a.Ha(P.v.K(n), function (e, t) {
                return function () {
                  return n()[t];
                };
              });
            }
            function b(e, t) {
              return s(this.getBindings.bind(this, e, t));
            }
            function o(e, t) {
              var n = P.h.firstChild(t);
              if (n) {
                var i,
                  r = P.ga.instance,
                  o = r.preprocessNode;
                if (o) {
                  for (; (i = n); ) (n = P.h.nextSibling(i)), o.call(r, i);
                  n = P.h.firstChild(t);
                }
                for (; (i = n); ) (n = P.h.nextSibling(i)), u(e, i);
              }
              P.j.Ga(t, P.j.T);
            }
            function u(e, t) {
              var n = e,
                i = 1 === t.nodeType;
              i && P.h.Rc(t),
                (i || P.ga.instance.nodeHasBindings(t)) &&
                  (n = l(t, null, e).bindingContextForDescendants),
                n && !d[P.a.P(t)] && o(n, t);
            }
            function l(r, e, t) {
              var o,
                n = P.a.g.Tb(r, _, {}),
                i = n.gd;
              if (!e) {
                if (i)
                  throw Error(
                    "You cannot apply bindings multiple times to the same element."
                  );
                n.gd = !0;
              }
              if ((i || (n.context = t), e && "function" != typeof e)) o = e;
              else {
                var a = P.ga.instance,
                  s = a.getBindingAccessors || b,
                  u = P.$(
                    function () {
                      return (
                        (o = e ? e(t, r) : s.call(a, r, t)) &&
                          (t[y] && t[y](), t[w] && t[w]()),
                        o
                      );
                    },
                    null,
                    { l: r }
                  );
                (o && u.ja()) || (u = null);
              }
              var l,
                c,
                d,
                h,
                f,
                p = t;
              if (o) {
                var g = function () {
                    return P.a.Ha(u ? u() : o, v);
                  },
                  m = u
                    ? function (e) {
                        return function () {
                          return v(u()[e]);
                        };
                      }
                    : function (e) {
                        return o[e];
                      };
                (g.get = function (e) {
                  return o[e] && v(m(e));
                }),
                  (g.has = function (e) {
                    return e in o;
                  }),
                  P.j.T in o &&
                    P.j.subscribe(r, P.j.T, function () {
                      var e = (0, o[P.j.T])();
                      if (e) {
                        var t = P.h.childNodes(r);
                        t.length && e(t, P.Dc(t[0]));
                      }
                    }),
                  P.j.oa in o &&
                    ((p = P.j.Bb(r, t)),
                    P.j.subscribe(r, P.j.oa, function () {
                      var e = (0, o[P.j.oa])();
                      e && P.h.firstChild(r) && e(r);
                    })),
                  (c = o),
                  (d = []),
                  (h = {}),
                  (f = []),
                  P.a.O(c, function t(e) {
                    if (!h[e]) {
                      var n = P.getBindingHandler(e);
                      n &&
                        (n.after &&
                          (f.push(e),
                          P.a.C(n.after, function (e) {
                            if (c[e]) {
                              if (-1 !== P.a.A(f, e))
                                throw Error(
                                  "Cannot combine the following bindings, because they have a cyclic dependency: " +
                                    f.join(", ")
                                );
                              t(e);
                            }
                          }),
                          f.length--),
                        d.push({ key: e, Lc: n })),
                        (h[e] = !0);
                    }
                  }),
                  (n = d),
                  P.a.C(n, function (e) {
                    var t = e.Lc.init,
                      n = e.Lc.update,
                      i = e.key;
                    if (8 === r.nodeType && !P.h.ea[i])
                      throw Error(
                        "The binding '" +
                          i +
                          "' cannot be used with virtual elements"
                      );
                    try {
                      "function" == typeof t &&
                        P.v.K(function () {
                          var e = t(r, m(i), g, p.$data, p);
                          if (e && e.controlsDescendantBindings) {
                            if (l !== Ewa)
                              throw Error(
                                "Multiple bindings (" +
                                  l +
                                  " and " +
                                  i +
                                  ") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element."
                              );
                            l = i;
                          }
                        }),
                        "function" == typeof n &&
                          P.$(
                            function () {
                              n(r, m(i), g, p.$data, p);
                            },
                            null,
                            { l: r }
                          );
                    } catch (e) {
                      throw (
                        ((e.message =
                          'Unable to process binding "' +
                          i +
                          ": " +
                          o[i] +
                          '"\nMessage: ' +
                          e.message),
                        e)
                      );
                    }
                  });
              }
              return {
                shouldBindDescendants: (n = l === Ewa),
                bindingContextForDescendants: n && p,
              };
            }
            function c(e, t) {
              return e && e instanceof P.fa ? e : new P.fa(e, Ewa, Ewa, t);
            }
            var y = P.a.Da("_subscribable"),
              h = P.a.Da("_ancestorBindingInfo"),
              w = P.a.Da("_dataDependency");
            P.f = {};
            var d = { script: !0, textarea: !0, template: !0 };
            P.getBindingHandler = function (e) {
              return P.f[e];
            };
            var f = {};
            (P.fa = function (e, n, i, r, t) {
              function o() {
                var e = c ? l() : l,
                  t = P.a.c(e);
                return (
                  n
                    ? (P.a.extend(s, n), h in n && (s[h] = n[h]))
                    : ((s.$parents = []), (s.$root = t), (s.ko = P)),
                  (s[y] = a),
                  u ? (t = s.$data) : ((s.$rawData = e), (s.$data = t)),
                  i && (s[i] = t),
                  r && r(s, n, t),
                  n && n[y] && !P.U.o().Ub(n[y]) && n[y](),
                  d && (s[w] = d),
                  s.$data
                );
              }
              var a,
                s = this,
                u = e === f,
                l = u ? Ewa : e,
                c = "function" == typeof l && !P.N(l),
                d = t && t.dataDependency;
              t && t.exportDependencies
                ? o()
                : ((a = P.wb(o)).w(),
                  a.ja() ? (a.equalityComparer = null) : (s[y] = Ewa));
            }),
              (P.fa.prototype.createChildContext = function (t, n, i, e) {
                if (
                  (!e &&
                    n &&
                    "object" == typeof n &&
                    ((n = (e = n).as), (i = e.extend)),
                  n && e && e.noChildContext)
                ) {
                  var r = "function" == typeof t && !P.N(t);
                  return new P.fa(
                    f,
                    this,
                    null,
                    function (e) {
                      i && i(e), (e[n] = r ? t() : t);
                    },
                    e
                  );
                }
                return new P.fa(
                  t,
                  this,
                  n,
                  function (e, t) {
                    (e.$parentContext = t),
                      (e.$parent = t.$data),
                      (e.$parents = (t.$parents || []).slice(0)),
                      e.$parents.unshift(e.$parent),
                      i && i(e);
                  },
                  e
                );
              }),
              (P.fa.prototype.extend = function (t, e) {
                return new P.fa(
                  f,
                  this,
                  null,
                  function (e) {
                    P.a.extend(e, "function" == typeof t ? t(e) : t);
                  },
                  e
                );
              });
            var _ = P.a.g.Z();
            (r.prototype.Sc = function () {
              this.Kb && this.Kb.M && this.Kb.M.rd(this.node);
            }),
              (r.prototype.rd = function (e) {
                P.a.hb(this.ib, e), !this.ib.length && this.T && this.Bc();
              }),
              (r.prototype.Bc = function () {
                (this.T = !0),
                  this.xc.M &&
                    !this.ib.length &&
                    ((this.xc.M = null),
                    P.a.I.xb(this.node, i),
                    P.j.Ga(this.node, P.j.oa),
                    this.Sc());
              }),
              (P.j = {
                T: "childrenComplete",
                oa: "descendantsComplete",
                subscribe: function (e, t, n, i) {
                  return (
                    (e = P.a.g.Tb(e, _, {})).Fa || (e.Fa = new P.R()),
                    e.Fa.subscribe(n, i, t)
                  );
                },
                Ga: function (e, t) {
                  var n = P.a.g.get(e, _);
                  if (n && (n.Fa && n.Fa.notifySubscribers(e, t), t == P.j.T))
                    if (n.M) n.M.Bc();
                    else if (n.M === Ewa && n.Fa && n.Fa.Wa(P.j.oa))
                      throw Error(
                        "descendantsComplete event not supported for bindings on this node"
                      );
                },
                Bb: function (e, t) {
                  var n = P.a.g.Tb(e, _, {});
                  return (
                    n.M || (n.M = new r(e, n, t[h])),
                    t[h] == n
                      ? t
                      : t.extend(function (e) {
                          e[h] = n;
                        })
                  );
                },
              }),
              (P.Sd = function (e) {
                return (e = P.a.g.get(e, _)) && e.context;
              }),
              (P.eb = function (e, t, n) {
                return 1 === e.nodeType && P.h.Rc(e), l(e, t, c(n));
              }),
              (P.kd = function (e, t, n) {
                return (
                  (n = c(n)),
                  P.eb(
                    e,
                    ((r = n),
                    (o = e),
                    "function" == typeof (i = t)
                      ? s(i.bind(null, r, o))
                      : P.a.Ha(i, a)),
                    n
                  )
                );
                var i, r, o;
              }),
              (P.Pa = function (e, t) {
                (1 !== t.nodeType && 8 !== t.nodeType) || o(c(e), t);
              }),
              (P.uc = function (e, t, n) {
                if (
                  (!Iwa && Fwa.jQuery && (Iwa = Fwa.jQuery),
                  arguments.length < 2)
                ) {
                  if (!(t = Gwa.body))
                    throw Error(
                      "ko.applyBindings: could not find document.body; has the document been loaded?"
                    );
                } else if (!t || (1 !== t.nodeType && 8 !== t.nodeType))
                  throw Error(
                    "ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node"
                  );
                u(c(e, n), t);
              }),
              (P.Cc = function (e) {
                return !e || (1 !== e.nodeType && 8 !== e.nodeType)
                  ? Ewa
                  : P.Sd(e);
              }),
              (P.Dc = function (e) {
                return (e = P.Cc(e)) ? e.$data : Ewa;
              }),
              P.b("bindingHandlers", P.f),
              P.b("bindingEvent", P.j),
              P.b("bindingEvent.subscribe", P.j.subscribe),
              P.b("bindingEvent.startPossiblyAsyncContentBinding", P.j.Bb),
              P.b("applyBindings", P.uc),
              P.b("applyBindingsToDescendants", P.Pa),
              P.b("applyBindingAccessorsToNode", P.eb),
              P.b("applyBindingsToNode", P.kd),
              P.b("contextFor", P.Cc),
              P.b("dataFor", P.Dc);
          })(),
          (function (s) {
            function i(i, e) {
              var r,
                n,
                o,
                a = Object.prototype.hasOwnProperty.call(l, i) ? l[i] : s;
              a
                ? a.subscribe(e)
                : ((a = l[i] = new P.R()).subscribe(e),
                  (o = function (e, t) {
                    var n = !(!t || !t.synchronous);
                    (c[i] = { definition: e, Fd: n }),
                      delete l[i],
                      r || n
                        ? a.notifySubscribers(e)
                        : P.ma.yb(function () {
                            a.notifySubscribers(e);
                          });
                  }),
                  u("getConfig", [(n = i)], function (t) {
                    t
                      ? u("loadComponent", [n, t], function (e) {
                          o(e, t);
                        })
                      : o(null, null);
                  }),
                  (r = !0));
            }
            function u(t, n, i, r) {
              r || (r = P.i.loaders.slice(0));
              var e = r.shift();
              if (e) {
                var o = e[t];
                if (o) {
                  var a = !1;
                  if (
                    o.apply(
                      e,
                      n.concat(function (e) {
                        a ? i(null) : null !== e ? i(e) : u(t, n, i, r);
                      })
                    ) !== s &&
                    ((a = !0), !e.suppressLoaderExceptions)
                  )
                    throw Error(
                      "Component loaders must supply values by invoking the callback, not by returning values synchronously."
                    );
                } else u(t, n, i, r);
              } else i(null);
            }
            var l = {},
              c = {};
            (P.i = {
              get: function (e, t) {
                var n = Object.prototype.hasOwnProperty.call(c, e) ? c[e] : s;
                n
                  ? n.Fd
                    ? P.v.K(function () {
                        t(n.definition);
                      })
                    : P.ma.yb(function () {
                        t(n.definition);
                      })
                  : i(e, t);
              },
              Ac: function (e) {
                delete c[e];
              },
              nc: u,
            }),
              (P.i.loaders = []),
              P.b("components", P.i),
              P.b("components.get", P.i.get),
              P.b("components.clearCachedDefinition", P.i.Ac);
          })(),
          (function () {
            function r(e) {
              switch (P.a.P(e)) {
                case "script":
                  return P.a.ta(e.text);
                case "textarea":
                  return P.a.ta(e.value);
                case "template":
                  if (o(e.content)) return P.a.Ca(e.content.childNodes);
              }
              return P.a.Ca(e.childNodes);
            }
            function o(e) {
              return Fwa.DocumentFragment
                ? e instanceof DocumentFragment
                : e && 11 === e.nodeType;
            }
            function u(e, t, n) {
              "string" == typeof t.require
                ? i || Fwa.require
                  ? (i || Fwa.require)([t.require], n)
                  : e("Uses require, but no AMD loader is present")
                : n(t);
            }
            function a(t) {
              return function (e) {
                throw Error("Component '" + t + "': " + e);
              };
            }
            var n = {};
            (P.i.register = function (e, t) {
              if (!t) throw Error("Invalid configuration for " + e);
              if (P.i.sb(e))
                throw Error("Component " + e + " is already registered");
              n[e] = t;
            }),
              (P.i.sb = function (e) {
                return Object.prototype.hasOwnProperty.call(n, e);
              }),
              (P.i.unregister = function (e) {
                delete n[e], P.i.Ac(e);
              }),
              (P.i.Ec = {
                getConfig: function (e, t) {
                  t(P.i.sb(e) ? n[e] : null);
                },
                loadComponent: function (t, e, n) {
                  var i = a(t);
                  u(i, e, function (e) {
                    !(function (t, e, n, i) {
                      function r() {
                        0 == --a && i(o);
                      }
                      var o = {},
                        a = 2,
                        s = n.template;
                      (n = n.viewModel),
                        s
                          ? u(e, s, function (e) {
                              P.i.nc("loadTemplate", [t, e], function (e) {
                                (o.template = e), r();
                              });
                            })
                          : r(),
                        n
                          ? u(e, n, function (e) {
                              P.i.nc("loadViewModel", [t, e], function (e) {
                                (o[l] = e), r();
                              });
                            })
                          : r();
                    })(t, i, e, n);
                  });
                },
                loadTemplate: function (e, t, n) {
                  if (((e = a(e)), "string" == typeof t)) n(P.a.ta(t));
                  else if (t instanceof Array) n(t);
                  else if (o(t)) n(P.a.la(t.childNodes));
                  else if (t.element)
                    if (
                      ((t = t.element),
                      Fwa.HTMLElement
                        ? t instanceof HTMLElement
                        : t && t.tagName && 1 === t.nodeType)
                    )
                      n(r(t));
                    else if ("string" == typeof t) {
                      var i = Gwa.getElementById(t);
                      i ? n(r(i)) : e("Cannot find element with ID " + t);
                    } else e("Unknown element type: " + t);
                  else e("Unknown template value: " + t);
                },
                loadViewModel: function (e, t, n) {
                  !(function e(t, n, i) {
                    if ("function" == typeof n)
                      i(function (e) {
                        return new n(e);
                      });
                    else if ("function" == typeof n[l]) i(n[l]);
                    else if ("instance" in n) {
                      var r = n.instance;
                      i(function () {
                        return r;
                      });
                    } else
                      "viewModel" in n
                        ? e(t, n.viewModel, i)
                        : t("Unknown viewModel value: " + n);
                  })(a(e), t, n);
                },
              });
            var l = "createViewModel";
            P.b("components.register", P.i.register),
              P.b("components.isRegistered", P.i.sb),
              P.b("components.unregister", P.i.unregister),
              P.b("components.defaultLoader", P.i.Ec),
              P.i.loaders.push(P.i.Ec),
              (P.i.cd = n);
          })(),
          (function () {
            (P.i.getComponentNameForNode = function (e) {
              var t = P.a.P(e);
              if (
                P.i.sb(t) &&
                (-1 != t.indexOf("-") ||
                  "[object HTMLUnknownElement]" == "" + e ||
                  (P.a.W <= 8 && e.tagName === t))
              )
                return t;
            }),
              (P.i.sc = function (e, t, n, i) {
                if (1 === t.nodeType) {
                  var r = P.i.getComponentNameForNode(t);
                  if (r) {
                    if ((e = e || {}).component)
                      throw Error(
                        'Cannot use the "component" binding on a custom element matching a component'
                      );
                    var o = {
                      name: r,
                      params: (function (n, e) {
                        if ((t = n.getAttribute("params"))) {
                          var t = a.parseBindingsString(t, e, n, {
                              valueAccessors: !0,
                              bindingParams: !0,
                            }),
                            i =
                              ((t = P.a.Ha(t, function (e) {
                                return P.o(e, null, { l: n });
                              })),
                              P.a.Ha(t, function (t) {
                                var e = t.w();
                                return t.ja()
                                  ? P.o({
                                      read: function () {
                                        return P.a.c(t());
                                      },
                                      write:
                                        P.Ya(e) &&
                                        function (e) {
                                          t()(e);
                                        },
                                      l: n,
                                    })
                                  : e;
                              }));
                          return (
                            Object.prototype.hasOwnProperty.call(i, "$raw") ||
                              (i.$raw = t),
                            i
                          );
                        }
                        return { $raw: {} };
                      })(t, n),
                    };
                    e.component = i
                      ? function () {
                          return o;
                        }
                      : o;
                  }
                }
                return e;
              });
            var i,
              t,
              a = new P.ga();
            P.a.W < 9 &&
              ((P.i.register =
                ((t = P.i.register),
                function (e) {
                  return t.apply(this, arguments);
                })),
              (Gwa.createDocumentFragment =
                ((i = Gwa.createDocumentFragment),
                function () {
                  var e,
                    t = i(),
                    n = P.i.cd;
                  for (e in n);
                  return t;
                })));
          })(),
          (C = 0),
          (P.f.component = {
            init: function (c, t, e, n, i) {
              function d() {
                var e = h && h.dispose;
                "function" == typeof e && e.call(h),
                  p && p.s(),
                  (f = h = p = null);
              }
              var h,
                f,
                p,
                g = P.a.la(P.h.childNodes(c));
              return (
                P.h.Ea(c),
                P.a.I.za(c, d),
                P.o(
                  function () {
                    var a,
                      s,
                      e = P.a.c(t());
                    if (
                      ("string" == typeof e
                        ? (a = e)
                        : ((a = P.a.c(e.name)), (s = P.a.c(e.params))),
                      !a)
                    )
                      throw Error("No component name specified");
                    var u = P.j.Bb(c, i),
                      l = (f = ++C);
                    P.i.get(a, function (e) {
                      if (f === l) {
                        if ((d(), !e))
                          throw Error("Unknown component '" + a + "'");
                        !(function (e, t, n) {
                          if (!(t = t.template))
                            throw Error(
                              "Component '" + e + "' has no template"
                            );
                          (e = P.a.Ca(t)), P.h.ua(n, e);
                        })(a, e, c);
                        var t =
                          ((i = s),
                          (r = { element: c, templateNodes: g }),
                          (o = (n = e).createViewModel) ? o.call(n, i, r) : i);
                        (e = u.createChildContext(t, {
                          extend: function (e) {
                            (e.$component = t), (e.$componentTemplateNodes = g);
                          },
                        })),
                          t &&
                            t.koDescendantsComplete &&
                            (p = P.j.subscribe(
                              c,
                              P.j.oa,
                              t.koDescendantsComplete,
                              t
                            )),
                          (h = t),
                          P.Pa(e, c);
                      }
                      var n, i, r, o;
                    });
                  },
                  null,
                  { l: c }
                ),
                { controlsDescendantBindings: !0 }
              );
            },
          }),
          (P.h.ea.component = !0);
        var E = { class: "className", for: "htmlFor" };
        (P.f.attr = {
          update: function (r, e) {
            var t = P.a.c(e()) || {};
            P.a.O(t, function (e, t) {
              t = P.a.c(t);
              var n = e.indexOf(":"),
                i =
                  ((n =
                    "lookupNamespaceURI" in r &&
                    0 < n &&
                    r.lookupNamespaceURI(e.substr(0, n))),
                  !1 === t || null === t || t === Ewa);
              i
                ? n
                  ? r.removeAttributeNS(n, e)
                  : r.removeAttribute(e)
                : (t = t.toString()),
                P.a.W <= 8 && e in E
                  ? ((e = E[e]), i ? r.removeAttribute(e) : (r[e] = t))
                  : i || (n ? r.setAttributeNS(n, e, t) : r.setAttribute(e, t)),
                "name" === e && P.a.Xc(r, i ? "" : t);
            });
          },
        }),
          (P.f.checked = {
            after: ["value", "attr"],
            init: function (o, a, s) {
              function e() {
                var e = o.checked,
                  t = u();
                if (!P.U.rb() && (e || (!c && !P.U.pa()))) {
                  var n = P.v.K(a);
                  if (d) {
                    var i = h ? n.w() : n,
                      r = f;
                    r !== (f = t)
                      ? e && (P.a.Oa(i, t, !0), P.a.Oa(i, r, !1))
                      : P.a.Oa(i, t, e),
                      h && P.Ya(n) && n(i);
                  } else
                    l && (t === Ewa ? (t = e) : e || (t = Ewa)),
                      P.m.$a(n, s, "checked", t, !0);
                }
              }
              var u = P.wb(function () {
                  return s.has("checkedValue")
                    ? P.a.c(s.get("checkedValue"))
                    : n
                    ? s.has("value")
                      ? P.a.c(s.get("value"))
                      : o.value
                    : void 0;
                }),
                l = "checkbox" == o.type,
                c = "radio" == o.type;
              if (l || c) {
                var t = a(),
                  d = l && P.a.c(t) instanceof Array,
                  h = !(d && t.push && t.splice),
                  n = c || d,
                  f = d ? u() : Ewa;
                c &&
                  !o.name &&
                  P.f.uniqueName.init(o, function () {
                    return !0;
                  }),
                  P.o(e, null, { l: o }),
                  P.a.H(o, "click", e),
                  P.o(
                    function () {
                      var e = P.a.c(a()),
                        t = u();
                      d
                        ? ((o.checked = 0 <= P.a.A(e, t)), (f = t))
                        : (o.checked = l && t === Ewa ? !!e : u() === e);
                    },
                    null,
                    { l: o }
                  ),
                  (t = Ewa);
              }
            },
          }),
          (P.m.va.checked = !0),
          (P.f.checkedValue = {
            update: function (e, t) {
              e.value = P.a.c(t());
            },
          }),
          (P.f.class = {
            update: function (e, t) {
              var n = P.a.Cb(P.a.c(t()));
              P.a.Eb(e, e.__ko__cssValue, !1),
                (e.__ko__cssValue = n),
                P.a.Eb(e, n, !0);
            },
          }),
          (P.f.css = {
            update: function (n, e) {
              var t = P.a.c(e());
              null !== t && "object" == typeof t
                ? P.a.O(t, function (e, t) {
                    (t = P.a.c(t)), P.a.Eb(n, e, t);
                  })
                : P.f.class.update(n, e);
            },
          }),
          (P.f.enable = {
            update: function (e, t) {
              var n = P.a.c(t());
              n && e.disabled
                ? e.removeAttribute("disabled")
                : n || e.disabled || (e.disabled = !0);
            },
          }),
          (P.f.disable = {
            update: function (e, t) {
              P.f.enable.update(e, function () {
                return !P.a.c(t());
              });
            },
          }),
          (P.f.event = {
            init: function (e, o, a, s, u) {
              var t = o() || {};
              P.a.O(t, function (r) {
                "string" == typeof r &&
                  P.a.H(e, r, function (e) {
                    var t,
                      n = o()[r];
                    if (n) {
                      try {
                        var i = P.a.la(arguments);
                        (s = u.$data), i.unshift(s), (t = n.apply(s, i));
                      } finally {
                        !0 !== t &&
                          (e.preventDefault
                            ? e.preventDefault()
                            : (e.returnValue = !1));
                      }
                      !1 === a.get(r + "Bubble") &&
                        ((e.cancelBubble = !0),
                        e.stopPropagation && e.stopPropagation());
                    }
                  });
              });
            },
          }),
          (P.f.foreach = {
            Qc: function (n) {
              return function () {
                var e = n(),
                  t = P.a.$b(e);
                return t && "number" != typeof t.length
                  ? (P.a.c(e),
                    {
                      foreach: t.data,
                      as: t.as,
                      noChildContext: t.noChildContext,
                      includeDestroyed: t.includeDestroyed,
                      afterAdd: t.afterAdd,
                      beforeRemove: t.beforeRemove,
                      afterRender: t.afterRender,
                      beforeMove: t.beforeMove,
                      afterMove: t.afterMove,
                      templateEngine: P.ba.Na,
                    })
                  : { foreach: e, templateEngine: P.ba.Na };
              };
            },
            init: function (e, t) {
              return P.f.template.init(e, P.f.foreach.Qc(t));
            },
            update: function (e, t, n, i, r) {
              return P.f.template.update(e, P.f.foreach.Qc(t), n, i, r);
            },
          }),
          (P.m.Ra.foreach = !1),
          (P.h.ea.foreach = !0),
          (P.f.hasfocus = {
            init: function (i, r, o) {
              function e(e) {
                i.__ko_hasfocusUpdating = !0;
                var t = i.ownerDocument;
                if ("activeElement" in t) {
                  var n;
                  try {
                    n = t.activeElement;
                  } catch (e) {
                    n = t.body;
                  }
                  e = n === i;
                }
                (t = r()),
                  P.m.$a(t, o, "hasfocus", e, !0),
                  (i.__ko_hasfocusLastValue = e),
                  (i.__ko_hasfocusUpdating = !1);
              }
              var t = e.bind(null, !0),
                n = e.bind(null, !1);
              P.a.H(i, "focus", t),
                P.a.H(i, "focusin", t),
                P.a.H(i, "blur", n),
                P.a.H(i, "focusout", n),
                (i.__ko_hasfocusLastValue = !1);
            },
            update: function (e, t) {
              var n = !!P.a.c(t());
              e.__ko_hasfocusUpdating ||
                e.__ko_hasfocusLastValue === n ||
                (n ? e.focus() : e.blur(),
                !n && e.__ko_hasfocusLastValue && e.ownerDocument.body.focus(),
                P.v.K(P.a.Fb, null, [e, n ? "focusin" : "focusout"]));
            },
          }),
          (P.m.va.hasfocus = !0),
          (P.f.hasFocus = P.f.hasfocus),
          (P.m.va.hasFocus = "hasfocus"),
          (P.f.html = {
            init: function () {
              return { controlsDescendantBindings: !0 };
            },
            update: function (e, t) {
              P.a.dc(e, t());
            },
          }),
          (function () {
            function e(e, f, p) {
              (P.f[e] = {
                init: function (r, o, e, t, a) {
                  var s,
                    u,
                    l,
                    c,
                    d,
                    h = {};
                  if (f) {
                    t = e.get("as");
                    var n = e.get("noChildContext");
                    h = {
                      as: t,
                      noChildContext: n,
                      exportDependencies: (d = !(t && n)),
                    };
                  }
                  return (
                    (c =
                      (l = "render" == e.get("completeOn")) || e.has(P.j.oa)),
                    P.o(
                      function () {
                        var e,
                          t = P.a.c(o()),
                          n = !p != !t,
                          i = !u;
                        (d || n !== s) &&
                          (c && (a = P.j.Bb(r, a)),
                          n &&
                            ((f && !d) || (h.dataDependency = P.U.o()),
                            (e = f
                              ? a.createChildContext(
                                  "function" == typeof t ? t : o,
                                  h
                                )
                              : P.U.pa()
                              ? a.extend(null, h)
                              : a)),
                          i && P.U.pa() && (u = P.a.Ca(P.h.childNodes(r), !0)),
                          n
                            ? (i || P.h.ua(r, P.a.Ca(u)), P.Pa(e, r))
                            : (P.h.Ea(r), l || P.j.Ga(r, P.j.T)),
                          (s = n));
                      },
                      null,
                      { l: r }
                    ),
                    { controlsDescendantBindings: !0 }
                  );
                },
              }),
                (P.m.Ra[e] = !1),
                (P.h.ea[e] = !0);
            }
            e("if"), e("ifnot", !1, !0), e("with", !0);
          })(),
          (P.f.let = {
            init: function (e, t, n, i, r) {
              return (
                (t = r.extend(t)),
                P.Pa(t, e),
                { controlsDescendantBindings: !0 }
              );
            },
          }),
          (P.h.ea.let = !0);
        var D = {};
        (P.f.options = {
          init: function (e) {
            if ("select" !== P.a.P(e))
              throw Error("options binding applies only to SELECT elements");
            for (; 0 < e.length; ) e.remove(0);
            return { controlsDescendantBindings: !0 };
          },
          update: function (i, e, r) {
            function t() {
              return P.a.fb(i.options, function (e) {
                return e.selected;
              });
            }
            function o(e, t, n) {
              var i = typeof t;
              return "function" == i ? t(e) : "string" == i ? e[t] : n;
            }
            function n(e, t) {
              if (f && l) P.u.ya(i, P.a.c(r.get("value")), !0);
              else if (h.length) {
                var n = 0 <= P.a.A(h, P.u.L(t[0]));
                P.a.Yc(t[0], n), f && !n && P.v.K(P.a.Fb, null, [i, "change"]);
              }
            }
            var a = i.multiple,
              s = 0 != i.length && a ? i.scrollTop : null,
              u = P.a.c(e()),
              l = r.get("valueAllowUnset") && r.has("value"),
              c = r.get("optionsIncludeDestroyed");
            e = {};
            var d,
              h = [];
            l ||
              (a
                ? (h = P.a.Mb(t(), P.u.L))
                : 0 <= i.selectedIndex &&
                  h.push(P.u.L(i.options[i.selectedIndex]))),
              u &&
                (void 0 === u.length && (u = [u]),
                (d = P.a.fb(u, function (e) {
                  return c || e === Ewa || null === e || !P.a.c(e._destroy);
                })),
                r.has("optionsCaption") &&
                  null !== (u = P.a.c(r.get("optionsCaption"))) &&
                  u !== Ewa &&
                  d.unshift(D));
            var f = !1;
            (e.beforeRemove = function (e) {
              i.removeChild(e);
            }),
              (u = n),
              r.has("optionsAfterRender") &&
                "function" == typeof r.get("optionsAfterRender") &&
                (u = function (e, t) {
                  n(0, t),
                    P.v.K(r.get("optionsAfterRender"), null, [
                      t[0],
                      e !== D ? e : Ewa,
                    ]);
                }),
              P.a.cc(
                i,
                d,
                function (e, t, n) {
                  return (
                    n.length &&
                      ((h = !l && n[0].selected ? [P.u.L(n[0])] : []),
                      (f = !0)),
                    (t = i.ownerDocument.createElement("option")),
                    e === D
                      ? (P.a.Ab(t, r.get("optionsCaption")), P.u.ya(t, Ewa))
                      : ((n = o(e, r.get("optionsValue"), e)),
                        P.u.ya(t, P.a.c(n)),
                        (e = o(e, r.get("optionsText"), n)),
                        P.a.Ab(t, e)),
                    [t]
                  );
                },
                e,
                u
              ),
              P.v.K(function () {
                l
                  ? P.u.ya(i, P.a.c(r.get("value")), !0)
                  : (a
                      ? h.length && t().length < h.length
                      : h.length && 0 <= i.selectedIndex
                      ? P.u.L(i.options[i.selectedIndex]) !== h[0]
                      : h.length || 0 <= i.selectedIndex) &&
                    P.a.Fb(i, "change");
              }),
              P.a.vd(i),
              s && 20 < Math.abs(s - i.scrollTop) && (i.scrollTop = s);
          },
        }),
          (P.f.options.Yb = P.a.g.Z()),
          (P.f.selectedOptions = {
            after: ["options", "foreach"],
            init: function (n, i, r) {
              P.a.H(n, "change", function () {
                var e = i(),
                  t = [];
                P.a.C(n.getElementsByTagName("option"), function (e) {
                  e.selected && t.push(P.u.L(e));
                }),
                  P.m.$a(e, r, "selectedOptions", t);
              });
            },
            update: function (e, t) {
              if ("select" != P.a.P(e))
                throw Error("values binding applies only to SELECT elements");
              var n = P.a.c(t()),
                i = e.scrollTop;
              n &&
                "number" == typeof n.length &&
                P.a.C(e.getElementsByTagName("option"), function (e) {
                  var t = 0 <= P.a.A(n, P.u.L(e));
                  e.selected != t && P.a.Yc(e, t);
                }),
                (e.scrollTop = i);
            },
          }),
          (P.m.va.selectedOptions = !0),
          (P.f.style = {
            update: function (i, e) {
              var t = P.a.c(e() || {});
              P.a.O(t, function (e, t) {
                if (
                  ((null !== (t = P.a.c(t)) && t !== Ewa && !1 !== t) ||
                    (t = ""),
                  Iwa)
                )
                  Iwa(i).css(e, t);
                else if (/^--/.test(e)) i.style.setProperty(e, t);
                else {
                  e = e.replace(/-(\w)/g, function (e, t) {
                    return t.toUpperCase();
                  });
                  var n = i.style[e];
                  (i.style[e] = t) === n ||
                    i.style[e] != n ||
                    isNaN(t) ||
                    (i.style[e] = t + "px");
                }
              });
            },
          }),
          (P.f.submit = {
            init: function (i, r, e, t, o) {
              if ("function" != typeof r())
                throw Error(
                  "The value for a submit binding must be a function"
                );
              P.a.H(i, "submit", function (e) {
                var t,
                  n = r();
                try {
                  t = n.call(o.$data, i);
                } finally {
                  !0 !== t &&
                    (e.preventDefault
                      ? e.preventDefault()
                      : (e.returnValue = !1));
                }
              });
            },
          }),
          (P.f.text = {
            init: function () {
              return { controlsDescendantBindings: !0 };
            },
            update: function (e, t) {
              P.a.Ab(e, t());
            },
          }),
          (P.h.ea.text = !0),
          (function () {
            if (Fwa && Fwa.navigator) {
              var d,
                h,
                f,
                p,
                g,
                e = function (e) {
                  if (e) return parseFloat(e[1]);
                },
                t = Fwa.navigator.userAgent;
              (d =
                Fwa.opera &&
                Fwa.opera.version &&
                parseInt(Fwa.opera.version())) ||
                (g = e(t.match(/Edge\/([^ ]+)$/))) ||
                e(t.match(/Chrome\/([^ ]+)/)) ||
                (h = e(t.match(/Version\/([^ ]+) Safari/))) ||
                (f = e(t.match(/Firefox\/([^ ]+)/))) ||
                (p = P.a.W || e(t.match(/MSIE ([^ ]+)/))) ||
                (p = e(t.match(/rv:([^ )]+)/)));
            }
            if (8 <= p && p < 10)
              var i = P.a.g.Z(),
                r = P.a.g.Z(),
                o = function (e) {
                  var t = this.activeElement;
                  (t = t && P.a.g.get(t, r)) && t(e);
                },
                m = function (e, t) {
                  var n = e.ownerDocument;
                  P.a.g.get(n, i) ||
                    (P.a.g.set(n, i, !0), P.a.H(n, "selectionchange", o)),
                    P.a.g.set(e, r, t);
                };
            (P.f.textInput = {
              init: function (n, i, t) {
                function e(e, t) {
                  P.a.H(n, e, t);
                }
                function r() {
                  a || ((s = n.value), (a = P.a.setTimeout(o, 4)));
                }
                function o() {
                  clearTimeout(a), (s = a = Ewa);
                  var e = n.value;
                  u !== e && ((u = e), P.m.$a(i(), t, "textInput", e));
                }
                var a,
                  s,
                  u = n.value,
                  l = 9 == P.a.W ? r : o,
                  c = !1;
                p && e("keypress", o),
                  p < 11 &&
                    e("propertychange", function (e) {
                      c || "value" !== e.propertyName || l(e);
                    }),
                  8 == p && (e("keyup", o), e("keydown", o)),
                  m && (m(n, l), e("dragend", r)),
                  (!p || 9 <= p) && e("input", l),
                  h < 5 && "textarea" === P.a.P(n)
                    ? (e("keydown", r), e("paste", r), e("cut", r))
                    : d < 11
                    ? e("keydown", r)
                    : f < 4
                    ? (e("DOMAutoComplete", o), e("dragdrop", o), e("drop", o))
                    : g && "number" === n.type && e("keydown", r),
                  e("change", o),
                  e("blur", o),
                  P.o(
                    function e() {
                      var t = P.a.c(i());
                      (null !== t && t !== Ewa) || (t = ""),
                        s !== Ewa && t === s
                          ? P.a.setTimeout(e, 4)
                          : n.value !== t &&
                            ((c = !0), (n.value = t), (c = !1), (u = n.value));
                    },
                    null,
                    { l: n }
                  );
              },
            }),
              (P.m.va.textInput = !0),
              (P.f.textinput = {
                preprocess: function (e, t, n) {
                  n("textInput", e);
                },
              });
          })(),
          (P.f.uniqueName = {
            init: function (e, t) {
              if (t()) {
                var n = "ko_unique_" + ++P.f.uniqueName.qd;
                P.a.Xc(e, n);
              }
            },
          }),
          (P.f.uniqueName.qd = 0),
          (P.f.using = {
            init: function (e, t, n, i, r) {
              var o;
              return (
                n.has("as") &&
                  (o = {
                    as: n.get("as"),
                    noChildContext: n.get("noChildContext"),
                  }),
                (t = r.createChildContext(t, o)),
                P.Pa(t, e),
                { controlsDescendantBindings: !0 }
              );
            },
          }),
          (P.h.ea.using = !0),
          (P.f.value = {
            after: ["options", "foreach"],
            init: function (n, i, r) {
              var o = P.a.P(n),
                e = "input" == o;
              if (!e || ("checkbox" != n.type && "radio" != n.type)) {
                var t = ["change"],
                  a = r.get("valueUpdate"),
                  s = !1,
                  u = null;
                a &&
                  ("string" == typeof a && (a = [a]),
                  P.a.gb(t, a),
                  (t = P.a.vc(t)));
                var l,
                  c = function () {
                    (u = null), (s = !1);
                    var e = i(),
                      t = P.u.L(n);
                    P.m.$a(e, r, "value", t);
                  };
                !P.a.W ||
                  !e ||
                  "text" != n.type ||
                  "off" == n.autocomplete ||
                  (n.form && "off" == n.form.autocomplete) ||
                  -1 != P.a.A(t, "propertychange") ||
                  (P.a.H(n, "propertychange", function () {
                    s = !0;
                  }),
                  P.a.H(n, "focus", function () {
                    s = !1;
                  }),
                  P.a.H(n, "blur", function () {
                    s && c();
                  })),
                  P.a.C(t, function (e) {
                    var t = c;
                    P.a.Td(e, "after") &&
                      ((t = function () {
                        (u = P.u.L(n)), P.a.setTimeout(c, 0);
                      }),
                      (e = e.substring(5))),
                      P.a.H(n, e, t);
                  }),
                  (l =
                    e && "file" == n.type
                      ? function () {
                          var e = P.a.c(i());
                          null === e || e === Ewa || "" === e
                            ? (n.value = "")
                            : P.v.K(c);
                        }
                      : function () {
                          var e = P.a.c(i()),
                            t = P.u.L(n);
                          null !== u && e === u
                            ? P.a.setTimeout(l, 0)
                            : (e === t && t !== Ewa) ||
                              ("select" === o
                                ? ((t = r.get("valueAllowUnset")),
                                  P.u.ya(n, e, t),
                                  t || e === P.u.L(n) || P.v.K(c))
                                : P.u.ya(n, e));
                        }),
                  P.o(l, null, { l: n });
              } else P.eb(n, { checkedValue: i });
            },
            update: function () {},
          }),
          (P.m.va.value = !0),
          (P.f.visible = {
            update: function (e, t) {
              var n = P.a.c(t()),
                i = "none" != e.style.display;
              n && !i
                ? (e.style.display = "")
                : !n && i && (e.style.display = "none");
            },
          }),
          (P.f.hidden = {
            update: function (e, t) {
              P.f.visible.update(e, function () {
                return !P.a.c(t());
              });
            },
          }),
          (P.f.click = {
            init: function (e, t, n, i, r) {
              return P.f.event.init.call(
                this,
                e,
                function () {
                  var e = {};
                  return (e.click = t()), e;
                },
                n,
                i,
                r
              );
            },
          }),
          (P.ca = function () {}),
          (P.ca.prototype.renderTemplateSource = function () {
            throw Error("Override renderTemplateSource");
          }),
          (P.ca.prototype.createJavaScriptEvaluatorBlock = function () {
            throw Error("Override createJavaScriptEvaluatorBlock");
          }),
          (P.ca.prototype.makeTemplateSource = function (e, t) {
            if ("string" == typeof e) {
              var n = (t = t || Gwa).getElementById(e);
              if (!n) throw Error("Cannot find template with ID " + e);
              return new P.B.D(n);
            }
            if (1 == e.nodeType || 8 == e.nodeType) return new P.B.ia(e);
            throw Error("Unknown template type: " + e);
          }),
          (P.ca.prototype.renderTemplate = function (e, t, n, i) {
            return (
              (e = this.makeTemplateSource(e, i)),
              this.renderTemplateSource(e, t, n, i)
            );
          }),
          (P.ca.prototype.isTemplateRewritten = function (e, t) {
            return (
              !1 === this.allowTemplateRewriting ||
              this.makeTemplateSource(e, t).data("isRewritten")
            );
          }),
          (P.ca.prototype.rewriteTemplate = function (e, t, n) {
            (t = t((e = this.makeTemplateSource(e, n)).text())),
              e.text(t),
              e.data("isRewritten", !0);
          }),
          P.b("templateEngine", P.ca),
          (P.ic = (function () {
            function a(e, t, n, i) {
              e = P.m.Zb(e);
              for (var r = P.m.Ra, o = 0; o < e.length; o++) {
                var a = e[o].key;
                if (Object.prototype.hasOwnProperty.call(r, a)) {
                  var s = r[a];
                  if ("function" == typeof s) {
                    if ((a = s(e[o].value))) throw Error(a);
                  } else if (!s)
                    throw Error(
                      "This template engine does not support the '" +
                        a +
                        "' binding within its templates"
                    );
                }
              }
              return (
                (n =
                  "ko.__tr_ambtns(function($context,$element){return(function(){return{ " +
                  P.m.ub(e, { valueAccessors: !0 }) +
                  " } })()},'" +
                  n.toLowerCase() +
                  "')"),
                i.createJavaScriptEvaluatorBlock(n) + t
              );
            }
            var t =
                /(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,
              n = /\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;
            return {
              wd: function (e, t, n) {
                t.isTemplateRewritten(e, n) ||
                  t.rewriteTemplate(
                    e,
                    function (e) {
                      return P.ic.Kd(e, t);
                    },
                    n
                  );
              },
              Kd: function (e, o) {
                return e
                  .replace(t, function (e, t, n, i, r) {
                    return a(r, t, n, o);
                  })
                  .replace(n, function (e, t) {
                    return a(t, "\x3c!-- ko --\x3e", "#comment", o);
                  });
              },
              ld: function (i, r) {
                return P.aa.Wb(function (e, t) {
                  var n = e.nextSibling;
                  n && n.nodeName.toLowerCase() === r && P.eb(n, i, t);
                });
              },
            };
          })()),
          P.b("__tr_ambtns", P.ic.ld),
          (function () {
            (P.B = {}),
              (P.B.D = function (e) {
                if ((this.D = e)) {
                  var t = P.a.P(e);
                  this.Db =
                    "script" === t
                      ? 1
                      : "textarea" === t
                      ? 2
                      : "template" == t &&
                        e.content &&
                        11 === e.content.nodeType
                      ? 3
                      : 4;
                }
              }),
              (P.B.D.prototype.text = function () {
                var e =
                  1 === this.Db
                    ? "text"
                    : 2 === this.Db
                    ? "value"
                    : "innerHTML";
                if (0 == arguments.length) return this.D[e];
                var t = arguments[0];
                "innerHTML" === e ? P.a.dc(this.D, t) : (this.D[e] = t);
              });
            var t = P.a.g.Z() + "_";
            P.B.D.prototype.data = function (e) {
              if (1 === arguments.length) return P.a.g.get(this.D, t + e);
              P.a.g.set(this.D, t + e, arguments[1]);
            };
            var i = P.a.g.Z();
            (P.B.D.prototype.nodes = function () {
              var e = this.D;
              if (0 == arguments.length) {
                var t = P.a.g.get(e, i) || {},
                  n =
                    t.jb ||
                    (3 === this.Db ? e.content : 4 === this.Db ? e : Ewa);
                return (
                  (n && !t.hd) ||
                    ((t = this.text()) &&
                      ((n = P.a.Ld(t, e.ownerDocument)),
                      this.text(""),
                      P.a.g.set(e, i, { jb: n, hd: !0 }))),
                  n
                );
              }
              P.a.g.set(e, i, { jb: arguments[0] });
            }),
              (P.B.ia = function (e) {
                this.D = e;
              }),
              (P.B.ia.prototype = new P.B.D()),
              (P.B.ia.prototype.constructor = P.B.ia),
              (P.B.ia.prototype.text = function () {
                if (0 == arguments.length) {
                  var e = P.a.g.get(this.D, i) || {};
                  return e.jc === Ewa && e.jb && (e.jc = e.jb.innerHTML), e.jc;
                }
                P.a.g.set(this.D, i, { jc: arguments[0] });
              }),
              P.b("templateSources", P.B),
              P.b("templateSources.domElement", P.B.D),
              P.b("templateSources.anonymousTemplate", P.B.ia);
          })(),
          (function () {
            function i(e, t, n) {
              var i;
              for (t = P.h.nextSibling(t); e && (i = e) !== t; )
                n(i, (e = P.h.nextSibling(i)));
            }
            function h(e, t) {
              if (e.length) {
                var r = e[0],
                  o = e[e.length - 1],
                  n = r.parentNode,
                  a = P.ga.instance,
                  s = a.preprocessNode;
                if (s) {
                  if (
                    (i(r, o, function (e, t) {
                      var n = e.previousSibling,
                        i = s.call(a, e);
                      i &&
                        (e === r && (r = i[0] || t),
                        e === o && (o = i[i.length - 1] || n));
                    }),
                    (e.length = 0),
                    !r)
                  )
                    return;
                  r === o ? e.push(r) : (e.push(r, o), P.a.Ua(e, n));
                }
                i(r, o, function (e) {
                  (1 !== e.nodeType && 8 !== e.nodeType) || P.uc(t, e);
                }),
                  i(r, o, function (e) {
                    (1 !== e.nodeType && 8 !== e.nodeType) || P.aa.bd(e, [t]);
                  }),
                  P.a.Ua(e, n);
              }
            }
            function u(e) {
              return e.nodeType ? e : 0 < e.length ? e[0] : null;
            }
            function f(e, t, n, i, r) {
              r = r || {};
              var o = ((e && u(e)) || n || {}).ownerDocument,
                a = r.templateEngine || l;
              if (
                (P.ic.wd(n, a, o),
                "number" != typeof (n = a.renderTemplate(n, i, r, o)).length ||
                  (0 < n.length && "number" != typeof n[0].nodeType))
              )
                throw Error(
                  "Template engine must return an array of DOM nodes"
                );
              switch (((o = !1), t)) {
                case "replaceChildren":
                  P.h.ua(e, n), (o = !0);
                  break;
                case "replaceNode":
                  P.a.Wc(e, n), (o = !0);
                  break;
                case "ignoreTargetNode":
                  break;
                default:
                  throw Error("Unknown renderMode: " + t);
              }
              return (
                o &&
                  (h(n, i),
                  r.afterRender &&
                    P.v.K(r.afterRender, null, [n, i[r.as || "$data"]]),
                  "replaceChildren" == t && P.j.Ga(e, P.j.T)),
                n
              );
            }
            function p(e, t, n) {
              return P.N(e) ? e() : "function" == typeof e ? e(t, n) : e;
            }
            var l;
            (P.ec = function (e) {
              if (e != Ewa && !(e instanceof P.ca))
                throw Error(
                  "templateEngine must inherit from ko.templateEngine"
                );
              l = e;
            }),
              (P.bc = function (n, i, r, o, a) {
                if (((r = r || {}).templateEngine || l) == Ewa)
                  throw Error(
                    "Set a template engine before calling renderTemplate"
                  );
                if (((a = a || "replaceChildren"), o)) {
                  var s = u(o);
                  return P.$(
                    function () {
                      var e =
                          i && i instanceof P.fa
                            ? i
                            : new P.fa(i, null, null, null, {
                                exportDependencies: !0,
                              }),
                        t = p(n, e.$data, e);
                      (e = f(o, a, t, e, r)),
                        "replaceNode" == a && (s = u((o = e)));
                    },
                    null,
                    {
                      Sa: function () {
                        return !s || !P.a.Rb(s);
                      },
                      l: s && "replaceNode" == a ? s.parentNode : s,
                    }
                  );
                }
                return P.aa.Wb(function (e) {
                  P.bc(n, i, r, e, "replaceNode");
                });
              }),
              (P.Pd = function (i, t, r, o, a) {
                function n(e, t) {
                  P.v.K(P.a.cc, null, [o, e, u, r, s, t]), P.j.Ga(o, P.j.T);
                }
                function s(e, t) {
                  h(t, l), r.afterRender && r.afterRender(t, e), (l = null);
                }
                function u(e, t) {
                  l = a.createChildContext(e, {
                    as: c,
                    noChildContext: r.noChildContext,
                    extend: function (e) {
                      (e.$index = t), c && (e[c + "Index"] = t);
                    },
                  });
                  var n = p(i, e, l);
                  return f(o, "ignoreTargetNode", n, l, r);
                }
                var l,
                  c = r.as,
                  d =
                    !1 === r.includeDestroyed ||
                    (P.options.foreachHidesDestroyed && !r.includeDestroyed);
                if (d || r.beforeRemove || !P.Oc(t))
                  return P.$(
                    function () {
                      var e = P.a.c(t) || [];
                      void 0 === e.length && (e = [e]),
                        d &&
                          (e = P.a.fb(e, function (e) {
                            return (
                              e === Ewa || null === e || !P.a.c(e._destroy)
                            );
                          })),
                        n(e);
                    },
                    null,
                    { l: o }
                  );
                n(t.w());
                var e = t.subscribe(
                  function (e) {
                    n(t(), e);
                  },
                  null,
                  "arrayChange"
                );
                return e.l(o), e;
              });
            var a = P.a.g.Z(),
              r = P.a.g.Z();
            (P.f.template = {
              init: function (e, t) {
                var n = P.a.c(t());
                if ("string" == typeof n || n.name) P.h.Ea(e);
                else if ("nodes" in n) {
                  if (((n = n.nodes || []), P.N(n)))
                    throw Error(
                      'The "nodes" option must be a plain, non-observable array.'
                    );
                  var i = n[0] && n[0].parentNode;
                  (i && P.a.g.get(i, r)) ||
                    ((i = P.a.Xb(n)), P.a.g.set(i, r, !0)),
                    new P.B.ia(e).nodes(i);
                } else {
                  if (!(0 < (n = P.h.childNodes(e)).length))
                    throw Error(
                      "Anonymous template defined, but no template content was provided"
                    );
                  (i = P.a.Xb(n)), new P.B.ia(e).nodes(i);
                }
                return { controlsDescendantBindings: !0 };
              },
              update: function (e, t, n, i, r) {
                var o = t();
                (n = !0),
                  (i = null),
                  "string" == typeof (t = P.a.c(o))
                    ? (t = {})
                    : ((o = t.name),
                      "if" in t && (n = P.a.c(t.if)),
                      n && "ifnot" in t && (n = !P.a.c(t.ifnot))),
                  "foreach" in t
                    ? (i = P.Pd(o || e, (n && t.foreach) || [], t, e, r))
                    : n
                    ? ((n = r),
                      "data" in t &&
                        (n = r.createChildContext(t.data, {
                          as: t.as,
                          noChildContext: t.noChildContext,
                          exportDependencies: !0,
                        })),
                      (i = P.bc(o || e, n, t, e)))
                    : P.h.Ea(e),
                  (r = i),
                  (t = P.a.g.get(e, a)) && "function" == typeof t.s && t.s(),
                  P.a.g.set(e, a, !r || (r.ja && !r.ja()) ? Ewa : r);
              },
            }),
              (P.m.Ra.template = function (e) {
                return (1 == (e = P.m.Zb(e)).length && e[0].unknown) ||
                  P.m.Hd(e, "name")
                  ? null
                  : "This template engine does not support anonymous templates nested within its templates";
              }),
              (P.h.ea.template = !0);
          })(),
          P.b("setTemplateEngine", P.ec),
          P.b("renderTemplate", P.bc),
          (P.a.Jc = function (e, t, n) {
            var i, r, o, a, s;
            if (e.length && t.length)
              for (i = r = 0; (!n || i < n) && (a = e[r]); ++r) {
                for (o = 0; (s = t[o]); ++o)
                  if (a.value === s.value) {
                    (a.moved = s.index),
                      (s.moved = a.index),
                      t.splice(o, 1),
                      (i = o = 0);
                    break;
                  }
                i += o;
              }
          }),
          (P.a.Ob = (function () {
            function i(e, t, n, i, r) {
              var o,
                a,
                s,
                u,
                l,
                c = Math.min,
                d = Math.max,
                h = [],
                f = e.length,
                p = t.length,
                g = p - f || 1,
                m = f + p + 1;
              for (o = 0; o <= f; o++)
                for (
                  u = s, h.push((s = [])), l = c(p, o + g), a = d(0, o - 1);
                  a <= l;
                  a++
                )
                  s[a] = a
                    ? o
                      ? e[o - 1] === t[a - 1]
                        ? u[a - 1]
                        : c(u[a] || m, s[a - 1] || m) + 1
                      : a + 1
                    : o + 1;
              for (c = [], d = [], g = [], o = f, a = p; o || a; )
                (p = h[o][a] - 1),
                  a && p === h[o][a - 1]
                    ? d.push(
                        (c[c.length] = { status: n, value: t[--a], index: a })
                      )
                    : o && p === h[o - 1][a]
                    ? g.push(
                        (c[c.length] = { status: i, value: e[--o], index: o })
                      )
                    : (--a,
                      --o,
                      r.sparse || c.push({ status: "retained", value: t[a] }));
              return P.a.Jc(g, d, !r.dontLimitMoves && 10 * f), c.reverse();
            }
            return function (e, t, n) {
              return (
                (n = "boolean" == typeof n ? { dontLimitMoves: n } : n || {}),
                (t = t || []),
                (e = e || []).length < t.length
                  ? i(e, t, "added", "deleted", n)
                  : i(t, e, "deleted", "added", n)
              );
            };
          })()),
          P.b("utils.compareArrays", P.a.Ob),
          (function () {
            function O(t, n, i, r, o) {
              var a = [],
                e = P.$(
                  function () {
                    var e = n(i, o, P.a.Ua(a, t)) || [];
                    0 < a.length &&
                      (P.a.Wc(a, e), r && P.v.K(r, null, [i, e, o])),
                      (a.length = 0),
                      P.a.gb(a, e);
                  },
                  null,
                  {
                    l: t,
                    Sa: function () {
                      return !P.a.jd(a);
                    },
                  }
                );
              return { Y: a, $: e.ja() ? e : Ewa };
            }
            var M = P.a.g.Z(),
              j = P.a.g.Z();
            P.a.cc = function (t, e, n, i, r, o) {
              function a(e) {
                (l = { Aa: e, nb: P.sa(v++) }), g.push(l), p || x.push(l);
              }
              function s(e) {
                (l = f[e]),
                  v !== l.nb.w() && _.push(l),
                  l.nb(v++),
                  P.a.Ua(l.Y, t),
                  g.push(l);
              }
              function u(t, n) {
                if (t)
                  for (var i = 0, e = n.length; i < e; i++)
                    P.a.C(n[i].Y, function (e) {
                      t(e, i, n[i].Aa);
                    });
              }
              void 0 === (e = e || []).length && (e = [e]), (i = i || {});
              var l,
                c,
                d,
                h,
                f = P.a.g.get(t, M),
                p = !f,
                g = [],
                m = 0,
                v = 0,
                b = [],
                y = [],
                w = [],
                _ = [],
                x = [],
                T = 0;
              if (p) P.a.C(e, a);
              else {
                if (!o || (f && f._countWaitingForRemove)) {
                  var C = P.a.Mb(f, function (e) {
                    return e.Aa;
                  });
                  o = P.a.Ob(C, e, {
                    dontLimitMoves: i.dontLimitMoves,
                    sparse: !0,
                  });
                }
                var S, E, D;
                for (C = 0; (S = o[C]); C++)
                  switch (((E = S.moved), (D = S.index), S.status)) {
                    case "deleted":
                      for (; m < D; ) s(m++);
                      E === Ewa &&
                        ((l = f[m]).$ && (l.$.s(), (l.$ = Ewa)),
                        P.a.Ua(l.Y, t).length &&
                          (i.beforeRemove &&
                            (g.push(l),
                            T++,
                            l.Aa === j ? (l = null) : w.push(l)),
                          l && b.push.apply(b, l.Y))),
                        m++;
                      break;
                    case "added":
                      for (; v < D; ) s(m++);
                      E !== Ewa ? (y.push(g.length), s(E)) : a(S.value);
                  }
                for (; v < e.length; ) s(m++);
                g._countWaitingForRemove = T;
              }
              P.a.g.set(t, M, g),
                u(i.beforeMove, _),
                P.a.C(b, i.beforeRemove ? P.na : P.removeNode);
              try {
                h = t.ownerDocument.activeElement;
              } catch (e) {}
              if (y.length)
                for (; (C = y.shift()) != Ewa; ) {
                  for (l = g[C], c = Ewa; C; )
                    if ((d = g[--C].Y) && d.length) {
                      c = d[d.length - 1];
                      break;
                    }
                  for (e = 0; (m = l.Y[e]); c = m, e++) P.h.Vb(t, m, c);
                }
              for (C = 0, y = P.h.firstChild(t); (l = g[C]); C++) {
                for (
                  l.Y || P.a.extend(l, O(t, n, l.Aa, r, l.nb)), e = 0;
                  (m = l.Y[e]);
                  y = m.nextSibling, c = m, e++
                )
                  m !== y && P.h.Vb(t, m, c);
                !l.Dd &&
                  r &&
                  (r(l.Aa, l.Y, l.nb), (l.Dd = !0), (c = l.Y[l.Y.length - 1]));
              }
              for (
                h && t.ownerDocument.activeElement != h && h.focus(),
                  u(i.beforeRemove, w),
                  C = 0;
                C < w.length;
                ++C
              )
                w[C].Aa = j;
              u(i.afterMove, _), u(i.afterAdd, x);
            };
          })(),
          P.b("utils.setDomNodeChildrenFromArrayMapping", P.a.cc),
          (P.ba = function () {
            this.allowTemplateRewriting = !1;
          }),
          (P.ba.prototype = new P.ca()),
          (P.ba.prototype.constructor = P.ba),
          (P.ba.prototype.renderTemplateSource = function (e, t, n, i) {
            return (t = P.a.W < 9 || !e.nodes ? null : e.nodes())
              ? P.a.la(t.cloneNode(!0).childNodes)
              : ((e = e.text()), P.a.ta(e, i));
          }),
          (P.ba.Na = new P.ba()),
          P.ec(P.ba.Na),
          P.b("nativeTemplateEngine", P.ba),
          (function () {
            (P.Za = function () {
              var o = (this.Gd = (function () {
                if (!Iwa || !Iwa.tmpl) return 0;
                try {
                  if (0 <= Iwa.tmpl.tag.tmpl.open.toString().indexOf("__"))
                    return 2;
                } catch (e) {}
                return 1;
              })());
              (this.renderTemplateSource = function (e, t, n, i) {
                if (((i = i || Gwa), (n = n || {}), o < 2))
                  throw Error(
                    "Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later."
                  );
                var r = e.data("precompiled");
                return (
                  r ||
                    ((r = e.text() || ""),
                    (r = Iwa.template(
                      null,
                      "{{ko_with $item.koBindingContext}}" + r + "{{/ko_with}}"
                    )),
                    e.data("precompiled", r)),
                  (e = [t.$data]),
                  (t = Iwa.extend({ koBindingContext: t }, n.templateOptions)),
                  (t = Iwa.tmpl(r, e, t)).appendTo(i.createElement("div")),
                  (Iwa.fragments = {}),
                  t
                );
              }),
                (this.createJavaScriptEvaluatorBlock = function (e) {
                  return "{{ko_code ((function() { return " + e + " })()) }}";
                }),
                (this.addTemplate = function (e, t) {
                  Gwa.write(
                    "<script type='text/html' id='" + e + "'>" + t + "</script>"
                  );
                }),
                0 < o &&
                  ((Iwa.tmpl.tag.ko_code = { open: "__.push($1 || '');" }),
                  (Iwa.tmpl.tag.ko_with = { open: "with($1) {", close: "} " }));
            }),
              (P.Za.prototype = new P.ca()),
              (P.Za.prototype.constructor = P.Za);
            var e = new P.Za();
            0 < e.Gd && P.ec(e), P.b("jqueryTmplTemplateEngine", P.Za);
          })();
      }),
      "function" == typeof define && define.amd
        ? define("knockout", ["exports", "require"], Kwa)
        : "object" == typeof exports && "object" == typeof module
        ? Kwa(module.exports || exports)
        : Kwa((Fwa.ko = {}));
  })(),
  define(
    "HMIWeb/Source/Binding/PropertyBindingHandler",
    ["require", "exports", "knockout"],
    function (e, t, s) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = function (e) {
        var a = this;
        (this.logger = e),
          (this.update = function (i, e, t, n, r) {
            try {
              var o = s.utils.unwrapObservable(e()) || {};
              s.utils.objectForEach(o, function (e, t) {
                t = s.utils.unwrapObservable(t);
                var n = e.split(".");
                1 === n.length && (i[e] = t),
                  2 === n.length && (i[n[0]][n[1]] = t);
              });
            } catch (e) {
              a.logger.exception("Binding", "Unable to update binding", e);
            }
          });
      };
      t.default = n;
    }
  ),
  define(
    "HMIWeb/Source/Binding/RangeToAbsolutePositionConverter",
    ["require", "exports", "knockout"],
    function (e, t, f) {
      "use strict";
      return function (e) {
        var h = this;
        (this.logger = e),
          (this.update = function (e, t, n, i, r) {
            try {
              var o = t(),
                a = f.unwrap(o);
              if (void 0 !== a) {
                var s = f.utils.unwrapObservable(a.value),
                  u = f.utils.unwrapObservable(a.min),
                  l = f.utils.unwrapObservable(a.max),
                  c = f.utils.unwrapObservable(a.orientation);
                if (
                  null !== s &&
                  null !== u &&
                  null !== l &&
                  isFinite(s) &&
                  isFinite(u) &&
                  isFinite(l)
                ) {
                  var d = (s - u) / (l - u);
                  return (
                    (d = d < 0 ? 0 : 1 < d ? 1 : d),
                    void (null == c || 0 == c
                      ? (e.style.top = (100 * (1 - d)).toString() + "%")
                      : (e.style.left = (100 * -(1 - d)).toString() + "%"))
                  );
                }
                null == c || 0 == c
                  ? (e.style.top = "100%")
                  : (e.style.left = "-100%");
              }
            } catch (e) {
              h.logger.exception("Binding", "Unable to update binding", e);
            }
          });
      };
    }
  ),
  define(
    "HMIWeb/Source/Binding/RangeToGridLayoutConverter",
    ["require", "exports", "knockout"],
    function (e, t, f) {
      "use strict";
      return function (e) {
        var h = this;
        (this.logger = e),
          (this.update = function (e, t, n, i, r) {
            try {
              var o = t(),
                a = f.unwrap(o);
              if (void 0 !== a) {
                var s = f.utils.unwrapObservable(a.value),
                  u = f.utils.unwrapObservable(a.min),
                  l = f.utils.unwrapObservable(a.max),
                  c = f.utils.unwrapObservable(a.orientation);
                if (
                  null !== s &&
                  null !== u &&
                  null !== l &&
                  isFinite(s) &&
                  isFinite(u) &&
                  isFinite(l)
                ) {
                  var d = (s - u) / (l - u);
                  return (
                    (d = d < 0 ? 0 : 1 < d ? 1 : d),
                    void (null == c || 0 == c
                      ? (e.style.msGridRows =
                          (1 - d).toFixed(2) + "fr " + d.toFixed(2) + "fr")
                      : (e.style.msGridColumns =
                          d.toFixed(2) + "fr " + (1 - d).toFixed(2) + "fr"))
                  );
                }
              }
            } catch (e) {
              h.logger.exception("Binding", "Unable to update binding", e);
            }
          });
      };
    }
  ),
  define(
    "HMIWeb/Source/Binding/RangeToRotationAngleConverter",
    ["require", "exports", "knockout"],
    function (e, t, f) {
      "use strict";
      return function (e) {
        var h = this;
        (this.logger = e),
          (this.update = function (e, t, n, i, r) {
            try {
              var o = t(),
                a = f.unwrap(o);
              if (void 0 !== a) {
                var s = f.utils.unwrapObservable(a.value),
                  u = f.utils.unwrapObservable(a.min),
                  l = f.utils.unwrapObservable(a.max);
                if (
                  null !== s &&
                  null !== u &&
                  null !== l &&
                  isFinite(s) &&
                  isFinite(u) &&
                  isFinite(l)
                ) {
                  var c = (s - u) / (l - u),
                    d =
                      "rotate(" +
                      (180 * (c = c < 0 ? 0 : 1 < c ? 1 : c)).toFixed(2) +
                      "deg)";
                  return void (e.style.transform = d);
                }
              }
              e.style.transform = "rotate(0deg)";
            } catch (e) {
              h.logger.exception("Binding", "Unable to update binding", e);
            }
          });
      };
    }
  ),
  define(
    "HMIWeb/Source/Binding/ViewToViewBindingHandler",
    ["require", "exports", "knockout"],
    function (e, t, s) {
      "use strict";
      return function (e) {
        var a = this;
        (this.logger = e),
          (this.init = function (t, e, n, i, r) {
            try {
              var o = r.createChildContext(r.$rawData, null, function (e) {
                s.utils.extend(e, { $rootElement: t });
              });
              s.applyBindingsToDescendants(o, t);
            } catch (e) {
              a.logger.exception("Binding", "Unable to init binding", e);
            }
            return { controlsDescendantBindings: !0 };
          });
      };
    }
  ),
  define(
    "HMIWeb/Source/Binding/TrendDataBindingHandler",
    ["require", "exports", "knockout"],
    function (e, t, s) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = function (e) {
        var a = this;
        (this.logger = e),
          (this.init = function (e, t, n, u, i) {
            try {
              s.utils.registerEventHandler(
                e,
                "timeWindowChanged",
                function (e) {
                  var t, n, i, r, o, a;
                  (t = (a =
                    void 0 !== e.originalEvent
                      ? e.originalEvent.detail
                      : e.detail).start),
                    (n = a.end),
                    (i = a.isZoomed),
                    (r = a.resetStart),
                    (o = a.resetEnd),
                    u.updateTimeWindowFromPage(t, n, i, r, o);
                }
              ),
                s.utils.registerEventHandler(e, "hairlineAdded", function (e) {
                  var t, n;
                  null != e.originalEvent
                    ? ((t = e.originalEvent.detail.time),
                      (n = e.originalEvent.detail.isPrimary))
                    : ((t = e.detail.time), (n = e.detail.isPrimary)),
                    u.hairlineAddedFromTrend(t, n);
                }),
                s.utils.registerEventHandler(
                  e,
                  "hairlineRemoved",
                  function (e) {
                    var t, n;
                    null != e.originalEvent
                      ? ((t = e.originalEvent.detail.time),
                        (n = e.originalEvent.detail.isPrimary))
                      : ((t = e.detail.time), (n = e.detail.isPrimary)),
                      u.hairlineRemovedFromTrend(t, n);
                  }
                ),
                s.utils.registerEventHandler(e, "hairlineMoved", function (e) {
                  var t, n, i;
                  null != e.originalEvent
                    ? ((t = e.originalEvent.detail.oldTime),
                      (n = e.originalEvent.detail.newTime),
                      (i = e.originalEvent.detail.isPrimary))
                    : ((t = e.detail.oldTime),
                      (n = e.detail.newTime),
                      (i = e.detail.isPrimary)),
                    u.hairlineMovedFromTrend(t, n, i);
                }),
                s.utils.registerEventHandler(
                  e,
                  "primaryHairlineChanged",
                  function (e) {
                    var t;
                    (t =
                      null != e.originalEvent
                        ? e.originalEvent.detail.time
                        : e.detail.time),
                      u.primaryHairlineChangedFromTrend(t);
                  }
                ),
                s.utils.registerEventHandler(
                  e,
                  "hairlineIsPinnedChanged",
                  function (e) {
                    var t, n;
                    null != e.originalEvent
                      ? ((t = e.originalEvent.detail.time),
                        (n = e.originalEvent.detail.isPinned))
                      : ((t = e.detail.time), (n = e.detail.isPinned)),
                      u.hairlinePinnedFromTrend(t, n);
                  }
                ),
                s.utils.registerEventHandler(
                  e,
                  "windowWidthChanged",
                  function (e) {
                    var t;
                    (t =
                      null != e.originalEvent
                        ? e.originalEvent.detail
                        : e.detail),
                      u.updateWindowWidth(t);
                  }
                ),
                u.updateWindowWidth(e.canvasWidth),
                s.utils.registerEventHandler(e, "tracesAdded", function (e) {
                  var t;
                  void 0 !==
                    (t =
                      null != e.originalEvent
                        ? e.originalEvent.detail
                        : e.detail).length &&
                    0 < t.length &&
                    u.addTraces(t);
                }),
                s.utils.registerEventHandler(e, "configureTrace", function (e) {
                  var t,
                    n = (t =
                      null != e.originalEvent
                        ? e.originalEvent.detail
                        : e.detail).id,
                    i = t.name,
                    r = t.tagSource,
                    o = t.aggregate,
                    a = t.sampleInterval,
                    s = t.units;
                  u.configureTrace(n, i, r, o, a, s);
                }),
                s.utils.registerEventHandler(e, "traceRemoved", function (e) {
                  var t;
                  (t =
                    null != e.originalEvent
                      ? e.originalEvent.detail
                      : e.detail),
                    u.deleteTrace(t);
                });
            } catch (e) {
              a.logger.exception("Binding", "Unable to init binding", e);
            }
            return { controlsDescendantBindings: !0 };
          }),
          (this.update = function (e, t, n, i, r) {
            try {
              var o = s.utils.unwrapObservable(t()) || [];
              e.dataArray = o;
            } catch (e) {
              a.logger.exception("Binding", "Unable to update binding", e);
            }
          });
      };
      t.default = n;
    }
  ),
  define(
    "HMIWeb/Source/Binding/TableDataBindingHandler",
    ["require", "exports", "knockout"],
    function (e, t, b) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = function (e, t) {
        var v = this;
        (this.logger = e),
          (this.localisation = t),
          (this.localisedUnknown = ""),
          (this.init = function (e, t, n, u, i) {
            try {
              b.utils.registerEventHandler(e, "datasetsAdded", function (e) {
                var t;
                void 0 !==
                  (t =
                    void 0 === e.originalEvent
                      ? e.detail
                      : e.originalEvent.detail).length &&
                  0 < t.length &&
                  u.addDatasets(t);
              }),
                b.utils.registerEventHandler(e, "datasetRemoved", function (e) {
                  var t =
                    void 0 === e.originalEvent
                      ? e.detail
                      : e.originalEvent.detail;
                  u.removeDataset(t);
                }),
                b.utils.registerEventHandler(
                  e,
                  "configureDataset",
                  function (e) {
                    var t,
                      n = (t =
                        void 0 === e.originalEvent
                          ? e.detail
                          : e.originalEvent.detail).id,
                      i = t.name,
                      r = t.tagSource,
                      o = t.aggregate,
                      a = t.sampleInterval,
                      s = t.units;
                    u.configureDataset(n, i, r, o, a, s);
                  }
                );
            } catch (e) {
              v.logger.exception("Binding", "Unable to init binding", e);
            }
            return { controlsDescendantBindings: !0 };
          }),
          (this.update = function (e, t, n, i, r) {
            try {
              for (
                var o = b.utils.unwrapObservable(t()),
                  a = o.tableData || [],
                  s = [],
                  u = o.startTimeMs,
                  l = o.endTimeMs,
                  c = i.getNonSparseChildIds(),
                  d = a.length;
                d--;

              ) {
                var h = a[d],
                  f = {},
                  p = h[0].getTime();
                if (null == u || null == l || !(p < u || l < p)) {
                  f.time = h[0];
                  for (var g = 1; g < h.length; g++) {
                    var m = h[g];
                    isNaN(m) && (m = v.localisedUnknown),
                      (f["value" + c[g - 1]] = m);
                  }
                  s.push(f);
                }
              }
              e.allData = s;
            } catch (e) {
              v.logger.exception("Binding", "Unable to update binding", e);
            }
          }),
          this.localisation.getLocalisedStrings().then(function (e) {
            v.localisedUnknown = e.getStringOrError("unknownValue");
          });
      };
      t.TableDataBindingHandler = n;
    }
  ),
  define(
    "HMIWeb/Source/Binding/PageEventBindingHandler",
    ["require", "exports", "knockout"],
    function (e, t, a) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = function (e) {
        var o = this;
        (this.logger = e),
          (this.init = function (e, t, n, i, r) {
            try {
              a.utils.registerEventHandler(
                e,
                "updateCustomProperties",
                function (e) {
                  var t;
                  (t =
                    null != e.originalEvent
                      ? e.originalEvent.detail
                      : e.detail),
                    i.updateCustomProperties(t);
                }
              ),
                a.utils.registerEventHandler(e, "refreshData", function (e) {
                  i.refreshData();
                });
            } catch (e) {
              o.logger.exception("Binding", "Unable to init binding", e);
            }
            return { controlsDescendantBindings: !0 };
          });
      };
      t.default = n;
    }
  ),
  define(
    "HMIWeb/Source/Binding/DragDropBindingHandler",
    ["require", "exports", "knockout"],
    function (e, t, u) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function s(e) {
          var a = this;
          (this.logger = e),
            (this.init = function (e, t, n, i, r) {
              try {
                var o = u.utils.unwrapObservable(t());
                if (
                  (null == o && null != i && (o = i),
                  !s.isContextProviderViewModel(o))
                )
                  throw new Error("view model is not a context provider");
                s.isDragSource(e)
                  ? e.registerDragContentCallback(function () {
                      return o.getContext();
                    })
                  : u.utils.registerEventHandler(e, "dragstart", function (e) {
                      var t = null == e.originalEvent ? e : e.originalEvent,
                        n = o.getContext();
                      null != n.format &&
                        (null == t.dataTransfer.setDragImage &&
                          ((n.data = { type: n.format, payload: n.data }),
                          (n.format = "Text")),
                        (t.dataTransfer.effectAllowed = "copy"),
                        t.dataTransfer.setData(
                          n.format,
                          JSON.stringify(n.data)
                        ));
                    });
              } catch (e) {
                a.logger.exception("Binding", "Unable to init binding", e);
              }
            });
        }
        return (
          (s.isContextProviderViewModel = function (e) {
            return e.isContextProviderViewModel;
          }),
          (s.isDragSource = function (e) {
            return void 0 !== e.registerDragContentCallback;
          }),
          s
        );
      })();
      t.default = n;
    }
  ),
  define(
    "HMIWeb/Source/Binding/ValueUpdateBindingHandler",
    ["require", "exports", "knockout"],
    function (e, t, u) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = function (e) {
        var s = this;
        (this.logger = e),
          (this.update = function (e, t, n, i, r) {
            try {
              var o = u.utils.unwrapObservable(t());
              if (void 0 !== o) {
                e.value = o;
                var a = new CustomEvent("update");
                e.dispatchEvent(a);
              }
            } catch (e) {
              s.logger.exception("Binding", "Unable to update binding", e);
            }
          });
      };
      t.default = n;
    }
  ),
  define(
    "HMIWeb/Source/Binding/LocalisedStringBinding",
    ["require", "exports", "knockout"],
    function (e, t, s) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = function (e, t) {
        var a = this;
        (this.logger = e),
          (this.localisationCache = t),
          (this.init = function (t, e, n, i, r) {
            try {
              var o = s.utils.unwrapObservable(e());
              a.localisationCache.getLocalisedStrings().then(function (e) {
                s.bindingHandlers.text.update(
                  t,
                  function () {
                    return e.getStringOrError(o);
                  },
                  n,
                  i,
                  r
                );
              });
            } catch (e) {
              a.logger.exception("Binding", "Unable to init binding", e);
            }
          });
      };
      t.default = n;
    }
  ),
  define(
    "HMIWeb/Source/Binding/LocalisedTitleBinding",
    ["require", "exports", "knockout"],
    function (e, t, s) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = function (e, t) {
        var a = this;
        (this.logger = e),
          (this.localisationCache = t),
          (this.init = function (t, e, n, i, r) {
            try {
              var o = s.utils.unwrapObservable(e());
              a.localisationCache.getLocalisedStrings().then(function (e) {
                s.bindingHandlers.attr.update(
                  t,
                  function () {
                    return { title: e.getStringOrError(o) };
                  },
                  n,
                  i,
                  r
                );
              });
            } catch (e) {
              a.logger.exception("Binding", "Unable to init binding", e);
            }
          });
      };
      t.default = n;
    }
  ),
  define(
    "HMIWeb/Source/Binding/ContextProviderCallbackHandler",
    ["require", "exports"],
    function (e, t) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function s(e) {
          var a = this;
          (this.logger = e),
            (this.init = function (e, t, n, i, r) {
              try {
                var o = (t ? t() : null) || i;
                if (!s.isContextProviderViewModel(o))
                  throw new Error("view model is not a context provider");
                if (s.isContextProviderElement(e))
                  throw new Error(
                    "element is already a context provider. Not attempting to override it"
                  );
                (e.isContextProviderElement = !0),
                  (e.getDataSourceContext = function () {
                    return o.getContext();
                  });
              } catch (e) {
                a.logger.exception("Binding", "Unable to init binding", e);
              }
            });
        }
        return (
          (s.isContextProviderViewModel = function (e) {
            return e.isContextProviderViewModel;
          }),
          (s.isContextProviderElement = function (e) {
            return e.isContextProviderElement;
          }),
          s
        );
      })();
      t.ContextProviderCallbackHandler = n;
    }
  ),
  define("knockoutKeySubkey", ["knockout"], function (e) {
    !(function (a, e) {
      var s = /([^\.]+)\.(.+)/;
      function n(e) {
        var t = e.match(s);
        if (t) {
          var n = t[1],
            i = a.bindingHandlers[n];
          if (i) {
            var r = t[2],
              o = (i.makeSubkeyHandler || u).call(i, n, r, e);
            return (
              (a.bindingHandlers[e] = o),
              a.bindingFreedom &&
                !a.bindingFreedom.isExcluded(n) &&
                a.bindingFreedom.include(e),
              o
            );
          }
        }
      }
      function u(r, o, e) {
        var t = a.utils.extend({}, this);
        function n(i) {
          t[i] &&
            (t[i] = function (e, t) {
              var n = Array.prototype.slice.call(arguments, 0);
              return (
                (n[1] = function () {
                  var e = {};
                  return (e[o] = t()), e;
                }),
                a.bindingHandlers[r][i].apply(this, n)
              );
            });
        }
        return (
          n("init"),
          n("update"),
          t.preprocess && (t.preprocess = null),
          a.virtualElements.allowedBindings[r] &&
            (a.virtualElements.allowedBindings[e] = !0),
          t
        );
      }
      function i(e) {
        if (e)
          for (var t in e) e.hasOwnProperty(t) && !a.bindingHandlers[t] && n(t);
        return e;
      }
      if (a.version[0] < 3) {
        var r = a.bindingProvider.instance.getBindings;
        a.bindingProvider.instance.getBindings = function (e, t) {
          return i(r.call(this, e, t));
        };
        var o = a.applyBindingsToNode,
          t = (function (e, t) {
            for (var n in e) if (e.hasOwnProperty(n) && e[n] === t) return n;
          })(a, o);
        a.applyBindingsToNode = a[t] = function (e, t, n) {
          o(e, i(t), n);
        };
      }
      var l =
        a.getBindingHandler ||
        function (e) {
          return a.bindingHandlers[e];
        };
      (a.getBindingHandler = function (e) {
        return l(e) || n(e);
      }),
        (a.keySubkeyBinding = { makeHandler: n });
    })(e);
  }),
  define(
    "HMIWeb/Source/Binding/InsightViewBindings",
    [
      "require",
      "exports",
      "./PropertyBindingHandler",
      "./RangeToAbsolutePositionConverter",
      "./RangeToGridLayoutConverter",
      "./RangeToRotationAngleConverter",
      "./ViewToViewBindingHandler",
      "./TrendDataBindingHandler",
      "./TableDataBindingHandler",
      "./PageEventBindingHandler",
      "./DragDropBindingHandler",
      "./ValueUpdateBindingHandler",
      "./LocalisedStringBinding",
      "./LocalisedTitleBinding",
      "./ContextProviderCallbackHandler",
      "knockoutKeySubkey",
    ],
    function (e, t, i, r, o, a, s, u, l, c, d, h, f, p, g) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function n(e, t) {
          (this.bindingClassDefinitions = {
            Tooltip: function (e) {
              var t = e.$data;
              if (!n.isTooltipViewModel(t))
                throw new Error("view model is not a tooltip view model");
              return { attr: { title: t.tooltip } };
            },
            ScalarValue: function (e) {
              var t = e.$data;
              if (!n.isScalarValueViewModel(t))
                throw new Error("view model is not a scalar value view model");
              return { valueUpdate: t.value };
            },
            ContextProvider: function (e) {
              var t = e.$data;
              return { dragSource: t, contextCallback: t };
            },
            Trend: function (e) {
              var t = e.$data;
              if (!n.isTrendViewModel(t))
                throw new Error("view model is not a trend view model");
              return {
                trendData: t.trendData,
                "prop.bindable.traceProperties": t.tracePropertiesObservable,
                "prop.bindable.trendProperties": t.trendProperties,
                "prop.bindable.timeWindow": t.timeWindow,
                "prop.bindable.hairlineTimes": t.hairlineTimes,
                "prop.bindable.hairlineIsPinned": t.hairlineIsPinned,
                "prop.bindable.primaryHairlineTime": t.primaryHairlineTime,
              };
            },
            Table: function (e) {
              var t = e.$data;
              if (!n.isTableViewModel(t))
                throw new Error("view model is not a table view model");
              return {
                tableData: t.tableData,
                "prop.bindable.tableProperties": t.tablePropertiesObservable,
                "prop.bindable.dataSetProperties":
                  t.datasetPropertiesObservable,
              };
            },
            Timecontrol: function (e) {
              var t = e.$data;
              if (!n.isTimeControlViewModel(t))
                throw new Error("view model is not a time control view model");
              return {
                "prop.bindable.timeWindowFromDataObject": t.visTimeWindow,
                "prop.bindable.hairlineTimesFromDataObject": t.visHairlines,
                "prop.bindable.currentTimeFromDataObject": t.visCurrentTime,
                "prop.viewModel": t,
                event: {
                  timeSettingFromPageChanged: t.onTimeSettingChangedFromElement,
                  timeWindowFromPageChanged: t.onTimeWindowChangedFromElement,
                  hairlineTimesFromPageChanged:
                    t.onHairlineTimesChangedFromElement,
                  currentTimeFromPageChanged: t.onCurrentTimeChangedFromElement,
                },
              };
            },
            Page: function (e) {
              return {
                "prop.customProperties.serverUpdate": e.$data.customProperties,
                pageEvents: null,
              };
            },
            ErrorIndication: function (e) {
              var t = e.$data;
              if (!n.isErrorIndicationViewModel(t))
                throw new Error(
                  "view model is not an error indication view model"
                );
              return {
                css: {
                  bad: 1 === t.runtimeStatus(),
                  "no-data": 2 === t.runtimeStatus(),
                  "low-conf": 3 === t.runtimeStatus(),
                },
              };
            },
            DynamicVisualisation: function (e) {
              var t = e.$data;
              if (!n.isDynamicVisualisationViewModel(t))
                throw new Error(
                  "view model is not a dynamic visualisation view model"
                );
              return {
                css: {
                  dv0: 0 === t.dynamicVizualizationIndex(),
                  dv1: 1 === t.dynamicVizualizationIndex(),
                  dv2: 2 === t.dynamicVizualizationIndex(),
                  dv3: 3 === t.dynamicVizualizationIndex(),
                  dv4: 4 === t.dynamicVizualizationIndex(),
                  dv5: 5 === t.dynamicVizualizationIndex(),
                  dv6: 6 === t.dynamicVizualizationIndex(),
                  dv7: 7 === t.dynamicVizualizationIndex(),
                  dv8: 8 === t.dynamicVizualizationIndex(),
                  dv9: 9 === t.dynamicVizualizationIndex(),
                  dv10: 10 === t.dynamicVizualizationIndex(),
                  dv11: 11 === t.dynamicVizualizationIndex(),
                  dv12: 12 === t.dynamicVizualizationIndex(),
                  dv13: 13 === t.dynamicVizualizationIndex(),
                  dv14: 14 === t.dynamicVizualizationIndex(),
                  dv15: 15 === t.dynamicVizualizationIndex(),
                  dv16: 16 === t.dynamicVizualizationIndex(),
                },
              };
            },
          }),
            (this.customBindings = {
              prop: new i.default(t),
              valueUpdate: new h.default(t),
              viewToView: new s(t),
              rangeToGridLayoutConverter: new o(t),
              rangeToAbsolutePositionConverter: new r(t),
              rangeToRotationAngleConverter: new a(t),
              trendData: new u.default(t),
              tableData: new l.TableDataBindingHandler(t, e),
              pageEvents: new c.default(t),
              dragSource: new d.default(t),
              contextCallback: new g.ContextProviderCallbackHandler(t),
              localisedString: new f.default(t, e),
              localisedTitle: new p.default(t, e),
            });
        }
        return (
          (n.isTooltipViewModel = function (e) {
            return e.isTooltipViewModel;
          }),
          (n.isScalarValueViewModel = function (e) {
            return e.isScalarValueViewModel;
          }),
          (n.isDynamicVisualisationViewModel = function (e) {
            return e.isDynamicVisualisationViewModel;
          }),
          (n.isErrorIndicationViewModel = function (e) {
            return e.isErrorIndicationViewModel;
          }),
          (n.isTimeControlViewModel = function (e) {
            return e.isTimeControlViewModel;
          }),
          (n.isTableViewModel = function (e) {
            return e.isTableViewModel;
          }),
          (n.isTrendViewModel = function (e) {
            return e.isTrendViewModel;
          }),
          n
        );
      })();
      t.InsightViewBindings = n;
    }
  ),
  define(
    "HMIWeb/Source/ViewModels/TrendViewModel",
    ["require", "exports"],
    function (e, t) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function e(e, t, n, p, g) {
          var i,
            m = this;
          (this.isTrendViewModel = !0),
            (this.dataLayer = p),
            (this.logger = t),
            (this.trendDataObjectKey = n),
            (this.name = "[TR-VM-" + e + "]"),
            (this.hairlineIsPinned = g.observable()),
            (this.viewIdToDataObjectKeyMap = {}),
            (this.subscriptionHelper = p.createSubscriptionHelper()),
            (i = p.use(function (e, t) {
              var n,
                i = p.createSettingBatch({
                  startTimeMs: t.startTimeMs,
                  endTimeMs: t.endTimeMs,
                  isZoomed: t.isZoomed,
                  unzoomStartTimeMs: t.unzoomStartTimeMs,
                  unzoomEndTimeMs: t.unzoomEndTimeMs,
                }),
                r = (n = t.parent) && 4 === n.type ? t.parent : null,
                o = g.observable(t.trendData.value);
              m.subscriptionHelper.subscribe(t.trendData, function (e) {
                return o(e);
              });
              var a = g.observable(t.traceProperties.value);
              m.subscriptionHelper.subscribe(t.traceProperties, function (e) {
                return a(e);
              });
              var s = g.observable(t.trendProperties.value);
              m.subscriptionHelper.subscribe(t.trendProperties, function (e) {
                return s(e);
              });
              var u = t.childObjectIds.value;
              null != u && m.updateViewIdToDataObjectKeyMap(e, u);
              var l,
                c,
                d = g.observable(m.getTimeWindowFromRawSettings(i.value));
              if (
                (m.subscriptionHelper.subscribe(i, function (e) {
                  return d(m.getTimeWindowFromRawSettings(e));
                }),
                null != r)
              ) {
                var h = e.getDataObjectByKey(r),
                  f = p.createSettingBatch({
                    currentTimeConfigurationMode:
                      h.currentTimeConfigurationMode,
                    currentTimeConfigurationFixedValueMs:
                      h.currentTimeConfigurationFixedValueMs,
                    hairlineTimesMs: h.hairlineTimesMs,
                  });
                (l = g.observable(
                  m.getHairlineObservableValueFromHairlineSettings(f.value)
                )),
                  (c = g.observable(
                    m.getPrimaryHairlineTimeFromHairlineSettings(f.value)
                  )),
                  m.subscriptionHelper.subscribe(f, function (e, t) {
                    m.logger.debug(
                      "Binding",
                      m.name +
                        " Got " +
                        (void 0 === t.currentTimeConfigurationFixedValueMs
                          ? "an unchanged"
                          : "a new") +
                        " primary hairline, " +
                        (void 0 === t.currentTimeConfigurationMode
                          ? "an unchanged"
                          : "a new") +
                        " current time mode and " +
                        (void 0 === t.hairlineTimesMs
                          ? "unchanged"
                          : "modified") +
                        " secondary hairline(s) from " +
                        h.name
                    ),
                      l(m.getHairlineObservableValueFromHairlineSettings(e)),
                      c(m.getPrimaryHairlineTimeFromHairlineSettings(e));
                  });
              } else (c = g.observable()), (l = g.observable([]));
              return [r, o, a, s, d, c, l];
            }, n)),
            (this.timeDataObjectKey = i[0]),
            (this.trendData = i[1]),
            (this.tracePropertiesObservable = i[2]),
            (this.trendProperties = i[3]),
            (this.timeWindow = i[4]),
            (this.primaryHairlineTime = i[5]),
            (this.hairlineTimes = i[6]);
        }
        return (
          (e.prototype.getHairlineObservableValueFromHairlineSettings =
            function (e) {
              var t =
                this.getTimeDataObjectSecondaryHairlinesFromHairlineSettings(e);
              return (
                1 === e.currentTimeConfigurationMode &&
                  t.push(e.currentTimeConfigurationFixedValueMs),
                t.map(function (e) {
                  return new Date(e);
                })
              );
            }),
          (e.prototype.getPrimaryHairlineTimeFromHairlineSettings = function (
            e
          ) {
            return 1 === e.currentTimeConfigurationMode
              ? new Date(e.currentTimeConfigurationFixedValueMs)
              : null;
          }),
          (e.prototype.updateViewIdToDataObjectKeyMap = function (e, t) {
            for (var n = 0; n < t.length; n++) {
              var i = t[n],
                r = e.getDataObjectById(i),
                o = r.id;
              if (null != this.viewIdToDataObjectKeyMap[o])
                throw new Error(
                  "Error attempting to add a new trace to an existing position"
                );
              var a = r.key;
              this.viewIdToDataObjectKeyMap[o] = a;
            }
          }),
          (e.prototype.hairlineAddedFromTrend = function (e, t) {
            t
              ? this.addPrimaryHairline(e.getTime())
              : this.addSecondaryHairline(e.getTime());
          }),
          (e.prototype.hairlineRemovedFromTrend = function (e, t) {
            t
              ? this.removePrimaryHairline(e.getTime())
              : this.removeSecondaryHairline(e.getTime());
          }),
          (e.prototype.hairlineMovedFromTrend = function (e, t, n) {
            n
              ? this.movePrimaryHairline(e.getTime(), t.getTime())
              : this.moveSecondaryHairline(e.getTime(), t.getTime());
          }),
          (e.prototype.addPrimaryHairline = function (r) {
            var o = this;
            null != this.timeDataObjectKey &&
              (this.logger.debug(
                "Binding",
                this.name +
                  " Primary hairline added at " +
                  r +
                  ". Pushing to " +
                  this.timeDataObjectKey.name
              ),
              this.dataLayer.use(
                function (e, t, n) {
                  var i = o.getTimeDataObjectSecondaryHairlines(t);
                  1 === t.currentTimeConfigurationMode.value &&
                    i.push(t.currentTimeConfigurationFixedValueMs.value),
                    t.setHairlines(i),
                    t.setCurrentTime(r);
                },
                this.timeDataObjectKey,
                this.trendDataObjectKey
              ));
          }),
          (e.prototype.addSecondaryHairline = function (r) {
            var o = this;
            null != this.timeDataObjectKey &&
              (this.logger.debug(
                "Binding",
                this.name +
                  " Secondary hairline added at " +
                  r +
                  ". Pushing to " +
                  this.timeDataObjectKey.name
              ),
              this.dataLayer.use(
                function (e, t, n) {
                  var i = o.getTimeDataObjectSecondaryHairlines(t);
                  i.push(r), t.setHairlines(i);
                },
                this.timeDataObjectKey,
                this.trendDataObjectKey
              ));
          }),
          (e.prototype.removePrimaryHairline = function (o) {
            var a = this;
            null != this.timeDataObjectKey &&
              (this.logger.debug(
                "Binding",
                this.name +
                  " Primary hairline " +
                  o +
                  " removed. Pushing to " +
                  this.timeDataObjectKey.name
              ),
              this.dataLayer.use(
                function (e, t, n) {
                  if (1 !== t.currentTimeConfigurationMode.value)
                    throw new Error(
                      a.name +
                        " Current time was not previously an absolute value"
                    );
                  if (t.currentTimeConfigurationFixedValueMs.value !== o)
                    throw new Error(
                      a.name +
                        " Current time does not match the primary hairline being removed"
                    );
                  var i = a.getTimeDataObjectSecondaryHairlines(t);
                  if (0 < i.length) {
                    var r = i.splice(0, 1)[0];
                    t.setHairlines(i), t.setCurrentTime(r);
                  } else t.setHairlines(i), t.pegCurrentTimeAsEndTime();
                },
                this.timeDataObjectKey,
                this.trendDataObjectKey
              ));
          }),
          (e.prototype.removeSecondaryHairline = function (o) {
            var a = this;
            null != this.timeDataObjectKey &&
              (this.logger.debug(
                "Binding",
                this.name +
                  " Secondary hairline " +
                  o +
                  " removed. Pushing to " +
                  this.timeDataObjectKey.name
              ),
              this.dataLayer.use(
                function (e, t, n) {
                  var i = a.getTimeDataObjectSecondaryHairlines(t),
                    r = i.indexOf(o);
                  if (-1 === r)
                    throw new Error(
                      a.name +
                        " Cannot remove hairline. Time " +
                        o +
                        " was not found in stored array"
                    );
                  i.splice(r, 1), t.setHairlines(i);
                },
                this.timeDataObjectKey,
                this.trendDataObjectKey
              ));
          }),
          (e.prototype.movePrimaryHairline = function (i, r) {
            var o = this;
            null != this.timeDataObjectKey &&
              (this.logger.debug(
                "Binding",
                this.name +
                  " Primary hairline changed from " +
                  i +
                  " to " +
                  r +
                  ". Pushing to " +
                  this.timeDataObjectKey.name
              ),
              this.dataLayer.use(
                function (e, t, n) {
                  if (1 !== t.currentTimeConfigurationMode.value)
                    throw new Error(
                      o.name +
                        " Current time was not previously an absolute value"
                    );
                  if (t.currentTimeConfigurationFixedValueMs.value !== i)
                    throw new Error(
                      o.name +
                        " Current time does not match the primary hairline being moved"
                    );
                  t.setHairlines(o.getTimeDataObjectSecondaryHairlines(t)),
                    t.setCurrentTime(r);
                },
                this.timeDataObjectKey,
                this.trendDataObjectKey
              ));
          }),
          (e.prototype.moveSecondaryHairline = function (o, a) {
            var s = this;
            null != this.timeDataObjectKey &&
              (this.logger.debug(
                "Binding",
                this.name +
                  " Secondary hairline changed from " +
                  o +
                  " to " +
                  a +
                  ". Pushing to " +
                  this.timeDataObjectKey.name
              ),
              this.dataLayer.use(
                function (e, t, n) {
                  var i = s.getTimeDataObjectSecondaryHairlines(t),
                    r = i.indexOf(o);
                  if (-1 === r)
                    throw new Error(
                      s.name +
                        " Cannot move hairline. Time not found in stored array"
                    );
                  (i[r] = a), t.setHairlines(i);
                },
                this.timeDataObjectKey,
                this.trendDataObjectKey
              ));
          }),
          (e.prototype.primaryHairlineChangedFromTrend = function (e) {
            var a = this;
            if (null != this.timeDataObjectKey) {
              var s = e.getTime(),
                u = s;
              this.logger.debug(
                "Binding",
                this.name +
                  " Hairline at " +
                  s +
                  " promoted to primary. Pushing to " +
                  this.timeDataObjectKey.name
              ),
                this.dataLayer.use(
                  function (e, t, n) {
                    var i = a.getTimeDataObjectSecondaryHairlines(t),
                      r = i.indexOf(u);
                    if (-1 === r)
                      throw new Error(
                        a.name + " Old hairline " + u + " could not be found"
                      );
                    if (1 === t.currentTimeConfigurationMode.value) {
                      var o = t.currentTimeConfigurationFixedValueMs.value;
                      i[r] = o;
                    } else i.splice(r, 1);
                    t.setHairlines(i), t.setCurrentTime(s);
                  },
                  this.timeDataObjectKey,
                  this.trendDataObjectKey
                );
            }
          }),
          (e.prototype.hairlinePinnedFromTrend = function (e, t) {}),
          (e.prototype.updateTimeWindowFromPage = function (n, i, r, o, a) {
            this.dataLayer.use(function (e, t) {
              t.updateTimeWindowFromPage(n, i, r, o, a);
            }, this.trendDataObjectKey);
          }),
          (e.prototype.updateWindowWidth = function (n) {
            this.dataLayer.use(function (e, t) {
              t.updateWindowWidth(n);
            }, this.trendDataObjectKey);
          }),
          (e.prototype.addTraces = function (a) {
            var s = this;
            this.dataLayer.use(function (e, t) {
              for (var n = [], i = 0; i < a.length; i++) {
                var r = a[i],
                  o = e.createTimeSeriesDataObject({
                    parentId: t.key.id,
                    traceId: r.id,
                  });
                n.push(o.serverId),
                  o.configure(
                    r.name,
                    r.tagSource,
                    r.aggregate,
                    r.sampleInterval,
                    r.units
                  );
              }
              s.updateViewIdToDataObjectKeyMap(e, n);
            }, this.trendDataObjectKey);
          }),
          (e.prototype.configureTrace = function (e, n, i, r, o, a) {
            this.dataLayer.use(function (e, t) {
              t.configure(n, i, r, o, a);
            }, this.viewIdToDataObjectKeyMap[e]);
          }),
          (e.prototype.deleteTrace = function (t) {
            var n = this;
            this.dataLayer.use(function (e) {
              e.deleteDataObjectByKey(n.viewIdToDataObjectKeyMap[t]);
            }),
              delete this.viewIdToDataObjectKeyMap[t];
          }),
          (e.prototype.getTimeDataObjectSecondaryHairlines = function (e) {
            return this.getTimeDataObjectSecondaryHairlinesFromSettings(
              e.hairlineTimesMs.value,
              e.currentTimeConfigurationMode.value,
              e.currentTimeConfigurationFixedValueMs.value
            );
          }),
          (e.prototype.getTimeDataObjectSecondaryHairlinesFromHairlineSettings =
            function (e) {
              return this.getTimeDataObjectSecondaryHairlinesFromSettings(
                e.hairlineTimesMs,
                e.currentTimeConfigurationMode,
                e.currentTimeConfigurationFixedValueMs
              );
            }),
          (e.prototype.getTimeDataObjectSecondaryHairlinesFromSettings =
            function (e, t, n) {
              if (null == e) return [];
              if (((e = e.slice()), 1 !== t)) return e;
              for (var i = 0; i < e.length; i++)
                if (e[i] === n) {
                  e.splice(i, 1);
                  break;
                }
              return e;
            }),
          (e.prototype.getTimeWindowFromRawSettings = function (e) {
            return {
              start: new Date(e.startTimeMs),
              end: new Date(e.endTimeMs),
              isZoomed: e.isZoomed,
              resetStart:
                null === e.unzoomStartTimeMs
                  ? null
                  : new Date(e.unzoomStartTimeMs),
              resetEnd:
                null === e.unzoomEndTimeMs ? null : new Date(e.unzoomEndTimeMs),
            };
          }),
          (e.prototype.dispose = function () {
            this.logger.debug("Binding", name + " is being disposed"),
              this.subscriptionHelper.unsubscribeAll();
          }),
          e
        );
      })();
      t.TrendViewModel = n;
    }
  ),
  define(
    "HMIWeb/Source/ViewModels/TableViewModel",
    ["require", "exports"],
    function (e, t) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function e(e, t, n, l, c) {
          var i,
            d = this;
          (this.isTableViewModel = !0),
            (this.logger = t),
            (this.name = "[TR-VM-" + e + "]"),
            (this.tableDataObjectKey = n),
            (this.dataLayer = l),
            (this.viewIdToDataObjectKeyMap = {}),
            (this.subscriptionHelper = l.createSubscriptionHelper()),
            (i = l.use(function (e, t) {
              var n,
                i = t.parent;
              if (!(n = i) || 4 !== n.type)
                throw new Error(
                  "A table data object must have a time data object parent to supply times"
                );
              var r = e.getDataObjectByKey(i),
                o = c.observable(t.tableProperties.value);
              d.subscriptionHelper.subscribe(t.tableProperties, function (e) {
                d.logger.debug(
                  "Binding",
                  d.name +
                    " Table properties change from " +
                    t.name +
                    ". Pushing to element"
                ),
                  d.tablePropertiesObservable(e);
              });
              var a = c.observable(t.datasetProperties.value);
              d.subscriptionHelper.subscribe(t.datasetProperties, function (e) {
                d.logger.debug(
                  "Binding",
                  d.name +
                    " Data set properties change from " +
                    t.name +
                    ". Pushing to element"
                ),
                  d.datasetPropertiesObservable(e);
              });
              var s = l.createSettingBatch({
                  startTimeMs: r.startTimeMs,
                  endTimeMs: r.endTimeMs,
                  tableData: t.tableData,
                }),
                u = c.observable(s.value);
              return (
                d.subscriptionHelper.subscribe(s, function (e) {
                  d.logger.debug(
                    "Binding",
                    d.name +
                      " Table data change from " +
                      t.name +
                      "/" +
                      r.name +
                      ". Pushing to element"
                  ),
                    d.tableData(e);
                }),
                [o, a, u]
              );
            }, n)),
            (this.tablePropertiesObservable = i[0]),
            (this.datasetPropertiesObservable = i[1]),
            (this.tableData = i[2]);
        }
        return (
          (e.prototype.addDatasets = function (o) {
            var a = this;
            this.dataLayer.use(function (e, t) {
              for (var n = 0; n < o.length; n++) {
                var i = o[n],
                  r = e.createTimeSeriesDataObject({
                    parentId: t.key.id,
                    traceId: i.id,
                  });
                if (
                  (r.configure(
                    i.name,
                    i.tagSource,
                    i.aggregate,
                    i.sampleInterval,
                    i.units
                  ),
                  null != a.viewIdToDataObjectKeyMap[r.id])
                )
                  throw new Error(
                    "Error attempting to add a new data object to an existing position"
                  );
                a.viewIdToDataObjectKeyMap[r.id] = r.key;
              }
            }, this.tableDataObjectKey);
          }),
          (e.prototype.removeDataset = function (t) {
            var n = this;
            this.dataLayer.use(function (e) {
              e.deleteDataObjectByKey(n.viewIdToDataObjectKeyMap[t]);
            }),
              delete this.viewIdToDataObjectKeyMap[t];
          }),
          (e.prototype.configureDataset = function (e, n, i, r, o, a) {
            this.dataLayer.use(function (e, t) {
              t.configure(n, i, r, o, a);
            }, this.viewIdToDataObjectKeyMap[e]);
          }),
          (e.prototype.getNonSparseChildIds = function () {
            return this.dataLayer.use(function (e, t) {
              return t.getNonSparseChildIds();
            }, this.tableDataObjectKey);
          }),
          (e.prototype.dispose = function () {
            this.logger.debug("Binding", name + " is being disposed"),
              this.subscriptionHelper.unsubscribeAll();
          }),
          e
        );
      })();
      t.TableViewModel = n;
    }
  ),
  define(
    "HMIWeb/Source/ViewModels/GenericViewModel",
    ["require", "exports"],
    function (e, t) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function e(e, t, n, i, r) {
          (this.isDynamicVisualisationViewModel = !0),
            (this.isErrorIndicationViewModel = !0),
            (this.isTooltipViewModel = !0),
            (this.isScalarValueViewModel = !0),
            (this.isContextProviderViewModel = !0),
            (this.logger = t),
            (this.genericDataObjectKey = n),
            (this.ko = r),
            (this.name = "[G-VM-" + e + "]"),
            (this.dataLayer = i),
            (this.subscriptionHelper = i.createSubscriptionHelper());
        }
        return (
          (e.prototype.getContext = function () {
            return this.dataLayer.use(function (e, t) {
              return {
                data: {
                  Name: t.itemName.value,
                  Server: t.tagSource.value,
                  aggregate: t.aggregate.value,
                  sampleInterval: t.sampleInterval.value,
                  requestUnits: t.requestUnits.value,
                },
                format: "common_tag",
              };
            }, this.genericDataObjectKey);
          }),
          Object.defineProperty(e.prototype, "value", {
            get: function () {
              var i = this;
              return (
                void 0 === this.valueField &&
                  (this.valueField = this.dataLayer.use(function (e, t) {
                    var n = i.ko.observable(t.value.value);
                    return (
                      i.subscriptionHelper.subscribe(t.value, function (e) {
                        return n(e);
                      }),
                      n
                    );
                  }, this.genericDataObjectKey)),
                this.valueField
              );
            },
            enumerable: !0,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "tooltip", {
            get: function () {
              var i = this;
              return (
                void 0 === this.tooltipField &&
                  (this.tooltipField = this.dataLayer.use(function (e, t) {
                    var n = i.ko.observable(t.tooltip.value);
                    return (
                      i.subscriptionHelper.subscribe(t.tooltip, function (e) {
                        return n(e);
                      }),
                      n
                    );
                  }, this.genericDataObjectKey)),
                this.tooltipField
              );
            },
            enumerable: !0,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "runtimeStatus", {
            get: function () {
              var i = this;
              return (
                void 0 === this.runtimeStatusField &&
                  (this.runtimeStatusField = this.dataLayer.use(function (
                    e,
                    t
                  ) {
                    var n = i.ko.observable(t.runtimeStatus.value);
                    return (
                      i.subscriptionHelper.subscribe(
                        t.runtimeStatus,
                        function (e) {
                          return n(e);
                        }
                      ),
                      n
                    );
                  },
                  this.genericDataObjectKey)),
                this.runtimeStatusField
              );
            },
            enumerable: !0,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "dynamicVizualizationIndex", {
            get: function () {
              var i = this;
              return (
                void 0 === this.dynamicVizualizationIndexField &&
                  (this.dynamicVizualizationIndexField = this.dataLayer.use(
                    function (e, t) {
                      var n = i.ko.observable(
                        t.dynamicVizualizationIndex.value
                      );
                      return (
                        i.subscriptionHelper.subscribe(
                          t.dynamicVizualizationIndex,
                          function (e) {
                            return n(e);
                          }
                        ),
                        n
                      );
                    },
                    this.genericDataObjectKey
                  )),
                this.dynamicVizualizationIndexField
              );
            },
            enumerable: !0,
            configurable: !0,
          }),
          (e.prototype.dispose = function () {
            this.logger.debug("Binding", name + " is being disposed"),
              this.subscriptionHelper.unsubscribeAll();
          }),
          e
        );
      })();
      t.GenericViewModel = n;
    }
  ),
  define(
    "HMIWeb/Source/ViewModels/TimeControlViewModel",
    ["require", "exports", "signals"],
    function (e, t, r) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function e(e, t, n, a, s) {
          var i,
            u = this;
          (this.isTimeControlViewModel = !0),
            (this.ignoreCallBackToVisualizationObservables = !1),
            (this.name = "[TC-VM-" + e + "]"),
            (this.logger = t),
            (this.timeDataObjectKey = n),
            (this.dataLayer = a),
            (this.visTimeWindow = s.observable(null)),
            (this.onStartEndOrCurrentChanged = new r.Signal()),
            (this.subscriptionHelper = a.createSubscriptionHelper()),
            (i = this.dataLayer.use(function (e, t) {
              var n = a.createSettingBatch({
                  currentTimeConfigurationFixedValueMs:
                    t.currentTimeConfigurationFixedValueMs,
                  currentTimeConfigurationMode: t.currentTimeConfigurationMode,
                }),
                i = a.createSettingBatch({
                  startTimeMs: t.startTimeMs,
                  endTimeMs: t.endTimeMs,
                  currentTimeMs: t.currentTimeMs,
                }),
                r = s.observable(c(t.hairlineTimesMs.value));
              u.subscriptionHelper.subscribe(t.hairlineTimesMs, function (e) {
                return u.onHairlinesChangedFromDataObject(c(e));
              });
              var o = s.observable(l(n.value));
              return (
                u.subscriptionHelper.subscribe(n, function (e) {
                  return u.onCurrentTimeChangedFromDataObject(l(e));
                }),
                u.subscriptionHelper.subscribe(i, function () {
                  return u.onStartEndOrCurrentChanged.dispatch();
                }),
                [r, o]
              );
            }, this.timeDataObjectKey)),
            (this.visHairlines = i[0]),
            (this.visCurrentTime = i[1]);
        }
        return (
          (e.prototype.onTimeWindowChangedFromElement = function (e, t) {
            var n = this,
              i = a(s(t));
            this.logger.debug(
              "Binding",
              "Time window " + this.name + " to " + this.timeDataObjectKey.name
            ),
              this.updateAsBatchNoRecurse(function () {
                n.dataLayer.use(function (e, t) {
                  t.setStartTime(i.start),
                    t.setEndTime(i.end),
                    t.setResetStartTime(i.resetStart),
                    t.setResetEndTime(i.resetEnd),
                    null !== i.isZoomed && t.setIsZoomed(i.isZoomed);
                }, n.timeDataObjectKey);
              });
          }),
          (e.prototype.onHairlineTimesChangedFromElement = function (e, t) {
            var n = this,
              i = a(s(t));
            this.logger.debug(
              "Binding",
              "Hairlines " + this.name + " to " + this.timeDataObjectKey.name
            ),
              this.updateAsBatchNoRecurse(function () {
                n.dataLayer.use(function (e, t) {
                  t.setHairlines(i);
                }, n.timeDataObjectKey);
              });
          }),
          (e.prototype.onCurrentTimeChangedFromElement = function (e, t) {
            var n = this,
              i = a(s(t));
            this.logger.debug(
              "Binding",
              "Current time " + this.name + " to " + this.timeDataObjectKey.name
            ),
              this.updateAsBatchNoRecurse(function () {
                n.dataLayer.use(function (e, t) {
                  -864e13 === i.getTime()
                    ? t.pegCurrentTimeAsEndTime()
                    : t.setCurrentTime(i);
                }, n.timeDataObjectKey);
              });
          }),
          (e.prototype.onTimeSettingChangedFromElement = function (e, t) {
            var n = this,
              i = a(s(t));
            this.logger.debug(
              "Binding",
              "Settings " + this.name + " to " + this.timeDataObjectKey.name
            ),
              this.updateAsBatchNoRecurse(function () {
                n.dataLayer.use(function (e, t) {
                  null != i.currentTime &&
                    (-864e13 === i.currentTime.getTime()
                      ? t.pegCurrentTimeAsEndTime()
                      : t.setCurrentTime(i.currentTime)),
                    t.setStartTime(i.start),
                    t.setEndTime(i.end),
                    t.setResetStartTime(i.resetStart),
                    t.setResetEndTime(i.resetEnd),
                    null != i.isZoomed && t.setIsZoomed(i.isZoomed),
                    t.setHairlines(i.referenceTimes);
                }, n.timeDataObjectKey);
              });
          }),
          (e.prototype.afterDataBound = function () {
            var i = this;
            this.dataLayer.use(function (e, t) {
              var n = i.dataLayer.createSettingBatch({
                startTimeMs: t.startTimeMs,
                endTimeMs: t.endTimeMs,
                isZoomed: t.isZoomed,
                unzoomStartTimeMs: t.unzoomStartTimeMs,
                unzoomEndTimeMs: t.unzoomEndTimeMs,
              });
              i.subscriptionHelper.subscribe(n, function (e) {
                return i.onTimeWindowChangedFromDataObject(o(e));
              }),
                i.visTimeWindow(o(n.value));
            }, this.timeDataObjectKey);
          }),
          (e.prototype.onHairlinesChangedFromDataObject = function (e) {
            this.ignoreCallBackToVisualizationObservables ||
              (this.logger.debug(
                "Binding",
                "Hairlines " + this.timeDataObjectKey.name + " to " + this.name
              ),
              this.visHairlines(e));
          }),
          (e.prototype.onCurrentTimeChangedFromDataObject = function (e) {
            this.ignoreCallBackToVisualizationObservables ||
              (this.logger.debug(
                "Binding",
                "Current time " +
                  this.timeDataObjectKey.name +
                  " to " +
                  this.name
              ),
              this.visCurrentTime(e));
          }),
          (e.prototype.onTimeWindowChangedFromDataObject = function (e) {
            this.ignoreCallBackToVisualizationObservables ||
              (this.logger.debug(
                "Binding",
                "Time window " +
                  this.timeDataObjectKey.name +
                  " to " +
                  this.name
              ),
              this.visTimeWindow(e));
          }),
          (e.prototype.updateAsBatchNoRecurse = function (e) {
            try {
              (this.ignoreCallBackToVisualizationObservables = !0), e();
            } finally {
              this.ignoreCallBackToVisualizationObservables = !1;
            }
          }),
          Object.defineProperty(e.prototype, "startTimeFromScript", {
            get: function () {
              return this.dataLayer.use(function (e, t) {
                var n = t.startTimeMs.value;
                return null != n ? new Date(n) : null;
              }, this.timeDataObjectKey);
            },
            set: function (n) {
              this.logger.debug(
                "Binding",
                "startTimeFromScript '" +
                  (n && n.toISOString()) +
                  "' from " +
                  this.name +
                  " to " +
                  this.timeDataObjectKey.name
              ),
                this.dataLayer.use(function (e, t) {
                  t.setStartTime(n);
                }, this.timeDataObjectKey);
            },
            enumerable: !0,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "endTimeFromScript", {
            get: function () {
              return this.dataLayer.use(function (e, t) {
                var n = t.endTimeMs.value;
                return null != n ? new Date(n) : null;
              }, this.timeDataObjectKey);
            },
            set: function (n) {
              this.logger.debug(
                "Binding",
                "endTimeFromScript '" +
                  (n && n.toISOString()) +
                  "' from " +
                  this.name +
                  " to " +
                  this.timeDataObjectKey.name
              ),
                this.dataLayer.use(function (e, t) {
                  t.setEndTime(n);
                }, this.timeDataObjectKey);
            },
            enumerable: !0,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "currentTimeFromScript", {
            get: function () {
              return this.dataLayer.use(function (e, t) {
                var n = t.currentTimeMs.value;
                return null != n ? new Date(n) : null;
              }, this.timeDataObjectKey);
            },
            set: function (n) {
              this.logger.debug(
                "Binding",
                "currentTimeFromScript '" +
                  (n && n.toISOString()) +
                  "' from " +
                  this.name +
                  " to " +
                  this.timeDataObjectKey.name
              ),
                this.dataLayer.use(function (e, t) {
                  t.setCurrentTime(n);
                }, this.timeDataObjectKey);
            },
            enumerable: !0,
            configurable: !0,
          }),
          (e.prototype.setTimeWindowFromScript = function (n, i) {
            this.logger.debug(
              "Binding",
              "setTimeWindowFromScript '" +
                (n && n.toISOString()) +
                "' to '" +
                (i && i.toISOString()) +
                "' from " +
                this.name +
                " to " +
                this.timeDataObjectKey.name
            ),
              this.dataLayer.use(function (e, t) {
                t.setStartTime(n), t.setEndTime(i);
              }, this.timeDataObjectKey);
          }),
          (e.prototype.getTimeWindowFromScript = function () {
            return this.dataLayer.use(function (e, t) {
              var n = t.startTimeMs.value,
                i = t.endTimeMs.value;
              return [
                null != n ? new Date(n) : null,
                null != i ? new Date(i) : null,
              ];
            }, this.timeDataObjectKey);
          }),
          (e.prototype.setAggregateFromScript = function (n) {
            return this.dataLayer.use(function (e, t) {
              t.setAggregate(n);
            }, this.timeDataObjectKey);
          }),
          (e.prototype.setResampleIntervalFromScript = function (n) {
            return this.dataLayer.use(function (e, t) {
              t.setResampleInterval(n);
            }, this.timeDataObjectKey);
          }),
          (e.prototype.setTagSourceNameFromScript = function (n) {
            return this.dataLayer.use(function (e, t) {
              t.setTagSourceName(n);
            }, this.timeDataObjectKey);
          }),
          (e.prototype.pegCurrentTimeToEndTimeFromScript = function () {
            return this.dataLayer.use(function (e, t) {
              t.pegCurrentTimeAsEndTime();
            }, this.timeDataObjectKey);
          }),
          (e.prototype.dispose = function () {
            this.logger.debug("Binding", name + " is being disposed"),
              this.subscriptionHelper.unsubscribeAll();
          }),
          e
        );
      })();
      function o(e) {
        return {
          start: null === e.startTimeMs ? null : new Date(e.startTimeMs),
          end: null === e.endTimeMs ? null : new Date(e.endTimeMs),
          isZoomed: e.isZoomed,
          resetStart:
            null === e.unzoomStartTimeMs ? null : new Date(e.unzoomStartTimeMs),
          resetEnd:
            null === e.unzoomEndTimeMs ? null : new Date(e.unzoomEndTimeMs),
        };
      }
      function l(e) {
        return 2 === e.currentTimeConfigurationMode
          ? new Date(-864e13)
          : null === e.currentTimeConfigurationFixedValueMs
          ? null
          : new Date(e.currentTimeConfigurationFixedValueMs);
      }
      function c(e) {
        return null === e
          ? null
          : e.map(function (e) {
              return new Date(e);
            });
      }
      function a(e) {
        if (void 0 === e.detail)
          throw new Error("the given event is not a UI Event");
        return e.detail;
      }
      function s(e) {
        return "object" == typeof e.originalEvent ? e.originalEvent : e;
      }
      t.TimeControlViewModel = n;
    }
  ),
  define(
    "HMIWeb/Source/ViewModels/ContainerViewModel",
    ["require", "exports", "./GenericViewModel"],
    function (e, t, h) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function e(s, u, e, l, c) {
          var d = this;
          (this.name = "[CO-VM-" + s + "]"),
            (this.logger = u),
            (this.genericViewModels = l.use(function (e, t) {
              for (
                var n = t.getChildren(), i = new Array(), r = 0;
                r < n.length;
                r++
              ) {
                var o = e.getDataObjectByKey(n[r]);
                if (null != o.role.value && void 0 === d[o.role.value]) {
                  var a = new h.GenericViewModel(s, u, o.key, l, c);
                  Object.defineProperty(d, o.role.value, { value: a }),
                    i.push(a);
                }
              }
              return i;
            }, e));
        }
        return (
          (e.prototype.dispose = function () {
            this.logger.debug("Binding", name + " is being disposed"),
              this.genericViewModels.forEach(function (e) {
                return e.dispose();
              });
          }),
          e
        );
      })();
      t.ContainerViewModel = n;
    }
  ),
  define(
    "HMIWeb/Source/ViewModels/PageViewModel",
    ["require", "exports"],
    function (e, t) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function e(e, t, n, i, r) {
          var o = this;
          (this.logger = t),
            (this.pageDataObjectKey = n),
            (this.dataLayer = i),
            (this.name = "[P-VM-" + e + "]"),
            (this.subscriptionHelper = i.createSubscriptionHelper()),
            (this.customProperties = this.dataLayer.use(function (e, t) {
              var n = r.observable(t.customProperties.value);
              return (
                o.subscriptionHelper.subscribe(
                  t.customProperties,
                  function (e) {
                    return n(e);
                  }
                ),
                n
              );
            }, this.pageDataObjectKey));
        }
        return (
          (e.prototype.updateCustomProperties = function (n) {
            this.dataLayer.use(function (e, t) {
              t.updateCustomProperties(n);
            }, this.pageDataObjectKey);
          }),
          (e.prototype.refreshData = function () {
            this.dataLayer.use(function (e, t) {
              t.refreshData();
            }, this.pageDataObjectKey);
          }),
          (e.prototype.dispose = function () {
            this.logger.debug("Binding", name + " is being disposed"),
              this.subscriptionHelper.unsubscribeAll();
          }),
          e
        );
      })();
      t.PageViewModel = n;
    }
  ),
  define(
    "HMIWeb/Source/ViewModels/ViewModelFactory",
    [
      "require",
      "exports",
      "../ViewModels/TrendViewModel",
      "../ViewModels/TableViewModel",
      "../ViewModels/GenericViewModel",
      "../ViewModels/TimeControlViewModel",
      "../ViewModels/ContainerViewModel",
      "../ViewModels/PageViewModel",
    ],
    function (e, t, n, i, r, o, a, s) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var u = (function () {
        function e(e, t, n) {
          (this.dataLayer = t), (this.logger = e), (this.ko = n);
        }
        return (
          (e.prototype.createViewModel = function (e, t) {
            if (2 === t.type)
              return new n.TrendViewModel(
                e.id,
                this.logger,
                t,
                this.dataLayer,
                this.ko
              );
            if (1 === t.type)
              return new r.GenericViewModel(
                e.id,
                this.logger,
                t,
                this.dataLayer,
                this.ko
              );
            if (4 === t.type)
              return new o.TimeControlViewModel(
                e.id,
                this.logger,
                t,
                this.dataLayer,
                this.ko
              );
            if (6 === t.type)
              return new i.TableViewModel(
                e.id,
                this.logger,
                t,
                this.dataLayer,
                this.ko
              );
            if (7 === t.type)
              return new a.ContainerViewModel(
                e.id,
                this.logger,
                t,
                this.dataLayer,
                this.ko
              );
            if (5 === t.type)
              return new s.PageViewModel(
                e.id,
                this.logger,
                t,
                this.dataLayer,
                this.ko
              );
            throw new Error(
              "Could not generate a view model corresponding to '" +
                t.name +
                "' and element '" +
                e.id +
                "'"
            );
          }),
          e
        );
      })();
      t.ViewModelFactory = u;
    }
  ),
  define(
    "HMIWeb/Source/Core/Utils/DomUtils",
    ["require", "exports"],
    function (e, t) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function e() {}
        return (
          (e.prototype.getDocumentVisibility = function () {
            return document.visibilityState;
          }),
          (e.prototype.getDocument = function () {
            return document;
          }),
          (e.prototype.addEventListenerToVisibilityChange = function (e) {
            document.addEventListener("visibilitychange", e);
          }),
          (e.prototype.removeEventListenerToVisibilityChange = function (e) {
            document.removeEventListener("visibilitychange", e);
          }),
          (e.prototype.getUrlParams = function () {
            if (!this._savedUrlParams) {
              var e = location.search.substr(1);
              this._savedUrlParams = this.getUrlParamsFromQuery(e);
            }
            return this._savedUrlParams;
          }),
          (e.prototype.getSingleUrlParam = function (e) {
            var t = this.getUrlParams();
            return null == t || null == t[e] || 1 !== t[e].length
              ? null
              : t[e][0];
          }),
          (e.prototype.addEventListenerToUnload = function (e) {
            addEventListener("beforeunload", e);
          }),
          (e.prototype.getUrlParamsFromQuery = function (e) {
            var t = {};
            if ("string" == typeof e)
              for (var n = e.split("&"), i = n.length, r = 0; r < i; ++r) {
                var o = n[r].split("="),
                  a = decodeURIComponent(o[0]);
                if (0 < a.length) {
                  var s = decodeURIComponent(o[1]);
                  t[a] ? t[a].push(s) : (t[a] = [s]);
                }
              }
            return t;
          }),
          (e.prototype.tryGetAttribute = function (e, t) {
            return e.hasAttribute(t) ? e.getAttribute(t) : null;
          }),
          (e.prototype.tryGetAttributeAsFloat = function (e, t) {
            var n = this.tryGetAttribute(e, t);
            if (null === n) return null;
            var i = parseFloat(n);
            return isNaN(i) ? null : i;
          }),
          (e.prototype.tryGetAttributeAsInt = function (e, t) {
            var n = this.tryGetAttribute(e, t);
            if (null === n) return null;
            var i = parseInt(n);
            return isNaN(i) ? null : i;
          }),
          (e.prototype.tryGetAttributeAsBoolean = function (e, t) {
            return null !== this.tryGetAttribute(e, t);
          }),
          e
        );
      })();
      t.DomUtils = n;
    }
  ),
  define(
    "HMIWeb/Source/ViewModels/ContextMenuViewModel",
    ["require", "exports"],
    function (e, t) {
      "use strict";
      var i, s, o, a, u;
      function l() {
        (s.style.visibility = "hidden"), (s.style.display = "none");
        for (var e = 0; e < o.length; e++)
          (o[e].style.display = "none"), (o[e].innerText = "");
        for (e = 0; e < u.length; e++) u[e] = null;
      }
      function c(e, t) {
        return e && (t(e) ? e : c(e.parentNode, t));
      }
      function d(e) {
        var t = document.createElement("button");
        return (
          (t.className = "page-context-menu__item"),
          t.addEventListener("click", function (e) {
            return (function (e) {
              try {
                for (var t = void 0, n = 0; n < o.length; n++)
                  e.target === o[n] && (t = u[n]());
                null != t &&
                  t.catch(function (e) {
                    i.warn(
                      "Binding",
                      "Error during context menu item execution - " + e
                    );
                  });
              } catch (e) {
                i.exception(
                  "Binding",
                  "Exception raised when firing click handler",
                  e
                );
              }
              l();
            })(e);
          }),
          e.appendChild(t),
          t
        );
      }
      Object.defineProperty(t, "__esModule", { value: !0 }),
        (t.handleContextMenuEvents = function (e, t) {
          var n;
          (i = e),
            (a = t),
            (o = []),
            (u = []),
            ((n = document.createElement("div")).className =
              "page-context-menu"),
            (n.style.visibility = "hidden"),
            (n.style.display = "none"),
            document.body.appendChild(n),
            (s = n),
            document.addEventListener("contextmenu", function (e) {
              return (function (e) {
                if (
                  null !==
                  c(e.target, function (e) {
                    return e === s;
                  })
                )
                  return e.preventDefault(), void e.stopPropagation();
                for (var t = [], n = 0; n < a.length; n++) {
                  var i = a[n].getMenuItemDetails(e.target);
                  if (null != i)
                    for (var r = 0; r < i.length; r++)
                      null != i[r] && t.push(i[r]);
                }
                if (0 !== t.length) {
                  for (; o.length < t.length; ) o.push(d(s));
                  e.preventDefault(), e.stopPropagation();
                  for (var n = 0; n < t.length; n++)
                    (u[n] = t[n].onClickHandler),
                      (o[n].innerText = t[n].label),
                      (o[n].style.display = "");
                  for (var n = t.length; n < o.length; n++)
                    (o[n].innerText = ""), (o[n].style.display = "none");
                  !(function (e, t) {
                    (e += 2), (t += 2), (s.style.display = "");
                    var n = s.clientWidth,
                      i = s.clientHeight,
                      r = document.documentElement;
                    if (null == r)
                      throw new Error(
                        "Unable to get the documentElement of the document"
                      );
                    var o = r.scrollWidth,
                      a = r.scrollHeight;
                    (s.style.left =
                      o < n + e ? Math.max(0, o - n) + "px" : e + "px"),
                      (s.style.top =
                        a < i + t ? Math.max(0, a - i) + "px" : t + "px"),
                      (s.style.visibility = "visible");
                  })(e.pageX, e.pageY);
                } else l();
              })(e);
            }),
            document.addEventListener("click", function (e) {
              null ==
                c(e.target, function (e) {
                  return e === s;
                }) && l();
            }),
            window.addEventListener("resize", function () {
              l();
            });
        });
    }
  ),
  define(
    "HMIWeb/Source/ContextMenuItems/QuickTrendContextMenuItem",
    ["require", "exports"],
    function (e, t) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function e(e, t, n, i) {
          var r = this;
          (this.contextStore = i),
            (this.logger = e),
            t.getLocalisedStrings().then(function (e) {
              r.label = e.getStringOrError("quickTrend");
            }),
            (this.visualization = n);
        }
        return (
          (e.prototype.getMenuItemDetails = function (e) {
            if (null == this.label) return null;
            if (null == this.visualization) return null;
            var t = (function e(t) {
              return (
                t && ((n = t), n.isContextProviderElement ? t : e(t.parentNode))
              );
              var n;
            })(e);
            return null == t ? null : [this.createMenuItem(t)];
          }),
          (e.prototype.createMenuItem = function (e) {
            var i = this;
            return {
              label: this.label,
              onClickHandler: function () {
                return Promise.all([
                  i.getApplicationContext(e),
                  i.getTimeContext(),
                ]).then(function (e) {
                  var t = e[0],
                    n = e[1];
                  i.visualization.navigateToWorkspace(
                    "98876154-2a03-4f53-a26c-3d95f335a99c",
                    { application: t, timeRange: n },
                    1,
                    !0
                  );
                });
              },
            };
          }),
          (e.prototype.getApplicationContext = function (n) {
            var t = this;
            return new Promise(function (e, t) {
              e(n.getDataSourceContext());
            })
              .then(function (e) {
                return t.contextStore.addContextAsync(e, 6e4);
              })
              .then(function (e) {
                if (null == e)
                  throw new Error("Could not save context in local storage");
                return { localStorageKey: e };
              });
          }),
          (e.prototype.getTimeContext = function () {
            try {
              return this.visualization.getTimes().then(function (e) {
                return {
                  startDate: e.resetStart || e.startTime,
                  endDate: e.resetEnd || e.endTime,
                };
              });
            } catch (e) {
              return Promise.reject(e);
            }
          }),
          e
        );
      })();
      t.QuickTrendContextMenuItem = n;
    }
  ),
  define(
    "HMIWeb/Source/ContextMenuItems/CopyItemContextMenuItem",
    ["require", "exports"],
    function (e, t) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function e(e, t) {
          var n = this;
          (this.logger = e),
            t.getLocalisedStrings().then(function (e) {
              n.label = e.getStringOrError("copyItem");
            });
        }
        return (
          (e.prototype.getMenuItemDetails = function (e) {
            if (null == this.label) return null;
            var t = (function e(t) {
              return (
                t && ((n = t), n.isContextProviderElement ? t : e(t.parentNode))
              );
              var n;
            })(e);
            return null == t ? null : [this.createMenuItem(t)];
          }),
          (e.prototype.createMenuItem = function (e) {
            var t = this,
              n = e.getDataSourceContext();
            if (null == n)
              return (
                this.logger.error(
                  "Default",
                  "DataSourceContext is unexpectedly null"
                ),
                null
              );
            var i = this.getItemName(n);
            return "" != i
              ? {
                  label: this.label,
                  onClickHandler: function () {
                    return t.writeItemNameToClipboard(i);
                  },
                }
              : null;
          }),
          (e.prototype.getItemName = function (e) {
            return "common_tag" !== e.format
              ? (this.logger.error(
                  "Default",
                  "common_tag context not available"
                ),
                "")
              : null != e.data &&
                null != e.data.Name &&
                "string" == typeof e.data.Name
              ? e.data.Name
              : "";
          }),
          (e.prototype.writeItemNameToClipboard = function (i) {
            var r = this;
            return new Promise(function (e, t) {
              window.navigator &&
                window.navigator.clipboard &&
                window.navigator.clipboard.writeText &&
                window.navigator.clipboard
                  .writeText(i)
                  .then(function () {
                    e();
                  })
                  .catch(function (e) {
                    r.logger.exception(
                      "Default",
                      "Unable to set the clipboard data using clipboard.writeText",
                      e
                    ),
                      t(e);
                  });
              try {
                var n = document.createElement("textarea");
                (n.value = i),
                  document.body.appendChild(n),
                  n.focus(),
                  n.select(),
                  document.execCommand("copy"),
                  document.body.removeChild(n),
                  e();
              } catch (e) {
                r.logger.exception(
                  "Default",
                  "Unable to set the clipboard data using document.execCommand",
                  e
                ),
                  t(e);
              }
            });
          }),
          e
        );
      })();
      t.CopyItemContextMenuItem = n;
    }
  ),
  define(
    "HMIWeb/Source/ContextMenuItems/ZoomToggleContextMenuItem",
    ["require", "exports"],
    function (e, t) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function e(e, t, n) {
          var i = this;
          (this.logger = e),
            (this.viewport = n),
            t.getLocalisedStrings().then(function (e) {
              (i.viewActualSizeLabel = e.getStringOrError("viewActualSize")),
                (i.zoomToFitLabel = e.getStringOrError("zoomToFit"));
            });
        }
        return (
          (e.prototype.getMenuItemDetails = function () {
            return null == this.viewActualSizeLabel ||
              null == this.zoomToFitLabel
              ? null
              : [
                  this.createEnableZoomToFitModeMenuItem(),
                  this.createSetZoomTo100PctMenuItem(),
                ];
          }),
          (e.prototype.createEnableZoomToFitModeMenuItem = function () {
            var e = this;
            return 1 == this.viewport.currentZoomMode
              ? null
              : {
                  label: this.zoomToFitLabel,
                  onClickHandler: function () {
                    e.viewport.enableZoomToFitMode();
                  },
                };
          }),
          (e.prototype.createSetZoomTo100PctMenuItem = function () {
            var e = this;
            return 2 == this.viewport.currentZoomMode
              ? null
              : {
                  label: this.viewActualSizeLabel,
                  onClickHandler: function () {
                    e.viewport.setZoomTo100Pct();
                  },
                };
          }),
          e
        );
      })();
      t.ZoomToggleContextMenuItem = n;
    }
  ),
  define(
    "HMIWeb/Source/ContextMenuItems/NavigatePortalContextMenuItem",
    ["require", "exports"],
    function (e, t) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function e(e, t, n) {
          var i = this;
          (this.logger = e),
            t.getLocalisedStrings().then(function (e) {
              (i.navigatePortalLabel = e.getStringOrError("navigatePortal")),
                (i.navigateTileLabel = e.getStringOrError("navigateTile"));
            }),
            (this.visualization = n);
        }
        return (
          (e.prototype.getMenuItemDetails = function (e) {
            if (
              null == this.navigatePortalLabel ||
              null == this.navigateTileLabel
            )
              return null;
            if (null == this.visualization) return null;
            var t = (function e(t) {
              return t && ((n = t), "href" in n ? t : e(t.parentNode));
              var n;
            })(e);
            if (null == t) return null;
            if (t.origin.toLowerCase() !== window.location.origin.toLowerCase())
              return null;
            var n = [];
            return (
              this.visualization.hasCapability(0) &&
                n.push(
                  this.createNavigatePortalToGraphicUrlMenuItem(t.pathname)
                ),
              this.visualization.hasCapability(1) &&
                n.push(this.createNavigateVizMenuItem(t.pathname)),
              n
            );
          }),
          (e.prototype.createNavigatePortalToGraphicUrlMenuItem = function (e) {
            var t = this;
            return {
              label: this.navigatePortalLabel,
              onClickHandler: function () {
                t.visualization.navigatePortalToGraphicUrl(e, 0);
              },
            };
          }),
          (e.prototype.createNavigateVizMenuItem = function (e) {
            var t = this;
            return {
              label: this.navigateTileLabel,
              onClickHandler: function () {
                t.visualization.navigateVizToUrl(e);
              },
            };
          }),
          e
        );
      })();
      t.NavigatePortalContextMenuItem = n;
    }
  ),
  define(
    "HMIWeb/Source/Data/DataModel",
    ["require", "exports", "signals", "signals"],
    function (e, t, o) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function e(e, t, n, i) {
          var r = this;
          (this.logger = e),
            (this.performanceLogger = i),
            (this.dataObjectFactory = t),
            (this.dataObjectIdGenerator = n),
            (this.dataObjects = new Array()),
            (this.readyList = new Array()),
            (this.readyCount = 0),
            (this.updateComplete = new o.Signal()),
            (this.dataModelComplete = new Promise(function (e, t) {
              r.onDataModelComplete = function () {
                return e(null);
              };
            })),
            (this.api = {
              getDataObjectByKey: function (e) {
                return r.getDataObjectByKey(e).api;
              },
              getDataObjectById: function (e) {
                return r.getDataObjectById(e).api;
              },
              createPageDataObject: function (e) {
                return r.createPageDataObject(e).api;
              },
              createTrendDataObject: function (e) {
                return r.createTrendDataObject(e).api;
              },
              createTimeDataObject: function (e) {
                return r.createTimeDataObject(e).api;
              },
              createTableDataObject: function (e) {
                return r.createTableDataObject(e).api;
              },
              getPrimaryPageDataObject: function () {
                return r.getPrimaryPageDataObject()
                  ? r.getPrimaryPageDataObject().api
                  : null;
              },
              getPrimaryTimeDataObject: function () {
                return r.getPrimaryTimeDataObject()
                  ? r.getPrimaryTimeDataObject().api
                  : null;
              },
              deleteDataObjectById: function (e) {
                return r.deleteDataObjectById(e);
              },
              deleteDataObjectByKey: function (e) {
                return r.deleteDataObjectByKey(e);
              },
            }),
            (this.primaryPageDataObject = null),
            (this.primaryTimeDataObject = null);
        }
        return (
          (e.prototype.getNextDataObjectId = function () {
            return this.dataObjectIdGenerator.getNextDataObjectId();
          }),
          (e.prototype.getPrimaryPageDataObject = function () {
            return this.primaryPageDataObject;
          }),
          (e.prototype.getPrimaryTimeDataObject = function () {
            return this.primaryTimeDataObject;
          }),
          (e.prototype.createPageDataObject = function (e) {
            var t = this.dataObjectFactory.createPageDataObject(
              this.getNextDataObjectId(),
              this,
              e,
              1
            );
            if ((this.registerNewDataObject(t), e && e.isPrimary)) {
              if (null !== this.primaryPageDataObject)
                throw new Error(
                  "cannot have multiple primary page data objects"
                );
              this.primaryPageDataObject = t;
            }
            return t;
          }),
          (e.prototype.createTableDataObject = function (e) {
            var t = this.dataObjectFactory.createTableDataObject(
              this.getNextDataObjectId(),
              this,
              e,
              1
            );
            return this.registerNewDataObject(t), t;
          }),
          (e.prototype.createTrendDataObject = function (e) {
            var t = this.dataObjectFactory.createTrendDataObject(
              this.getNextDataObjectId(),
              this,
              e,
              1
            );
            return this.registerNewDataObject(t), t;
          }),
          (e.prototype.createTimeDataObject = function (e) {
            var t = this.dataObjectFactory.createTimeDataObject(
              this.getNextDataObjectId(),
              this,
              e,
              1
            );
            if ((this.registerNewDataObject(t), e && e.isPrimary)) {
              if (null !== this.primaryTimeDataObject)
                throw new Error(
                  "cannot have multiple primary time data objects"
                );
              this.primaryTimeDataObject = t;
            }
            return t;
          }),
          (e.prototype.createTimeSeriesDataObject = function (e) {
            var t = this.dataObjectFactory.createTimeSeriesDataObject(
              this.getNextDataObjectId(),
              this,
              e,
              1
            );
            return this.registerNewDataObject(t), t;
          }),
          (e.prototype.createDataObjects = function (e, t) {
            for (var n = this, i = [], r = [], o = 0; o < e.length; o++)
              null == e[o].config.parentId
                ? i.push({ index: o, def: e[o] })
                : r.push({ index: o, def: e[o] });
            for (; 0 < r.length; ) {
              var a = !1,
                s = [],
                u = function (t) {
                  i.some(function (e) {
                    return e.def.id === r[t].def.config.parentId;
                  })
                    ? (i.push(r[t]), (a = !0))
                    : s.push(r[t]);
                };
              for (o = 0; o < r.length; o++) u(o);
              if (0 < s.length && !a)
                throw new Error(
                  "Encountered " +
                    s.length +
                    " object(s) with parentIds that could not be found in definitions"
                );
              r = s;
            }
            var l = i.map(function (e) {
                return n.createDataObject(e.def, t);
              }),
              c = [];
            for (o = 0; o < i.length; o++) c[i[o].index] = l[o];
            return c;
          }),
          (e.prototype.createDataObject = function (e, t) {
            var n = this.dataObjectFactory.createDataObject(
              e.id,
              e.type,
              this,
              e.config,
              t
            );
            return this.registerNewDataObject(n), n;
          }),
          (e.prototype.registerNewDataObject = function (e) {
            if (null != this.dataObjects[e.serverId])
              throw new Error(
                "Attempted to create a duplicate data object with id " +
                  e.serverId
              );
            (this.dataObjects[e.serverId] = e),
              this.dataObjectIdGenerator.updateMaxDataObjectId(e.serverId),
              null !== this.onDataModelComplete &&
                ((this.readyList[e.serverId] = e.serverId), this.readyCount++);
          }),
          (e.prototype.updateDataObjects = function (e) {
            for (var t in (!1 ===
              this.performanceLogger.hasPhaseEnded(
                "subscribe_until_first_data"
              ) &&
              this.performanceLogger.endPhase("subscribe_until_first_data"),
            e)) {
              var n = e[t],
                i = this.getDataObjectById(+t);
              null == i
                ? this.logger.error(
                    "Data",
                    "Received an update for an unknown object. Object id: " + t
                  )
                : i.update(n);
            }
            this.updateComplete.dispatch(),
              null !== this.onDataModelComplete &&
                0 === this.readyCount &&
                (this.onDataModelComplete(), (this.onDataModelComplete = null));
          }),
          (e.prototype.getDataObjectById = function (e) {
            return this.dataObjects[e];
          }),
          (e.prototype.getDataObjectByKey = function (e) {
            return this.getDataObjectById(e.id);
          }),
          (e.prototype.deleteDataObjectByKey = function (e) {
            this.deleteDataObjectById(e.id);
          }),
          (e.prototype.deleteDataObjectById = function (e) {
            var t = this,
              n = this.dataObjects[e];
            this.dataObjects
              .filter(function (e) {
                return e.parent === n.key;
              })
              .forEach(function (e) {
                t.deleteDataObjectById(e.serverId);
              }),
              n.delete(),
              delete this.dataObjects[e],
              void 0 !== this.readyList[e] &&
                (delete this.readyList[e], this.readyCount--);
          }),
          (e.prototype.dataObjectReady = function (e) {
            null != this.readyList[e] &&
              (delete this.readyList[e], this.readyCount--);
          }),
          e
        );
      })();
      t.DataModel = n;
    }
  ),
  define(
    "HMIWeb/Source/Data/DataObjectSetting",
    ["require", "exports"],
    function (e, t) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function e(e, t) {
          (this.logger = e),
            (this.subscriberCallbacks = []),
            (this.valueField = t);
        }
        return (
          (e.prototype.subscribe = function (e) {
            this.subscriberCallbacks.push(e);
          }),
          (e.prototype.unsubscribe = function (e) {
            var t = this.subscriberCallbacks.indexOf(e);
            0 <= t && this.subscriberCallbacks.splice(t, 1);
          }),
          Object.defineProperty(e.prototype, "value", {
            get: function () {
              return this.valueField;
            },
            enumerable: !0,
            configurable: !0,
          }),
          (e.prototype.setValueAndPublish = function (e) {
            this.valueField = e;
            for (var t = 0, n = this.subscriberCallbacks; t < n.length; t++) {
              var i = n[t];
              try {
                i(e);
              } catch (e) {
                this.logger.error("Data", "Error in update callback - " + e);
              }
            }
          }),
          e
        );
      })();
      t.DataObjectSetting = n;
    }
  ),
  define(
    "HMIWeb/Source/Data/GenericDataObject",
    ["require", "exports", "./DataObjectSetting"],
    function (e, n, l) {
      "use strict";
      Object.defineProperty(n, "__esModule", { value: !0 }),
        (n.rawTimeString = "{%TIME%}");
      var t = (function () {
        function e(e, t, n, i, r, o, a) {
          (this.rawTime = null),
            (this.rawValue = null),
            (this.rawTooltip = null),
            (this.ttContainsTimeString = !1),
            (this.dvContainsTimeString = !1),
            (this.site = e),
            (this.localisation = t),
            (this.logger = n),
            (this.configCollector = r),
            (this.serverId = i);
          var s = (this.name = "[G-DO-" + i + "]");
          (this.value = new l.DataObjectSetting(this.logger)),
            (this.tooltip = new l.DataObjectSetting(this.logger)),
            (this.runtimeStatus = new l.DataObjectSetting(this.logger)),
            (this.dynamicVizualizationIndex = new l.DataObjectSetting(
              this.logger
            )),
            (this.role = new l.DataObjectSetting(this.logger)),
            (this.itemName = new l.DataObjectSetting(this.logger)),
            (this.tagSource = new l.DataObjectSetting(this.logger)),
            (this.aggregate = new l.DataObjectSetting(this.logger)),
            (this.sampleInterval = new l.DataObjectSetting(this.logger)),
            (this.requestUnits = new l.DataObjectSetting(this.logger));
          var u = (this.key = {
            get id() {
              return i;
            },
            get type() {
              return 1;
            },
            get name() {
              return s;
            },
          });
          (this.api = {
            get key() {
              return u;
            },
          }),
            1 == a && r.updateConfiguration({ isDynamicallyCreated: !0 }),
            o && null != o.role && this.role.setValueAndPublish(o.role),
            (this.parent = null);
        }
        return (
          (e.prototype.delete = function () {
            throw new Error("delete not implemented");
          }),
          (e.prototype.update = function (e) {
            void 0 !== e.a && this.aggregate.setValueAndPublish(e.a),
              void 0 !== e.n && this.itemName.setValueAndPublish(e.n),
              void 0 !== e.t && this.tagSource.setValueAndPublish(e.t),
              void 0 !== e.r &&
                this.sampleInterval.setValueAndPublish(e.r.toString()),
              void 0 !== e.requ && this.requestUnits.setValueAndPublish(e.requ),
              void 0 !== e.rs && this.runtimeStatus.setValueAndPublish(e.rs),
              void 0 !== e.dv &&
                this.dynamicVizualizationIndex.setValueAndPublish(e.dv.v);
            var t = !1;
            void 0 !== e.v &&
              ((this.rawValue = e.v.v),
              (this.dvContainsTimeString = this.valueContainsTimeString(
                this.rawValue
              )),
              (t = !0));
            var n = !1;
            if (
              (void 0 !== e.tt &&
                ((this.rawTooltip = e.tt.v),
                (this.ttContainsTimeString = this.valueContainsTimeString(
                  this.rawTooltip
                )),
                (n = !0)),
              void 0 !== e.rt)
            ) {
              var i = e.rt.v;
              (this.rawTime = null === i ? null : new Date(i)),
                this.dvContainsTimeString && (t = !0),
                this.ttContainsTimeString && (n = !0);
            }
            if (t) {
              var r = this.dvContainsTimeString
                ? this.substituteTime(this.rawValue, this.rawTime)
                : this.rawValue;
              this.value.setValueAndPublish(r);
            }
            if (n) {
              var o = this.ttContainsTimeString
                ? this.substituteTime(this.rawTooltip, this.rawTime)
                : this.rawTooltip;
              this.tooltip.setValueAndPublish(o);
            }
            void 0 !== e.co && this.site.dataObjectReady(this.serverId);
          }),
          Object.defineProperty(e.prototype, "dataObjectType", {
            get: function () {
              return 1;
            },
            enumerable: !0,
            configurable: !0,
          }),
          (e.prototype.substituteTime = function (e, t) {
            return null !== t
              ? e.replace(
                  n.rawTimeString,
                  this.localisation.getLocalisedDateTimeStringFromDate(t)
                )
              : e.replace(n.rawTimeString, "");
          }),
          (e.prototype.valueContainsTimeString = function (e) {
            return "string" == typeof e && -1 !== e.search(n.rawTimeString);
          }),
          e
        );
      })();
      n.GenericDataObject = t;
    }
  ),
  define(
    "HMIWeb/Source/Data/InsightProtocolConstants",
    ["require", "exports"],
    function (e, t) {
      "use strict";
      var n, i;
      return (
        ((i = n || (n = {})).DataUpdate = {
          Aggregate: "a",
          Name: "n",
          SampleInterval: "r",
          TagSource: "t",
          Units: "u",
          Description: "d",
          DataObjectComplete: "co",
        }),
        (i.DataDefinition = { RequestUnits: "requ" }),
        (i.ContainerDataObject = { ChildCollection: "cid" }),
        (i.TrendDataObject = {
          ObjectId: "did",
          ChildCollection: "cid",
          ParentId: "pid",
          TagSourceList: "t",
          TagSourceToAggregateDict: "a",
          OldestTime: "s",
          NewestTime: "e",
          NumSamples: "num",
          Traces: "tr",
        }),
        (i.TableDataObject = {
          ObjectId: "did",
          ChildCollection: "cid",
          BindingId: "bnd",
          ParentId: "pid",
          DataObjectType: "typ",
          TagSourceList: "t",
          TagSourceToAggregateDict: "a",
          Datasets: "tr",
        }),
        (i.TimeDataObject = {
          ObjectId: "did",
          Start: "s",
          End: "e",
          Current: "c",
        }),
        (i.TimeSeriesDataObject = {
          ObjectId: "did",
          Name: "n",
          TagSource: "t",
          Aggregate: "a",
          SampleInterval: "r",
          Units: "u",
          RequestedSampleInterval: "reqr",
          RuntimeData: "v",
          ClearExistingData: "c",
          RemoveSpecifiedData: "r",
          RemoveStartTime: "s",
          RemoveEndTime: "e",
          HighRange: "h",
          LowRange: "l",
          RuntimeStatus: "rs",
          RuntimeStatusReason: "rsr",
          EffectiveSampleInterval: "i",
          ParentObjectId: "pid",
          IsDiscrete: "dt",
          EnumValues: "ev",
        }),
        (i.PageDataObject = { ObjectId: "did", CustomProperties: "cp" }),
        n
      );
    }
  ),
  define(
    "HMIWeb/Source/Data/TrendDataObject",
    ["require", "exports", "./InsightProtocolConstants", "./DataObjectSetting"],
    function (e, t, c, p) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function e(e, t, n, i, r, o, a, s) {
          var u = this;
          (this.timeSeriesDataCollator = n),
            (this.dataObjectType = 2),
            (this.tracePropertiesField = {}),
            (this.site = e),
            (this.dataService = t),
            (this.serverId = r),
            (this.configCollector = o),
            (this.logger = i);
          var l = (this.name = "[TR-DO-" + r + "]");
          (this.objectIdToTraceId = new Array()),
            (this.traceIdsToUpdate = new Array()),
            (this.traces = new Array()),
            (this.trendData = new p.DataObjectSetting(this.logger)),
            (this.traceProperties = new p.DataObjectSetting(this.logger)),
            (this.trendProperties = new p.DataObjectSetting(this.logger)),
            (this.startTimeMs = new p.DataObjectSetting(i, null)),
            (this.endTimeMs = new p.DataObjectSetting(i, null)),
            (this.isZoomed = new p.DataObjectSetting(i, null)),
            (this.unzoomStartTimeMs = new p.DataObjectSetting(i, null)),
            (this.unzoomEndTimeMs = new p.DataObjectSetting(i, null)),
            (this.childObjectIds = new p.DataObjectSetting(i, [])),
            (this.firedFirstDataUpdate = !1),
            (this.serverSignalledDataObjectComplete = !1),
            (this.tagSourceList = []),
            (this.aggregateDictionary = {}),
            (this.clientTimeWindowSet = !1),
            (this.startTime = null),
            (this.endTime = null),
            this.site.updateComplete.add(function () {
              u.sendTraceProperties(), u.updateTrendData();
            });
          var c,
            d = (this.key = {
              get id() {
                return r;
              },
              get type() {
                return 2;
              },
              get name() {
                return l;
              },
            });
          if (
            ((this.api = {
              get key() {
                return d;
              },
              setAggregate: function (e) {
                u.setAggregate(e);
              },
              setTagSourceName: function (e) {
                u.setTagSourceName(e);
              },
            }),
            1 == s && o.updateConfiguration({ isDynamicallyCreated: !0 }),
            a && null != a.parentId)
          ) {
            1 == s && o.updateConfiguration({ parentId: a.parentId });
            var h = this.site.getDataObjectById(a.parentId);
            if (((this.parent = h.key), (c = this.parent) && 4 === c.type)) {
              this.timeDataObjectKey = this.parent;
              var f = h;
              this.startTimeMs.setValueAndPublish(f.startTimeMs.value),
                f.startTimeMs.subscribe(function (e) {
                  u.startTimeMs.setValueAndPublish(e),
                    null !== u.startTime && (u.startTime = new Date(e));
                }),
                this.endTimeMs.setValueAndPublish(f.endTimeMs.value),
                f.endTimeMs.subscribe(function (e) {
                  u.endTimeMs.setValueAndPublish(e),
                    null !== u.endTime && (u.endTime = new Date(e));
                }),
                this.isZoomed.setValueAndPublish(f.isZoomed.value),
                f.isZoomed.subscribe(function (e) {
                  u.isZoomed.setValueAndPublish(e);
                }),
                this.unzoomStartTimeMs.setValueAndPublish(
                  f.unzoomStartTimeMs.value
                ),
                f.unzoomStartTimeMs.subscribe(function (e) {
                  u.unzoomStartTimeMs.setValueAndPublish(e);
                }),
                this.unzoomEndTimeMs.setValueAndPublish(
                  f.unzoomEndTimeMs.value
                ),
                f.unzoomEndTimeMs.subscribe(function (e) {
                  u.unzoomEndTimeMs.setValueAndPublish(e);
                });
            }
          } else this.parent = null;
        }
        return (
          (e.prototype.delete = function () {
            this.configCollector.updateConfiguration({ isDeleted: !0 }),
              this.logger.debug("Data", this.name + " deleted");
          }),
          (e.prototype.registerChildTimeSeriesDataObject = function (e) {
            var n = this;
            if (null == e) throw new Error("expected a trace");
            if (null == e.id)
              throw new Error("expected trace to have a valid id");
            if (
              null != this.objectIdToTraceId[e.serverId] ||
              null != this.traces[e.id]
            )
              throw new Error(
                "a registration already exists with this trace id"
              );
            (e.logGroup = "Trend"),
              (this.objectIdToTraceId[e.serverId] = e.id),
              (this.traces[e.id] = e),
              this.childObjectIds.setValueAndPublish(
                this.childObjectIds.value.concat([e.serverId])
              ),
              this.logger.debug(
                "Trend",
                "dataDefinitionsReceived event. Adding trace " +
                  e.id +
                  " to traces collection. Length is " +
                  this.traces.length
              ),
              0 < e.propertiesUpdated.getNumListeners() &&
                e.propertiesUpdated.removeAll(),
              e.propertiesUpdated.add(function (e) {
                return n.processTraceProperties(e);
              }),
              0 < e.updateReceived.getNumListeners() &&
                e.updateReceived.removeAll(),
              e.updateReceived.add(function (e, t) {
                return n.processUpdateNotification(e, t);
              });
          }),
          (e.prototype.update = function (e) {
            var t = !1,
              n = !1;
            for (var i in e)
              if (i === c.TrendDataObject.TagSourceList)
                this.tagSourceList = e[i];
              else if (i === c.TrendDataObject.TagSourceToAggregateDict) {
                var r = e[i];
                for (var o in r) this.aggregateDictionary[o] = r[o];
                r = null;
              } else if (i === c.TrendDataObject.OldestTime) {
                var a = e[i].v;
                a && ((n = !0), (this.startTime = new Date(a)));
              } else if (i === c.TrendDataObject.NewestTime) {
                var s = e[i].v;
                s && ((n = !0), (this.endTime = new Date(s)));
              } else
                i === c.DataUpdate.DataObjectComplete &&
                  (t = this.serverSignalledDataObjectComplete = !0);
            if (
              (n &&
                !this.clientTimeWindowSet &&
                this.startTime &&
                this.endTime &&
                (this.startTimeMs.setValueAndPublish(this.startTime.getTime()),
                this.endTimeMs.setValueAndPublish(this.endTime.getTime())),
              t)
            ) {
              var u = {
                tagSourceList: this.tagSourceList,
                aggregateDictionary: this.aggregateDictionary,
              };
              this.trendProperties.setValueAndPublish(u), (u = null);
              var l = this.childObjectIds.value;
              0 < l.length && this.firedFirstDataUpdate
                ? this.site.dataObjectReady(this.serverId)
                : 0 !== l.length ||
                  this.firedFirstDataUpdate ||
                  this.site.dataObjectReady(this.serverId);
            }
          }),
          (e.prototype.setAggregate = function (e) {
            if (void 0 !== e) {
              if (null === e)
                throw new Error(
                  "Not implemented, aggregate cannot be unconfigured"
                );
              this.aggregate !== e &&
                ((this.aggregate = e),
                this.configCollector.updateConfiguration({ aggregate: e }));
            }
          }),
          (e.prototype.setTagSourceName = function (e) {
            if (void 0 !== e) {
              if (null === e)
                throw new Error(
                  "Not implemented, tagSourceName cannot be unconfigured"
                );
              this.tagSourceName !== e &&
                ((this.tagSourceName = e),
                this.configCollector.updateConfiguration({ tagSource: e }));
            }
          }),
          (e.prototype.updateTrendData = function (e) {
            var t = this.timeSeriesDataCollator.updateTrendData(
              this.traces,
              this.traceIdsToUpdate,
              e
            );
            0 < this.traceIdsToUpdate.length && (e = !0),
              (this.traceIdsToUpdate = []),
              this.sendTrendDataUpdateToPage(t, e),
              (t = null);
          }),
          (e.prototype.sendTrendDataUpdateToPage = function (e, t) {
            (0 < e.length || !0 === t) &&
              (this.trendData.setValueAndPublish(e),
              this.firedFirstDataUpdate ||
                ((this.firedFirstDataUpdate = !0),
                this.serverSignalledDataObjectComplete &&
                  this.site.dataObjectReady(this.serverId)));
          }),
          (e.prototype.updateTimeWindowFromPage = function (e, t, n, i, r) {
            if (null === this.startTime && null === this.endTime) {
              if (null == this.timeDataObjectKey) return;
              var o = this.site.getDataObjectByKey(this.timeDataObjectKey);
              this.logger.debug(
                "Data",
                "Time window " + this.name + " to " + o.name
              ),
                o.setStartTime(e),
                o.setEndTime(t),
                o.setIsZoomed(n),
                o.setResetStartTime(i),
                o.setResetEndTime(r);
            } else
              (this.startTime = e),
                (this.endTime = t),
                (this.clientTimeWindowSet = !0),
                this.configCollector.updateConfiguration({
                  startTime: e,
                  endTime: t,
                });
          }),
          (e.prototype.updateWindowWidth = function (e) {
            this.configCollector.updateConfiguration({ numSamplesInWindow: e });
          }),
          (e.prototype.deregisterChildTimeSeriesDataObject = function (e) {
            if (null == e) throw new Error("expected a trace");
            this.logger.debug(
              "Trend",
              "Deleting trace " + e.id + " from traces collection"
            ),
              delete this.objectIdToTraceId[e.serverId],
              delete this.traces[e.id];
            var t = this.childObjectIds.value,
              n = t.indexOf(e.serverId);
            if (-1 === n)
              throw new Error(
                "Error deleting trace. Trace " + e.id + " not found."
              );
            t.splice(n, 1),
              this.childObjectIds.setValueAndPublish(t),
              this.updateTrendData(!0);
          }),
          (e.prototype.processTraceProperties = function (e) {
            var t = this.traceNumberFromObjectId(e),
              n = this.traces[t];
            if (null == n) {
              var i =
                "Received an update from an unknown time series data object. Id: " +
                e;
              throw (this.logger.error("Trend", i), new Error(i));
            }
            var r = {
              name: n.itemName,
              aggregate: n.aggregate,
              tagSource: n.tagSource,
              effectiveSampleInterval: n.effectiveSampleInterval,
              requestedSampleInterval: n.requestedSampleInterval,
              requestUnits: n.requestUnits,
              units: n.units,
              description: n.description,
              sourceRange: [n.lowRange, n.highRange],
              runtimeStatus: n.runtimeStatus,
              runtimeStatusReason: n.runtimeStatusReason,
              isDiscrete: n.isDiscrete,
              enumValues: n.enumValues,
            };
            this.tracePropertiesField[n.id] = r;
          }),
          (e.prototype.sendTraceProperties = function () {
            if (0 < Object.keys(this.tracePropertiesField).length)
              try {
                this.traceProperties.setValueAndPublish(
                  this.tracePropertiesField
                );
              } finally {
                this.tracePropertiesField = {};
              }
          }),
          (e.prototype.processUpdateNotification = function (e, t) {
            var n = this.traceNumberFromObjectId(e);
            for (var i in t)
              (i !== c.TimeSeriesDataObject.RuntimeData &&
                i !== c.TimeSeriesDataObject.ClearExistingData) ||
                (-1 === this.traceIdsToUpdate.indexOf(n) &&
                  this.traceIdsToUpdate.push(n));
          }),
          (e.prototype.traceNumberFromObjectId = function (e) {
            return this.objectIdToTraceId[e];
          }),
          e
        );
      })();
      t.TrendDataObject = n;
    }
  ),
  define(
    "HMIWeb/Source/Data/TableDataObject",
    ["require", "exports", "./InsightProtocolConstants", "./DataObjectSetting"],
    function (e, t, a, d) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function e(e, t, n, i, r, o, a, s) {
          var u = this;
          (this.timeSeriesDataCollator = n),
            (this.dataObjectType = 6),
            (this.datasetPropertiesField = {}),
            (this.site = e),
            (this.dataService = t),
            (this.serverId = r),
            (this.logger = i),
            (this.configCollector = o);
          var l = (this.name = "[TB-DO-" + r + "]");
          (this.objectIdToDatasetId = new Array()),
            (this.datasetIdsToUpdate = new Array()),
            (this.datasets = new Array()),
            (this.tagSourceList = []),
            (this.aggregateDictionary = {}),
            (this.tableData = new d.DataObjectSetting(this.logger)),
            (this.datasetProperties = new d.DataObjectSetting(this.logger)),
            (this.tableProperties = new d.DataObjectSetting(this.logger)),
            (this.childObjectIds = []),
            (this.firedFirstDataUpdate = !1),
            (this.serverSignalledDataObjectComplete = !1),
            this.site.updateComplete.add(function () {
              u.sendDatasetProperties(), u.updateTableData();
            });
          var c = (this.key = {
            get id() {
              return r;
            },
            get type() {
              return 6;
            },
            get name() {
              return l;
            },
          });
          if (
            ((this.api = {
              get key() {
                return c;
              },
              setAggregate: function (e) {
                u.setAggregate(e);
              },
              setTagSourceName: function (e) {
                u.setTagSourceName(e);
              },
            }),
            null == a || null == a.parentId)
          )
            throw new Error("A required configuration setting is missing");
          1 === s && o.updateConfiguration({ isDynamicallyCreated: !0 }),
            1 === s && o.updateConfiguration({ parentId: a.parentId }),
            (this.parent = this.site.getDataObjectById(a.parentId).key);
        }
        return (
          (e.prototype.delete = function () {
            this.configCollector.updateConfiguration({ isDeleted: !0 }),
              this.logger.debug("Data", this.name + " deleted");
          }),
          (e.prototype.setAggregate = function (e) {
            if (void 0 !== e) {
              if (null === e)
                throw new Error(
                  "Not implemented, aggregate cannot be unconfigured"
                );
              this.aggregate !== e &&
                ((this.aggregate = e),
                this.configCollector.updateConfiguration({ aggregate: e }));
            }
          }),
          (e.prototype.setTagSourceName = function (e) {
            if (void 0 !== e) {
              if (null === e)
                throw new Error(
                  "Not implemented, tagSourceName cannot be unconfigured"
                );
              this.tagSourceName !== e &&
                ((this.tagSourceName = e),
                this.configCollector.updateConfiguration({ tagSource: e }));
            }
          }),
          (e.prototype.update = function (e) {
            var t = !1;
            for (var n in e)
              if (n === a.TableDataObject.TagSourceList)
                this.tagSourceList = e[n];
              else if (n === a.TableDataObject.TagSourceToAggregateDict) {
                var i = e[n];
                for (var r in i) this.aggregateDictionary[r] = i[r];
                i = null;
              } else if (n === a.DataUpdate.DataObjectComplete)
                t = this.serverSignalledDataObjectComplete = !0;
              else if (
                n !== a.TableDataObject.TagSourceList &&
                n !== a.TableDataObject.TagSourceToAggregateDict
              )
                throw new Error("Unexpected table data object update: " + n);
            if (t) {
              var o = {
                tagSourceList: this.tagSourceList,
                aggregateDictionary: this.aggregateDictionary,
              };
              this.tableProperties.setValueAndPublish(o),
                0 < this.childObjectIds.length && this.firedFirstDataUpdate
                  ? this.site.dataObjectReady(this.serverId)
                  : 0 !== this.childObjectIds.length ||
                    this.firedFirstDataUpdate ||
                    this.site.dataObjectReady(this.serverId);
            }
          }),
          (e.prototype.updateTableData = function (e) {
            var t,
              n,
              i = this.timeSeriesDataCollator.updateTableData(
                this.datasets,
                this.datasetIdsToUpdate,
                t,
                n,
                e
              );
            0 < this.datasetIdsToUpdate.length && (e = !0),
              (this.datasetIdsToUpdate = []),
              (0 < i.length || !0 === e) &&
                (this.tableData.setValueAndPublish(i),
                this.firedFirstDataUpdate ||
                  ((this.firedFirstDataUpdate = !0),
                  this.serverSignalledDataObjectComplete &&
                    this.site.dataObjectReady(this.serverId))),
              (n = t = i = null);
          }),
          (e.prototype.registerChildTimeSeriesDataObject = function (e) {
            var n = this;
            if (null == e) throw new Error("expected a dataset");
            if (null == e.id)
              throw new Error("expected dataset to have a valid id");
            if (
              null != this.objectIdToDatasetId[e.serverId] ||
              null != this.datasets[e.id]
            )
              throw new Error(
                "a registration already exists with this dataset id"
              );
            (e.logGroup = "Table"),
              (this.objectIdToDatasetId[e.serverId] = e.id),
              (this.datasets[e.id] = e),
              (this.childObjectIds = this.childObjectIds.concat([e.serverId])),
              this.logger.debug(
                "Table",
                "dataDefinitionsReceived event. Adding dataset " +
                  e.id +
                  " to datasets collection. Length is " +
                  this.datasets.length
              ),
              0 < e.propertiesUpdated.getNumListeners() &&
                e.propertiesUpdated.removeAll(),
              e.propertiesUpdated.add(function (e) {
                return n.processDatasetProperties(e);
              }),
              0 < e.updateReceived.getNumListeners() &&
                e.updateReceived.removeAll(),
              e.updateReceived.add(function (e, t) {
                return n.processUpdateNotification(e, t);
              });
          }),
          (e.prototype.processDatasetProperties = function (e) {
            var t = this.datasetNumberFromObjectId(e),
              n = this.datasets[t];
            if (null == n) {
              var i =
                "Received an update from an unknown time series data object. Id: " +
                e;
              throw (this.logger.error("Table", i), new Error(i));
            }
            var r = {
              name: n.itemName,
              aggregate: n.aggregate,
              tagSource: n.tagSource,
              effectiveSampleInterval: n.effectiveSampleInterval,
              requestedSampleInterval: n.requestedSampleInterval,
              requestUnits: n.requestUnits,
              units: n.units,
              description: n.description,
            };
            this.datasetPropertiesField[n.id] = r;
          }),
          (e.prototype.sendDatasetProperties = function () {
            if (0 < Object.keys(this.datasetPropertiesField).length)
              try {
                this.datasetProperties.setValueAndPublish(
                  this.datasetPropertiesField
                );
              } finally {
                this.datasetPropertiesField = {};
              }
          }),
          (e.prototype.processUpdateNotification = function (e, t) {
            var n = this.datasetNumberFromObjectId(e);
            for (var i in t)
              (i !== a.TimeSeriesDataObject.RuntimeData &&
                i !== a.TimeSeriesDataObject.ClearExistingData) ||
                (-1 === this.datasetIdsToUpdate.indexOf(n) &&
                  this.datasetIdsToUpdate.push(n));
          }),
          (e.prototype.datasetNumberFromObjectId = function (e) {
            return this.objectIdToDatasetId[e];
          }),
          (e.prototype.deregisterChildTimeSeriesDataObject = function (e) {
            if (null == e) throw new Error("expected a dataset");
            this.logger.debug(
              "Table",
              "Deleting dataset " + e.id + " from datasets collection"
            ),
              delete this.objectIdToDatasetId[e.serverId],
              delete this.datasets[e.id];
            var t = this.childObjectIds.indexOf(e.serverId);
            if (-1 === t)
              throw new Error(
                "Error deleting data set. Data set " + e.id + " not found."
              );
            this.childObjectIds.splice(t, 1), this.updateTableData(!0);
          }),
          (e.prototype.getNonSparseChildIds = function () {
            for (var e = [], t = 0; t < this.datasets.length; t++) {
              var n = this.datasets[t];
              void 0 !== n && e.push(n.id);
            }
            return e;
          }),
          e
        );
      })();
      t.TableDataObject = n;
    }
  ),
  define(
    "HMIWeb/Source/Data/ContainerDataObject",
    ["require", "exports", "./InsightProtocolConstants"],
    function (e, t, r) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function e(e, t, n, i, r, o) {
          (this.idsOfChildDataObjects = null),
            (this.dataObjectType = 7),
            (this.site = e),
            (this.logger = t),
            (this.configCollector = i),
            (this.serverId = n);
          var a = (this.name = "[CO-DO-" + n + "]"),
            s = (this.key = {
              get id() {
                return n;
              },
              get type() {
                return 7;
              },
              get name() {
                return a;
              },
            });
          (this.api = {
            get key() {
              return s;
            },
          }),
            1 == o && i.updateConfiguration({ isDynamicallyCreated: !0 }),
            (this.parent = null);
        }
        return (
          (e.prototype.delete = function () {
            throw new Error("delete not implemented");
          }),
          (e.prototype.update = function (e) {
            for (var t in e)
              if (e.hasOwnProperty(t))
                switch (t) {
                  case r.ContainerDataObject.ChildCollection:
                    var n = e[t];
                    if (null === this.idsOfChildDataObjects)
                      this.idsOfChildDataObjects = n;
                    else {
                      if (this.idsOfChildDataObjects.length !== n.length)
                        throw new Error(
                          "Cannot update child collection of container data object"
                        );
                      for (var i = 0; i < n.length; i++)
                        if (this.idsOfChildDataObjects[i] !== n[i])
                          throw new Error(
                            "Cannot update entries in child collection of container data object"
                          );
                    }
                    break;
                  case r.DataUpdate.DataObjectComplete:
                    this.site.dataObjectReady(this.serverId);
                }
          }),
          (e.prototype.getChildren = function () {
            for (
              var e = [], t = 0;
              t < this.idsOfChildDataObjects.length;
              t++
            ) {
              var n = this.site.getDataObjectById(
                this.idsOfChildDataObjects[t]
              ).key;
              1 !== n.type
                ? this.logger.error(
                    "Data",
                    "ContainerDataObject can only contain generic data objects. Got type " +
                      n.type
                  )
                : e.push(n);
            }
            return e;
          }),
          e
        );
      })();
      t.ContainerDataObject = n;
    }
  ),
  define(
    "HMIWeb/Source/Data/TimeSeriesDataCollator",
    ["require", "exports"],
    function (e, t) {
      "use strict";
      return (function () {
        function e(e, t) {
          (this.logGroup = e),
            (this.logger = t),
            (this._timestamps = []),
            (this._timestampIndex = []);
        }
        return (
          (e.prototype.updateTrendData = function (e, t, n) {
            return this._updateData(e, t, !1, null, null, n);
          }),
          (e.prototype.updateTableData = function (e, t, n, i, r) {
            return this._updateData(e, t, !0, n, i, r);
          }),
          (e.prototype._updateData = function (e, t, n, i, r, o) {
            for (var a = [], s = 0; s < 32; s++) {
              var u = e[s];
              void 0 !== u && a.push(u);
            }
            if (
              (this.checkAndClearMasterTimestampList(e, t, o),
              0 === a.length || (0 === t.length && !0 !== o))
            )
              return n && ([], []), [];
            this.updateMasterTimestampList(a);
            var l = this.mergeTimeSeriesData(
              "allData",
              a,
              this._timestamps,
              this._timestampIndex
            );
            return (
              n &&
                (this.updateSupplementaryData("newlyAppendedData", a),
                this.updateSupplementaryData("newlyRemovedData", a)),
              l
            );
          }),
          (e.prototype.checkAndClearMasterTimestampList = function (e, t, n) {
            this._clearTimestamps = !1;
            for (var i = 0; i < t.length; i++) {
              var r = e[t[i]];
              r &&
                r.haveExistingTimeStampsChanged &&
                ((r.haveExistingTimeStampsChanged = !1),
                (this._clearTimestamps = !0));
            }
            n && (this._clearTimestamps = !0),
              this._clearTimestamps &&
                ((this._timestampIndex = []), (this._timestamps = []));
          }),
          (e.prototype.updateMasterTimestampList = function (e) {
            for (var t = 0; t < e.length; t++) {
              var n = e[t];
              !this._clearTimestamps && n.hasNewlyAppendedData
                ? this.unpackTimestamps(
                    n.newlyAppendedData,
                    this._timestamps,
                    this._timestampIndex
                  )
                : this.unpackTimestamps(
                    n.allData,
                    this._timestamps,
                    this._timestampIndex
                  );
            }
            this.sortTimestampsAndGenerateIndex(
              this._timestamps,
              this._timestampIndex
            );
          }),
          (e.prototype.unpackTimestamps = function (e, t, n) {
            for (var i = 0; i < e.length; i++) {
              var r = e[i][0].getTime();
              isNaN(r) || null != n[r] || (t.push(r), (n[r] = 0));
            }
          }),
          (e.prototype.sortTimestampsAndGenerateIndex = function (e, t) {
            e.sort(function (e, t) {
              return e - t;
            });
            for (var n = e.length, i = 0; i < n; i++) t[e[i]] = i;
          }),
          (e.prototype.mergeTimeSeriesData = function (e, t, n, i) {
            var r = new Array(n.length);
            if (0 < n.length)
              for (var o = t.length, a = 0; a < o; a++)
                for (var s = t[a][e], u = 0; u < s.length; u++) {
                  var l = s[u][0],
                    c = l.getTime();
                  if (isNaN(c))
                    this.logger.error(
                      this.logGroup,
                      "Invalid date detected. Ignoring"
                    );
                  else {
                    var d = i[c],
                      h = r[d];
                    if (null == h) {
                      h = new Array(o + 1);
                      for (var f = 1; f < o + 1; f++) h[f] = null;
                      r[d] = h;
                    }
                    (h[0] = l), (h[a + 1] = s[u][1]);
                  }
                }
            return r;
          }),
          (e.prototype.updateSupplementaryData = function (e, t) {
            var n = [],
              i = [];
            return (
              this.generateSupplementaryTimestampList(e, t, n, i),
              this.mergeTimeSeriesData(e, t, n, i)
            );
          }),
          (e.prototype.generateSupplementaryTimestampList = function (
            e,
            t,
            n,
            i
          ) {
            for (var r = 0; r < t.length; r++)
              this.unpackTimestamps(t[r][e], n, i);
            this.sortTimestampsAndGenerateIndex(n, i);
          }),
          e
        );
      })();
    }
  );
var __assign =
  (this && this.__assign) ||
  function () {
    return (__assign =
      Object.assign ||
      function (e) {
        for (var t, n = 1, i = arguments.length; n < i; n++)
          for (var r in (t = arguments[n]))
            Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
        return e;
      }).apply(this, arguments);
  };
define(
  "HMIWeb/Source/Data/TimeSeriesDataObject",
  ["require", "exports", "./InsightProtocolConstants", "signals"],
  function (e, t, s, d) {
    "use strict";
    return (function () {
      function e(e, t, n, i, r, o) {
        (this.logger = t), (this._serverId = n), (this._type = 3);
        var a = (this.name = "[TS-DO-" + n + "]");
        (this.configCollector = i),
          (this._dataObjectSite = e),
          (this.updateReceived = new d.Signal()),
          (this.propertiesUpdated = new d.Signal()),
          (this._allData = []),
          (this._newlyAppendedData = []),
          (this._newlyRemovedData = []),
          (this.haveExistingTimeStampsChanged = !1),
          (this.hasNewlyAppendedData = !1),
          (this.hasNewlyRemovedData = !1),
          (this._itemName = ""),
          (this._updateHint = {}),
          (this._dataObjectComplete = !1),
          (this._dataObjectReadyFired = !1),
          (this._aggregate = ""),
          (this._effectiveSampleInterval = 0),
          (this._requestedSampleInterval = 0),
          (this._tagSource = ""),
          (this._requestUnits = ""),
          (this._units = ""),
          (this._description = ""),
          (this._highRange = null),
          (this._lowRange = null),
          (this._runTimeStatus = 0),
          (this._runTimeStatusReason = ""),
          (this.logGroup = "Default"),
          (this._isDiscrete = !1),
          (this.enumValues = {});
        var s = (this.key = {
          get id() {
            return n;
          },
          get type() {
            return 3;
          },
          get name() {
            return a;
          },
        });
        if (
          ((this.api = {
            get key() {
              return s;
            },
          }),
          null == r || null == r.parentId)
        )
          throw new Error("A required configuration setting is missing");
        1 == o &&
          i.updateConfiguration({
            isDynamicallyCreated: !0,
            parentId: r.parentId,
          }),
          (this._id = r.traceId);
        var u,
          l,
          c = e.getDataObjectById(r.parentId);
        (this.parent = c.key),
          (l = c) && 2 === l.dataObjectType
            ? c.registerChildTimeSeriesDataObject(this)
            : (u = c) && 6 === u.dataObjectType
            ? c.registerChildTimeSeriesDataObject(this)
            : this.logger.warn(
                this.logGroup,
                "Expected a trend or table parent"
              );
      }
      return (
        (e.prototype.update = function (e) {
          var t = {};
          0 < Object.keys(this._updateHint).length &&
            ((t = __assign({}, t, this._updateHint)), (this._updateHint = {}));
          var n = !1;
          for (var i in e)
            if (((t[i] = !0), i === s.DataUpdate.Aggregate))
              (this._aggregate = e[i]), (n = !0);
            else if (i === s.DataUpdate.Name) (this._itemName = e[i]), (n = !0);
            else if (i === s.TimeSeriesDataObject.RequestedSampleInterval)
              (this._requestedSampleInterval = e[i]), (n = !0);
            else if (i === s.DataUpdate.TagSource)
              (this._tagSource = e[i]), (n = !0);
            else if (i === s.DataDefinition.RequestUnits)
              (this._requestUnits = e[i]), (n = !0);
            else if (i === s.TimeSeriesDataObject.RuntimeData)
              this.handleRuntimeDataUpdate(
                e[i],
                e[s.TimeSeriesDataObject.ClearExistingData],
                e[s.TimeSeriesDataObject.RemoveSpecifiedData]
              );
            else if (i === s.TimeSeriesDataObject.ClearExistingData)
              void 0 === e[s.TimeSeriesDataObject.RuntimeData] &&
                (0 < this._allData.length
                  ? this.handleRuntimeDataUpdate(void 0, !0, void 0)
                  : delete t[i]);
            else if (i === s.TimeSeriesDataObject.RemoveSpecifiedData)
              void 0 === e[s.TimeSeriesDataObject.RuntimeData] &&
                this.handleRemovingData(e[i]);
            else if (i === s.DataUpdate.Units) (this._units = e[i]), (n = !0);
            else if (i === s.TimeSeriesDataObject.EffectiveSampleInterval)
              (this._effectiveSampleInterval = e[i]), (n = !0);
            else if (i === s.DataUpdate.Description)
              (this._description = e[i]), (n = !0);
            else if (i === s.TimeSeriesDataObject.HighRange) {
              null != (r = e[i].v) && ((this._highRange = r), (n = !0));
            } else if (i === s.TimeSeriesDataObject.LowRange) {
              var r;
              null != (r = e[i].v) && ((this._lowRange = r), (n = !0));
            } else if (i === s.TimeSeriesDataObject.IsDiscrete)
              (this._isDiscrete = e[i]), (n = !0);
            else if (i === s.TimeSeriesDataObject.RuntimeStatus) {
              var o = e[i];
              o !== this._runTimeStatus &&
                ((this._runTimeStatus = o), (n = !0));
            } else if (i === s.TimeSeriesDataObject.RuntimeStatusReason) {
              var a = e[s.TimeSeriesDataObject.RuntimeStatusReason];
              void 0 !== a && ((this._runTimeStatusReason = a), (n = !0));
            } else
              i === s.TimeSeriesDataObject.EnumValues
                ? ((this.enumValues = e[i]), (n = !0))
                : i === s.DataUpdate.DataObjectComplete &&
                  (n = this._dataObjectComplete = !0);
          n &&
            this._dataObjectComplete &&
            0 < this.propertiesUpdated.getNumListeners() &&
            this.propertiesUpdated.dispatch(this.serverId),
            0 < this.updateReceived.getNumListeners()
              ? this.updateReceived.dispatch(this.serverId, t)
              : (this._updateHint = __assign({}, this._updateHint, t)),
            !this._dataObjectReadyFired &&
              this._dataObjectComplete &&
              (this._dataObjectSite.dataObjectReady(this.serverId),
              (this._dataObjectReadyFired = !0));
        }),
        (e.prototype.handleRuntimeDataUpdate = function (e, t, n) {
          this.handleRemovingData(n),
            void 0 === t && (t = !1),
            this.updateValueCollection(t, e);
        }),
        (e.prototype.handleRemovingData = function (e) {
          if (void 0 !== e)
            for (var t = e, n = 0; n < t.length; n++) {
              var i = t[n];
              this.removeDataFromBuffer(
                new Date(i[s.TimeSeriesDataObject.RemoveStartTime]),
                new Date(i[s.TimeSeriesDataObject.RemoveEndTime])
              );
            }
        }),
        (e.prototype.updateValueCollection = function (e, t) {
          if (e || 0 == this._allData.length) {
            if (void 0 !== t) {
              var n = Object.keys(t);
              this.logger.debug(
                this.logGroup,
                "Time series " +
                  this._id +
                  " received full update. Replace data. Oldest:" +
                  n[0] +
                  " Newest:" +
                  n[n.length - 1] +
                  " Length:" +
                  n.length
              );
            } else
              this.logger.debug(
                this.logGroup,
                "Time series " +
                  this._id +
                  " received full update. Empty update, clear all data."
              );
            var i = [];
            for (var r in t) i.push([new Date(r), t[r].v.v]);
            (this._allData = i),
              (this._newlyAppendedData = []),
              (this.hasNewlyAppendedData = !1),
              (this._newlyRemovedData = []),
              (this.hasNewlyRemovedData = !1),
              (this.haveExistingTimeStampsChanged = !0);
          } else {
            n = Object.keys(t);
            this.logger.debug(
              this.logGroup,
              "Time series " +
                this._id +
                " received partial update. Append data. Oldest:" +
                n[0] +
                " Newest:" +
                n[n.length - 1] +
                " Length:" +
                n.length
            );
            i = [];
            for (var r in t) i.push([new Date(r), t[r].v.v]);
            var o = i[0][0],
              a = i[i.length - 1][0],
              s = this._allData[0][0],
              u = this._allData[this._allData.length - 1][0];
            if (o.getTime() > u.getTime())
              this._allData.push.apply(this._allData, i);
            else if (a.getTime() < s.getTime())
              this._allData = i.concat(this._allData);
            else {
              for (
                var l = new Array(this._allData.length + i.length),
                  c = 0,
                  d = 0,
                  h = 0;
                c < this._allData.length && d < i.length;

              )
                this._allData[c][0].getTime() < i[d][0].getTime()
                  ? ((l[h] = this._allData[c]), c++)
                  : ((l[h] = i[d]), d++),
                  h++;
              for (; c < this._allData.length; )
                (l[h] = this._allData[c]), c++, h++;
              for (; d < i.length; ) (l[h] = i[d]), d++, h++;
              this._allData = l;
            }
            (this._newlyAppendedData = i), (this.hasNewlyAppendedData = !0);
          }
          0 < this._allData.length &&
            this.logger.debug(
              this.logGroup,
              "TimeSeriesDataObject update processed. Oldest time:" +
                this._allData[0][0] +
                ", Newest time:" +
                this._allData[this._allData.length - 1][0]
            );
        }),
        (e.prototype.removeDataFromBuffer = function (e, t) {
          this.logger.debug(
            this.logGroup,
            "Removing data from buffer. Start:" + e + ", End:" + t
          );
          var n = this._allData,
            i = n.length;
          if (0 !== i) {
            var r = e.getTime(),
              o = t.getTime(),
              a = n[0][0].getTime(),
              s = n[i - 1][0].getTime();
            if (o < a || s < r)
              this.logger.info(
                this.logGroup,
                "Asked to delete data outside the cached range. Ignoring..."
              );
            else {
              for (
                var u = -1, l = -1, c = i - 1, d = i - 1;
                1 < c - u || 1 < d - l;

              ) {
                var h = Math.round((u + c) / 2);
                n[h][0].getTime() <= r ? (u = h) : (c = h);
                var f = Math.round((l + d) / 2);
                n[f][0].getTime() <= o ? (l = f) : (d = f);
              }
              var p = 0;
              -1 == u && (u = 0), (p = n[u][0].getTime() >= r ? u : c);
              var g = 0;
              -1 == l && (l = 0), (g = n[d][0].getTime() <= o ? d : l);
              for (var m = [], v = p; v <= g; v++) m.push(n[v]);
              (this._newlyRemovedData = m),
                (this.hasNewlyRemovedData = !0),
                this._allData.splice(p, g - p + 1),
                (this.haveExistingTimeStampsChanged = !0),
                0 < this._allData.length
                  ? this.logger.debug(
                      this.logGroup,
                      "Data removed from buffer. Buffer oldest time:" +
                        this._allData[0][0] +
                        ", Buffer newest time:" +
                        this._allData[this._allData.length - 1][0]
                    )
                  : this.logger.debug(
                      this.logGroup,
                      "All data removed from buffer."
                    ),
                (n = null);
            }
          } else
            this.logger.info(
              this.logGroup,
              "Asked to delete data from an empty set. Ignoring..."
            );
        }),
        (e.prototype.configure = function (e, t, n, i, r) {
          this.configCollector.updateConfiguration({
            tagSourceName: t,
            itemName: e,
            aggregate: n,
            sampleInterval: i,
            units: r,
          });
        }),
        (e.prototype.delete = function () {
          this.configCollector.updateConfiguration({ isDeleted: !0 }),
            this._dataObjectSite
              .getDataObjectByKey(this.parent)
              .deregisterChildTimeSeriesDataObject(this),
            this.logger.debug("Data", this.name + " deleted");
        }),
        Object.defineProperty(e.prototype, "allData", {
          get: function () {
            return this._allData;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, "newlyAppendedData", {
          get: function () {
            return this._newlyAppendedData;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, "newlyRemovedData", {
          get: function () {
            return this._newlyRemovedData;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, "itemName", {
          get: function () {
            return this._itemName;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, "aggregate", {
          get: function () {
            return this._aggregate;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, "requestedSampleInterval", {
          get: function () {
            return this._requestedSampleInterval;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, "effectiveSampleInterval", {
          get: function () {
            return this._effectiveSampleInterval;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, "id", {
          get: function () {
            return this._id;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, "requestUnits", {
          get: function () {
            return this._requestUnits;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, "units", {
          get: function () {
            return this._units;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, "tagSource", {
          get: function () {
            return this._tagSource;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, "description", {
          get: function () {
            return this._description;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, "highRange", {
          get: function () {
            return this._highRange;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, "lowRange", {
          get: function () {
            return this._lowRange;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, "runtimeStatus", {
          get: function () {
            return this._runTimeStatus;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, "runtimeStatusReason", {
          get: function () {
            return this._runTimeStatusReason;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, "serverId", {
          get: function () {
            return this._serverId;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, "dataObjectType", {
          get: function () {
            return this._type;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, "isDiscrete", {
          get: function () {
            return this._isDiscrete;
          },
          enumerable: !0,
          configurable: !0,
        }),
        e
      );
    })();
  }
),
  define(
    "HMIWeb/Source/Data/PageDataObject",
    ["require", "exports", "./InsightProtocolConstants", "./DataObjectSetting"],
    function (e, t, i, c) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function e(e, t, n, i, r, o, a) {
          var s = this;
          (this.dataObjectType = 5),
            (this.site = e),
            (this.dataService = t),
            (this.serverId = n),
            (this.configCollector = r),
            (this.logger = i),
            (this.customProperties = new c.DataObjectSetting(null));
          var u = (this.name = "[P-DO-" + n + "]"),
            l = (this.key = {
              get id() {
                return n;
              },
              get type() {
                return 5;
              },
              get name() {
                return u;
              },
            });
          (this.api = {
            get key() {
              return l;
            },
            updateCustomProperties: function (e) {
              return s.updateCustomProperties(e);
            },
          }),
            1 == a && r.updateConfiguration({ isDynamicallyCreated: !0 }),
            (this.parent = null);
        }
        return (
          (e.prototype.delete = function () {
            this.configCollector.updateConfiguration({ isDeleted: !0 }),
              this.logger.debug("Data", this.name + " deleted");
          }),
          (e.prototype.update = function (e) {
            var t = e;
            for (var n in t)
              n === i.PageDataObject.CustomProperties
                ? this.customProperties.setValueAndPublish(t.cp)
                : n === i.DataUpdate.DataObjectComplete &&
                  this.site.dataObjectReady(this.serverId);
          }),
          (e.prototype.updateCustomProperties = function (e) {
            this.configCollector.updateConfiguration({ customProperties: e });
          }),
          (e.prototype.refreshData = function () {
            this.dataService.refreshData(this.serverId).catch(function () {});
          }),
          e
        );
      })();
      t.PageDataObject = n;
    }
  ),
  define(
    "HMIWeb/Source/Data/TimeDataObject",
    ["require", "exports", "./DataObjectSetting", "./InsightProtocolConstants"],
    function (e, t, h, n) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var i = (function () {
        function e(e, t, n, i, r, o) {
          var a = this;
          (this.dataObjectType = 4),
            (this.site = e),
            (this.logger = n),
            (this.serverId = t),
            (this.configCollector = i);
          var s = (this.name = "[TM-DO-" + t + "]");
          (this.startTimeMs = new h.DataObjectSetting(n, null)),
            (this.endTimeMs = new h.DataObjectSetting(n, null)),
            (this.currentTimeMs = new h.DataObjectSetting(n, null)),
            (this.isZoomed = new h.DataObjectSetting(n, null)),
            (this.unzoomStartTimeMs = new h.DataObjectSetting(n, null)),
            (this.unzoomEndTimeMs = new h.DataObjectSetting(n, null)),
            (this.hairlineTimesMs = new h.DataObjectSetting(n, null)),
            (this.startTimeConfigurationFixedValueMs = new h.DataObjectSetting(
              n,
              null
            )),
            (this.endTimeConfigurationFixedValueMs = new h.DataObjectSetting(
              n,
              null
            )),
            (this.currentTimeConfigurationMode = new h.DataObjectSetting(n, 0)),
            (this.currentTimeConfigurationFixedValueMs =
              new h.DataObjectSetting(n, null)),
            (this.aggregate = new h.DataObjectSetting(n, null)),
            (this.tagSourceName = new h.DataObjectSetting(n, null)),
            (this.resampleInterval = new h.DataObjectSetting(n, null)),
            (this.minConfidence = new h.DataObjectSetting(n, null)),
            (this.refreshInterval = new h.DataObjectSetting(n, null));
          var u = (this.key = {
            get id() {
              return t;
            },
            get type() {
              return 4;
            },
            get name() {
              return s;
            },
          });
          if (
            ((this.api = {
              get key() {
                return u;
              },
              setStartTime: function (e) {
                a.setStartTime(e);
              },
              setEndTime: function (e) {
                a.setEndTime(e);
              },
              setCurrentTime: function (e) {
                a.setCurrentTime(e);
              },
              setAggregate: function (e) {
                a.setAggregate(e);
              },
              setTagSourceName: function (e) {
                a.setTagSourceName(e);
              },
              setResampleInterval: function (e) {
                a.setResampleInterval(e);
              },
              setMinConfidence: function (e) {
                a.setMinConfidence(e);
              },
              setRefreshInterval: function (e) {
                a.setRefreshInterval(e);
              },
              pegCurrentTimeAsEndTime: function () {
                a.pegCurrentTimeAsEndTime();
              },
            }),
            1 === o && i.updateConfiguration({ isDynamicallyCreated: !0 }),
            r && null != r.parentId
              ? (1 === o && i.updateConfiguration({ parentId: r.parentId }),
                (this.parent = this.site.getDataObjectById(r.parentId).key))
              : (this.parent = null),
            r &&
              null != r.isPrimary &&
              1 === o &&
              i.updateConfiguration({ isPrimary: r.isPrimary }),
            r && void 0 !== r.startTime)
          ) {
            var l = Date.parse(r.startTime);
            isNaN(l) || this.setStartTimeImpl(l, o);
          }
          if (r && null != r.endTime) {
            var c = Date.parse(r.endTime);
            isNaN(c) || this.setEndTimeImpl(c, o);
          }
          if (r && void 0 !== r.currentTime)
            if (null == r.currentTime) this.pegCurrentTimeAsEndTimeImpl(0);
            else {
              var d = Date.parse(r.currentTime);
              isNaN(d) || this.setCurrentTimeImpl(d, o);
            }
        }
        return (
          (e.prototype.delete = function () {
            this.configCollector.updateConfiguration({ isDeleted: !0 }),
              this.logger.debug("Data", this.name + " deleted");
          }),
          (e.prototype.update = function (e) {
            this.logger.debug(
              "Data",
              this.name + " Receiving update from server"
            ),
              void 0 !== e[n.TimeDataObject.Start] &&
                (null !== this.startTimeConfigurationFixedValueMs.value ||
                  this.startTimeMs.setValueAndPublish(
                    new Date(e[n.TimeDataObject.Start].v).valueOf()
                  )),
              void 0 !== e[n.TimeDataObject.End] &&
                (null !== this.endTimeConfigurationFixedValueMs.value ||
                  this.endTimeMs.setValueAndPublish(
                    new Date(e[n.TimeDataObject.End].v).valueOf()
                  )),
              void 0 !== e[n.TimeDataObject.Current] &&
                ((2 === this.currentTimeConfigurationMode.value &&
                  null !== this.endTimeConfigurationFixedValueMs.value) ||
                  (1 === this.currentTimeConfigurationMode.value &&
                    null !== this.currentTimeConfigurationFixedValueMs.value) ||
                  this.currentTimeMs.setValueAndPublish(
                    new Date(e[n.TimeDataObject.Current].v).valueOf()
                  )),
              void 0 !== e[n.DataUpdate.DataObjectComplete] &&
                this.site.dataObjectReady(this.serverId);
          }),
          (e.prototype.pegCurrentTimeAsEndTime = function () {
            this.pegCurrentTimeAsEndTimeImpl(1);
          }),
          (e.prototype.pegCurrentTimeAsEndTimeImpl = function (e) {
            if (2 !== this.currentTimeConfigurationMode.value) {
              this.currentTimeConfigurationMode.setValueAndPublish(2),
                this.currentTimeConfigurationFixedValueMs.setValueAndPublish(
                  null
                ),
                1 === e &&
                  this.configCollector.updateConfiguration({
                    currentTime: null,
                  });
              var t = this.endTimeMs.value;
              this.currentTimeMs.value !== t &&
                this.currentTimeMs.setValueAndPublish(t);
            }
          }),
          (e.prototype.setCurrentTime = function (e) {
            this.setCurrentTimeImpl(e, 1);
          }),
          (e.prototype.setCurrentTimeImpl = function (e, t) {
            if (void 0 !== e) {
              if (null === e)
                throw new Error(
                  "Not implemented, current time cannot be unconfigured"
                );
              var n = "number" == typeof e ? e : e.getTime();
              if (isNaN(n)) throw new Error("expected valid argument");
              if (
                1 !== this.currentTimeConfigurationMode.value ||
                this.currentTimeConfigurationFixedValueMs.value !== n
              ) {
                1 !== this.currentTimeConfigurationMode.value &&
                  this.currentTimeConfigurationMode.setValueAndPublish(1),
                  this.currentTimeConfigurationFixedValueMs.value !== n &&
                    this.currentTimeConfigurationFixedValueMs.setValueAndPublish(
                      n
                    );
                var i = this.currentTimeConfigurationFixedValueMs.value;
                1 === t &&
                  this.configCollector.updateConfiguration({
                    currentTime: new Date(i).toISOString(),
                  }),
                  this.currentTimeMs.value !== i &&
                    this.currentTimeMs.setValueAndPublish(i);
              }
            }
          }),
          (e.prototype.setStartTime = function (e) {
            this.setStartTimeImpl(e, 1);
          }),
          (e.prototype.setStartTimeImpl = function (e, t) {
            if (void 0 !== e) {
              if (null === e)
                throw new Error(
                  "Not implemented, start time cannot be unconfigured"
                );
              var n = "number" == typeof e ? e : e.getTime();
              if (isNaN(n)) throw new Error("expected valid argument");
              (n = r(n)),
                this.startTimeConfigurationFixedValueMs.value !== n &&
                  (this.startTimeConfigurationFixedValueMs.setValueAndPublish(
                    n
                  ),
                  this.startTimeMs.setValueAndPublish(n),
                  1 === t &&
                    this.configCollector.updateConfiguration({
                      startTime: new Date(n).toISOString(),
                    }));
            }
          }),
          (e.prototype.setEndTime = function (e) {
            this.setEndTimeImpl(e, 1);
          }),
          (e.prototype.setEndTimeImpl = function (e, t) {
            if (void 0 !== e) {
              if (null === e)
                throw new Error(
                  "Not implemented, end time cannot be unconfigured"
                );
              var n = "number" == typeof e ? e : e.getTime();
              if (isNaN(n)) throw new Error("expected valid argument");
              if (
                ((n = o(n)),
                this.endTimeConfigurationFixedValueMs.value !== n &&
                  (this.endTimeConfigurationFixedValueMs.setValueAndPublish(n),
                  this.endTimeMs.setValueAndPublish(n),
                  1 === t &&
                    this.configCollector.updateConfiguration({
                      endTime: new Date(n).toISOString(),
                    }),
                  2 === this.currentTimeConfigurationMode.value))
              ) {
                var i = this.endTimeMs.value;
                this.currentTimeMs.setValueAndPublish(i);
              }
            }
          }),
          (e.prototype.setIsZoomed = function (e) {
            if (void 0 !== e) {
              if (null === e)
                throw new Error(
                  "Not implemented, zoom state cannot be unconfigured"
                );
              this.isZoomed.value !== e && this.isZoomed.setValueAndPublish(e);
            }
          }),
          (e.prototype.setResetStartTime = function (e) {
            if (void 0 !== e) {
              var t;
              if (null === e) t = null;
              else if (((t = e.valueOf()), isNaN(t)))
                throw new Error("expected valid argument");
              (t = r(t)),
                this.unzoomStartTimeMs.value !== t &&
                  this.unzoomStartTimeMs.setValueAndPublish(t);
            }
          }),
          (e.prototype.setResetEndTime = function (e) {
            if (void 0 !== e) {
              var t;
              if (null === e) t = null;
              else if (((t = e.valueOf()), isNaN(t)))
                throw new Error("expected valid argument");
              (t = o(t)),
                this.unzoomEndTimeMs.value !== t &&
                  this.unzoomEndTimeMs.setValueAndPublish(t);
            }
          }),
          (e.prototype.setHairlines = function (e) {
            if (void 0 !== e) {
              if (null === e)
                throw new Error(
                  "Not implemented, hairlines cannot be unconfigured"
                );
              for (var t = [], n = 0, i = e; n < i.length; n++) {
                var r = i[n];
                if (null == r) throw new Error("expected valid argument");
                var o = "number" == typeof r ? r : r.getTime();
                if (isNaN(o)) throw new Error("expected non-NaN argument");
                t.push(o);
              }
              (null != this.hairlineTimesMs.value &&
                (function (e, t) {
                  if (e.length !== t.length) return !1;
                  for (var n = 0; n < e.length; n++)
                    if (e[n] !== t[n]) return !1;
                  return !0;
                })(this.hairlineTimesMs.value, t)) ||
                this.hairlineTimesMs.setValueAndPublish(t);
            }
          }),
          (e.prototype.setAggregate = function (e) {
            if (void 0 !== e) {
              if (null === e)
                throw new Error(
                  "Not implemented, aggregate cannot be unconfigured"
                );
              this.aggregate.value !== e &&
                (this.aggregate.setValueAndPublish(e),
                this.configCollector.updateConfiguration({ aggregate: e }));
            }
          }),
          (e.prototype.setTagSourceName = function (e) {
            if (void 0 !== e) {
              if (null === e)
                throw new Error(
                  "Not implemented, tagSource cannot be unconfigured"
                );
              this.tagSourceName.value !== e &&
                (this.tagSourceName.setValueAndPublish(e),
                this.configCollector.updateConfiguration({ tagSource: e }));
            }
          }),
          (e.prototype.setResampleInterval = function (e) {
            if (void 0 !== e) {
              if (null === e)
                throw new Error(
                  "Not implemented, resampleInterval cannot be unconfigured"
                );
              this.resampleInterval.value !== e &&
                (this.resampleInterval.setValueAndPublish(e),
                this.configCollector.updateConfiguration({
                  resampleInterval: e,
                }));
            }
          }),
          (e.prototype.setMinConfidence = function (e) {
            if (void 0 !== e) {
              if (null === e)
                throw new Error(
                  "Not implemented, minConfidence cannot be unconfigured"
                );
              this.minConfidence.value !== e &&
                (this.minConfidence.setValueAndPublish(e),
                this.configCollector.updateConfiguration({ minConfidence: e }));
            }
          }),
          (e.prototype.setRefreshInterval = function (e) {
            if (void 0 !== e) {
              if (null === e)
                throw new Error(
                  "Not implemented, refreshInterval cannot be unconfigured"
                );
              this.refreshInterval.value !== e &&
                (this.refreshInterval.setValueAndPublish(e),
                this.configCollector.updateConfiguration({
                  refreshInterval: e,
                }));
            }
          }),
          e
        );
      })();
      function r(e) {
        return 1e3 * Math.floor(e / 1e3);
      }
      function o(e) {
        return 1e3 * Math.ceil(e / 1e3);
      }
      t.TimeDataObject = i;
    }
  ),
  define(
    "HMIWeb/Source/Data/DataObjectFactory",
    [
      "require",
      "exports",
      "./GenericDataObject",
      "./TrendDataObject",
      "./TableDataObject",
      "./ContainerDataObject",
      "./TimeSeriesDataCollator",
      "./TimeSeriesDataObject",
      "./PageDataObject",
      "./TimeDataObject",
    ],
    function (e, t, r, o, a, s, u, l, c, d) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function e(e, t, n, i) {
          (this.dataService = e),
            (this.localisation = t),
            (this.logger = n),
            (this.configStore = i);
        }
        return (
          (e.prototype.createDataObject = function (e, t, n, i, r) {
            switch (t) {
              case 1:
                return this.createGenericDataObject(e, n, i, r);
              case 2:
                return this.createTrendDataObject(e, n, i, r);
              case 6:
                return this.createTableDataObject(e, n, i, r);
              case 3:
                return this.createTimeSeriesDataObject(e, n, i, r);
              case 4:
                return this.createTimeDataObject(e, n, i, r);
              case 5:
                return this.createPageDataObject(e, n, i, r);
              case 7:
                return this.createContainerDataObject(e, n, i, r);
              case void 0:
                throw new Error("Definition received without an object type");
              default:
                throw new Error("Unknown data object type: " + t);
            }
          }),
          (e.prototype.createGenericDataObject = function (e, t, n, i) {
            return new r.GenericDataObject(
              t,
              this.localisation,
              this.logger,
              e,
              this.configStore.createCollector(e, 1),
              n,
              i
            );
          }),
          (e.prototype.createContainerDataObject = function (e, t, n, i) {
            return new s.ContainerDataObject(
              t,
              this.logger,
              e,
              this.configStore.createCollector(e, 7),
              n,
              i
            );
          }),
          (e.prototype.createPageDataObject = function (e, t, n, i) {
            return new c.PageDataObject(
              t,
              this.dataService,
              e,
              this.logger,
              this.configStore.createCollector(e, 5),
              n,
              i
            );
          }),
          (e.prototype.createTimeDataObject = function (e, t, n, i) {
            return new d.TimeDataObject(
              t,
              e,
              this.logger,
              this.configStore.createCollector(e, 4),
              n,
              i
            );
          }),
          (e.prototype.createTrendDataObject = function (e, t, n, i) {
            return new o.TrendDataObject(
              t,
              this.dataService,
              new u("Trend", this.logger),
              this.logger,
              e,
              this.configStore.createCollector(e, 2),
              n,
              i
            );
          }),
          (e.prototype.createTableDataObject = function (e, t, n, i) {
            return new a.TableDataObject(
              t,
              this.dataService,
              new u("Table", this.logger),
              this.logger,
              e,
              this.configStore.createCollector(e, 6),
              n,
              i
            );
          }),
          (e.prototype.createTimeSeriesDataObject = function (e, t, n, i) {
            return new l(
              t,
              this.logger,
              e,
              this.configStore.createCollector(e, 3),
              n,
              i
            );
          }),
          e
        );
      })();
      t.DataObjectFactory = n;
    }
  );
var __assign =
  (this && this.__assign) ||
  function () {
    return (__assign =
      Object.assign ||
      function (e) {
        for (var t, n = 1, i = arguments.length; n < i; n++)
          for (var r in (t = arguments[n]))
            Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
        return e;
      }).apply(this, arguments);
  };
define(
  "HMIWeb/Source/Data/DataObjectConfigurationStore",
  ["require", "exports"],
  function (e, t) {
    "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 });
    var n = (function () {
      function e() {
        (this.changedConfiguration = []),
          (this.changedConfigurationDataObjectToIndexMap = {}),
          (this.allConfiguration = []),
          (this.allConfigurationDataObjectToIndexMap = {});
      }
      return (
        Object.defineProperty(e.prototype, "hasUpdatedConfiguration", {
          get: function () {
            return 0 != this.changedConfiguration.length;
          },
          enumerable: !0,
          configurable: !0,
        }),
        (e.prototype.createCollector = function (t, n) {
          var i = this;
          return {
            updateConfiguration: function (e) {
              i.merge(
                i.changedConfiguration,
                i.changedConfigurationDataObjectToIndexMap,
                t,
                n,
                e
              ),
                i.merge(
                  i.allConfiguration,
                  i.allConfigurationDataObjectToIndexMap,
                  t,
                  n,
                  e
                );
            },
          };
        }),
        (e.prototype.getChangedConfiguration = function () {
          var e = this.changedConfiguration;
          return (
            (this.changedConfiguration = []),
            (this.changedConfigurationDataObjectToIndexMap = {}),
            e
          );
        }),
        (e.prototype.getEntireConfiguration = function () {
          return this.allConfiguration;
        }),
        (e.prototype.merge = function (e, t, n, i, r) {
          if (null != r) {
            var o = t[n];
            null == o && (o = t[n] = e.length);
            var a = e[o];
            null == a && (a = e[o] = { dataObjectId: n, type: i, config: {} });
            for (var s = 0, u = Object.keys(r); s < u.length; s++) {
              var l = u[s];
              "object" != typeof a.config[l] ||
              null == a.config[l] ||
              a.config[l] instanceof Date
                ? (a.config[l] = r[l])
                : (a.config[l] = __assign({}, a.config[l], r[l]));
            }
            if (a.config.isDynamicallyCreated && a.config.isDeleted) {
              for (var c = 0, d = Object.keys(t); c < d.length; c++) {
                t[(l = d[c])] > o && t[l]--;
              }
              e.splice(o, 1), delete t[o];
            }
          }
        }),
        e
      );
    })();
    t.DataObjectConfigurationStore = n;
  }
),
  define(
    "HMIWeb/Source/Data/DataObjectSettingBatch",
    ["require", "exports", "signals"],
    function (e, t, u) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function e(e, t, n) {
          (this.includedSettings = n),
            (this.afterAllBatchesComplete = t),
            (this.subscriberCallbacks = []),
            (this.subscriberDisposers = []);
        }
        return (
          (e.prototype.subscribe = function (t) {
            var n = this,
              i = new u.Signal();
            this.subscriberCallbacks.push(t), this.subscriberDisposers.push(i);
            var r = null,
              e = function () {
                if (r) {
                  var e = r;
                  (r = null), t(n.value, e);
                }
              };
            this.afterAllBatchesComplete.add(e),
              i.addOnce(function () {
                return n.afterAllBatchesComplete.remove(e);
              });
            var o = function (t) {
                var e = function (e) {
                  (r = r || {})[t] = e;
                };
                a.includedSettings[t].subscribe(e),
                  i.addOnce(function () {
                    return n.includedSettings[t].unsubscribe(e);
                  });
              },
              a = this;
            for (var s in this.includedSettings) o(s);
          }),
          (e.prototype.unsubscribe = function (e) {
            var t = this.subscriberCallbacks.indexOf(e);
            0 <= t &&
              (this.subscriberDisposers[t].dispatch(),
              this.subscriberDisposers.splice(t, 1),
              this.subscriberCallbacks.splice(t, 1));
          }),
          Object.defineProperty(e.prototype, "value", {
            get: function () {
              var e = {};
              for (var t in this.includedSettings)
                e[t] = this.includedSettings[t].value;
              return e;
            },
            enumerable: !0,
            configurable: !0,
          }),
          e
        );
      })();
      t.DataObjectSettingBatch = n;
    }
  ),
  define(
    "HMIWeb/Source/Data/SubscriptionHelper",
    ["require", "exports", "signals"],
    function (e, t, n) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var i = (function () {
        function e(e) {
          (this.dataLayer = e), (this.onUnsubscribeAll = new n.Signal());
        }
        return (
          (e.prototype.subscribe = function (e, t) {
            e.subscribe(t),
              this.onUnsubscribeAll.addOnce(function () {
                return e.unsubscribe(t);
              });
          }),
          (e.prototype.unsubscribeAll = function () {
            var e = this;
            this.dataLayer.use(function () {
              e.onUnsubscribeAll.dispatch();
            });
          }),
          e
        );
      })();
      t.SubscriptionHelper = i;
    }
  ),
  define(
    "HMIWeb/Source/Data/DataLayer",
    [
      "require",
      "exports",
      "signals",
      "./DataModel",
      "./DataObjectFactory",
      "./DataObjectConfigurationStore",
      "./DataObjectSettingBatch",
      "./SubscriptionHelper",
    ],
    function (e, t, u, l, c, d, n, i) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var r = (function () {
        function e(e, t, n, i, r, o, a) {
          var s = this;
          (this.logger = e),
            (this.dataObjectConfigurationStore =
              a || new d.DataObjectConfigurationStore()),
            (this.dataModel =
              o ||
              new l.DataModel(
                e,
                new c.DataObjectFactory(
                  i,
                  n,
                  e,
                  this.dataObjectConfigurationStore
                ),
                r,
                t
              )),
            (this.dataModelComplete = this.dataModel.dataModelComplete),
            (this.afterAllBatchesComplete = new u.Signal()),
            (this.onHasUpdatedConfiguration = new u.Signal()),
            (this.numSuspensions = 0),
            (this.numActiveBatches = 0),
            (this.pauseTimer = null),
            (this.api = {
              use: function (t) {
                return s.use(function (e) {
                  return t(e.api);
                });
              },
              suspendConfigurationUpdatesAsync: function (e) {
                return s.suspendConfigurationUpdatesAsync(function () {
                  return e();
                });
              },
            });
        }
        return (
          (e.prototype.use = function (e) {
            try {
              this.pauseImpl(!1);
              for (var t = [this.dataModel], n = 1; n < arguments.length; n++)
                t.push(this.unwrapInput(arguments[n]));
              var i = e.apply(this, t);
              return this.wrapOutputs(i);
            } finally {
              this.resumeImpl(!1);
            }
          }),
          (e.prototype.suspendConfigurationUpdatesAsync = function (e) {
            var t = this;
            return Promise.resolve()
              .then(function () {
                return t.pauseImpl(!0), e();
              })
              .then(
                function (e) {
                  return t.resumeImpl(!0), e;
                },
                function (e) {
                  throw (t.resumeImpl(!0), e);
                }
              );
          }),
          (e.prototype.pause = function () {
            this.pauseImpl(!0);
          }),
          (e.prototype.resume = function () {
            this.resumeImpl(!0);
          }),
          (e.prototype.pauseImpl = function (e) {
            var t = this;
            null === this.pauseTimer &&
              (this.pauseTimer = setTimeout(function () {
                t.logger.warn(
                  "Data",
                  "DataLayer paused for more than twenty seconds. Ensure that resume() is called after pause()"
                );
              }, 2e4)),
              e ? this.numSuspensions++ : this.numActiveBatches++;
          }),
          (e.prototype.resumeImpl = function (e) {
            if (
              (e ? this.numSuspensions-- : this.numActiveBatches--,
              0 === this.numActiveBatches &&
                0 === this.numSuspensions &&
                (null !== this.pauseTimer &&
                  (clearTimeout(this.pauseTimer), (this.pauseTimer = null)),
                this.dataObjectConfigurationStore.hasUpdatedConfiguration))
            )
              try {
                this.onHasUpdatedConfiguration.dispatch();
              } catch (e) {
                this.logger.exception(
                  "Data",
                  "Error while publishing to server",
                  e
                );
              }
            if (0 === this.numActiveBatches)
              try {
                this.afterAllBatchesComplete.dispatch();
              } catch (e) {
                this.logger.exception(
                  "Data",
                  "Error while publishing to batch listeners",
                  e
                );
              }
          }),
          Object.defineProperty(e.prototype, "isInUse", {
            get: function () {
              return 0 !== this.numActiveBatches;
            },
            enumerable: !0,
            configurable: !0,
          }),
          Object.defineProperty(
            e.prototype,
            "areConfigurationUpdatesSuspended",
            {
              get: function () {
                return 0 !== this.numSuspensions;
              },
              enumerable: !0,
              configurable: !0,
            }
          ),
          (e.prototype.unwrapInput = function (e) {
            return o(e) ? this.dataModel.getDataObjectById(e.id) : e;
          }),
          (e.prototype.wrapOutputs = function (e) {
            var t = this;
            return null === e
              ? null
              : void 0 !== e
              ? Array.isArray(e)
                ? e.map(function (e) {
                    return t.wrapOutput(e);
                  })
                : this.wrapOutput(e)
              : void 0;
          }),
          (e.prototype.wrapOutput = function (e) {
            return (t = e) && o(t.key) ? e.key : e;
            var t;
          }),
          (e.prototype.getDataObjectById = function (e) {
            return this.dataModel.getDataObjectById(e).key;
          }),
          (e.prototype.createSettingBatch = function (e) {
            return new n.DataObjectSettingBatch(
              this.logger,
              this.afterAllBatchesComplete,
              e
            );
          }),
          (e.prototype.createSubscriptionHelper = function () {
            return new i.SubscriptionHelper(this);
          }),
          e
        );
      })();
      function o(e) {
        return e && void 0 !== e.id && void 0 !== e.type && void 0 !== e.name;
      }
      t.DataLayer = r;
    }
  ),
  define(
    "HMIWeb/Source/Core/RateLimiter",
    ["require", "exports"],
    function (e, t) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function e(e) {
          (this.limitMs = 6e4),
            (this.callback = e),
            (this.hasCallScheduled = !1),
            (this.timeOfLastCall = 0),
            (this.isRateLimited = !0);
        }
        return (
          (e.prototype.invoke = function () {
            var e = this;
            if (this.isRateLimited) {
              if (!this.hasCallScheduled) {
                var t = this.limitMs - (Date.now() - this.timeOfLastCall);
                0 < t
                  ? ((this.scheduledTimer = setTimeout(function () {
                      (e.hasCallScheduled = !1), e.invokeCallback();
                    }, t)),
                    (this.hasCallScheduled = !0))
                  : this.invokeCallback();
              }
            } else this.invokeCallback();
          }),
          (e.prototype.setRateLimitMs = function (e) {
            0 === e
              ? ((this.isRateLimited = !1),
                this.hasCallScheduled &&
                  (clearTimeout(this.scheduledTimer),
                  (this.hasCallScheduled = !1),
                  this.invokeCallback()))
              : ((this.isRateLimited = !0),
                (this.limitMs = e),
                this.hasCallScheduled &&
                  (clearTimeout(this.scheduledTimer),
                  (this.hasCallScheduled = !1),
                  this.invoke()));
          }),
          (e.prototype.invokeCallback = function () {
            2 !== this.callback() && (this.timeOfLastCall = Date.now());
          }),
          e
        );
      })();
      t.RateLimiter = n;
    }
  ),
  define(
    "HMIWeb/Source/Core/i18n/LocalisedStrings",
    ["require", "exports"],
    function (e, t) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function e() {
          this._localisedStringCache = {};
        }
        return (
          (e.prototype.addLocalisedString = function (e, t) {
            this._localisedStringCache[e.toLowerCase()] = t;
          }),
          (e.prototype.getStringOrEmpty = function (e) {
            var t = this._localisedStringCache[e.toLowerCase()];
            return null != t ? t : "";
          }),
          (e.prototype.getStringOrDefault = function (e, t) {
            var n = this.getStringOrEmpty(e);
            return "" == n && (n = t), n;
          }),
          (e.prototype.getStringOrError = function (e) {
            var t = this.getStringOrEmpty(e);
            return (
              "" == t && (t = this.getStringOrEmpty("resourceNotFound")),
              "" === t && (t = "!Resource not found"),
              t
            );
          }),
          e
        );
      })();
      t.LocalisedStrings = n;
    }
  );
var __assign =
  (this && this.__assign) ||
  function () {
    return (__assign =
      Object.assign ||
      function (e) {
        for (var t, n = 1, i = arguments.length; n < i; n++)
          for (var r in (t = arguments[n]))
            Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
        return e;
      }).apply(this, arguments);
  };
define(
  "HMIWeb/Source/Core/i18n/LocalisationCache",
  ["require", "exports", "./LocalisedStrings", "promise"],
  function (e, t, r) {
    "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 });
    var n = (function () {
      function e(e) {
        (this._DEFAULT_CULTURE = "en-US"),
          (this._requestUrl = "http://localhost:6001/strings"),
          (this._username = ""),
          (this._localisedDelimiter = "."),
          (this._logger = e),
          (this.culture = this._DEFAULT_CULTURE),
          (this.dateTimeFormatOverride = {
            showWeekday: void 0,
            show12Hour: void 0,
            showSeconds: !0,
            showShortYear: !1,
            showNumericMonth: !0,
          });
      }
      return (
        (e.prototype.initialize = function () {
          this._localisedStringsPromise = this.requestServerResourceStrings();
        }),
        (e.prototype.requestServerResourceStrings = function () {
          var n = this,
            i = new r.LocalisedStrings();
          return this._sendAjaxRequest().then(
            function (e) {
              for (var t in e)
                switch (t) {
                  case "culture":
                    n.culture = e[t];
                    break;
                  case "username":
                    n._username = e[t];
                    break;
                  case "showWeekday":
                    n.dateTimeFormatOverride.showWeekday =
                      "true" === e[t].toLowerCase();
                    break;
                  case "show12Hour":
                    n.dateTimeFormatOverride.show12Hour =
                      "true" === e[t].toLowerCase();
                    break;
                  case "showSeconds":
                    n.dateTimeFormatOverride.showSeconds =
                      "true" === e[t].toLowerCase();
                    break;
                  case "showShortYear":
                    n.dateTimeFormatOverride.showShortYear =
                      "true" === e[t].toLowerCase();
                    break;
                  case "showNumericMonth":
                    n.dateTimeFormatOverride.showNumericMonth =
                      "true" === e[t].toLowerCase();
                    break;
                  default:
                    i.addLocalisedString(t, e[t]);
                }
              return i;
            },
            function (e) {
              var t;
              return (
                (t = void 0 !== e.description ? e.description : e),
                n._logger.error(
                  "Communication",
                  "Error obtaining localised strings: " + t
                ),
                i
              );
            }
          );
        }),
        (e.prototype._sendAjaxRequest = function () {
          var i = this;
          return new Promise(function (e, t) {
            var n = new XMLHttpRequest();
            n.open("GET", i._requestUrl),
              n.setRequestHeader("Content-Type", "application/json"),
              (n.onload = function () {
                200 == n.status
                  ? e(JSON.parse(n.response))
                  : t(new Error(n.statusText));
              }),
              (n.onerror = function () {
                t(new Error("Network Error"));
              }),
              n.send();
          });
        }),
        (e.prototype.getLocalisedStrings = function () {
          return this._localisedStringsPromise;
        }),
        Object.defineProperty(e.prototype, "culture", {
          get: function () {
            return this._culture;
          },
          set: function (e) {
            e != this._culture &&
              ((this._culture = e),
              (this._localisedDelimiter = (1.1)
                .toLocaleString(e)
                .substring(1, 2)),
              (this._formatters = null));
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(e.prototype, "username", {
          get: function () {
            return this._username;
          },
          enumerable: !0,
          configurable: !0,
        }),
        (e.prototype.getDecimalSeparator = function () {
          return this._localisedDelimiter;
        }),
        (e.prototype.getLocalisedDateTimeStringFromDate = function (e) {
          return (
            this.getOrCreateFormatters()._dateFormatter.format(e) +
            " " +
            this.getOrCreateFormatters()._timeFormatter.format(e)
          );
        }),
        (e.prototype.getLocalisedDateStringFromDate = function (e) {
          return this.getOrCreateFormatters()._dateFormatter.format(e);
        }),
        (e.prototype.getLocalisedTimeStringFromDate = function (e) {
          return this.getOrCreateFormatters()._timeFormatter.format(e);
        }),
        (e.prototype.getLocalisedTimeStringWithSecondsFromDate = function (e) {
          return this.getOrCreateFormatters()._timeWithSecondsFormatter.format(
            e
          );
        }),
        (e.prototype.getLocalisedTimeStringWithSecondsWithoutDayPeriodFromDate =
          function (e) {
            var t = this.dateTimeFormatOverride.show12Hour;
            if (
              (void 0 === t &&
                (t =
                  -1 ===
                  this.getOrCreateFormatters()
                    ._timeFormatter.format(new Date(1, 1, 1, 13))
                    .indexOf("13")),
              t)
            ) {
              var n = e.getHours();
              return (
                (0 === n || 12 === n ? 12 : e.getHours() % 12) +
                ":" +
                this.pad(e.getMinutes(), 2) +
                ":" +
                this.pad(e.getSeconds(), 2)
              );
            }
            return (
              this.pad(e.getHours(), 2) +
              ":" +
              this.pad(e.getMinutes(), 2) +
              ":" +
              this.pad(e.getSeconds(), 2)
            );
          }),
        (e.prototype.getLocalisedTimeStringWithoutSecondsFromDate = function (
          e
        ) {
          return this.getOrCreateFormatters()._timeWithoutSecondsFormatter.format(
            e
          );
        }),
        (e.prototype.getLocalisedDayMonthString = function (e) {
          return this.getOrCreateFormatters()._dayMonthFormatter.format(e);
        }),
        (e.prototype.getLocalisedMonthYearString = function (e) {
          return this.getOrCreateFormatters()._monthYearFormatter.format(e);
        }),
        (e.prototype.getLocalisedYearString = function (e) {
          return this.getOrCreateFormatters()._yearFormatter.format(e);
        }),
        (e.prototype.pad = function (e, t) {
          var n = e + "";
          return t <= n.length ? n : new Array(t - n.length + 1).join("0") + n;
        }),
        (e.prototype.getLocalisedExcelDateTimeStringFromDate = function (e) {
          return (
            this.pad(e.getFullYear(), 4) +
            "-" +
            this.pad(e.getMonth() + 1, 2) +
            "-" +
            this.pad(e.getDate(), 2) +
            " " +
            this.pad(e.getHours(), 2) +
            ":" +
            this.pad(e.getMinutes(), 2) +
            ":" +
            this.pad(e.getSeconds(), 2)
          );
        }),
        (e.prototype.getLocaleDateTimeFormat = function () {
          throw new Error("getLocaleDateTimeFormat not implemented.");
        }),
        (e.prototype.getLocaleDateFormat = function () {
          throw new Error("getLocaleDateFormat not implemented.");
        }),
        (e.prototype.getLocaleTimeFormat = function () {
          throw new Error("getLocaleTimeFormat not implemented.");
        }),
        (e.prototype.getOrCreateFormatters = function () {
          if (null != this._formatters) return this._formatters;
          if (!window.Intl || "function" != typeof window.Intl.DateTimeFormat)
            throw new Error(
              "Intl.DateTimeFormat not supported by the browser. Check that browser is supported."
            );
          var e = {
              year: this.dateTimeFormatOverride.showShortYear
                ? "2-digit"
                : "numeric",
              month:
                this.dateTimeFormatOverride.showNumericMonth ||
                null == this.dateTimeFormatOverride.showNumericMonth
                  ? "2-digit"
                  : "short",
              day: "2-digit",
              weekday: this.dateTimeFormatOverride.showWeekday
                ? "short"
                : void 0,
            },
            t = {
              hour: "2-digit",
              minute: "2-digit",
              second: this.dateTimeFormatOverride.showSeconds
                ? "2-digit"
                : void 0,
              hour12: this.dateTimeFormatOverride.show12Hour,
            };
          try {
            return (this._formatters = {
              _dateFormatter: new Intl.DateTimeFormat(this._culture, e),
              _timeFormatter: new Intl.DateTimeFormat(this._culture, t),
              _timeWithSecondsFormatter: new Intl.DateTimeFormat(
                this._culture,
                __assign({}, t, { second: "2-digit" })
              ),
              _timeWithoutSecondsFormatter: new Intl.DateTimeFormat(
                this._culture,
                __assign({}, t, { second: void 0 })
              ),
              _dayMonthFormatter: new Intl.DateTimeFormat(this._culture, {
                day: "numeric",
                month: "short",
              }),
              _monthYearFormatter: new Intl.DateTimeFormat(this._culture, {
                month: "short",
                year: "numeric",
              }),
              _yearFormatter: new Intl.DateTimeFormat(this._culture, {
                year: "numeric",
              }),
            });
          } catch (e) {
            throw new Error(
              "Had a problem using Intl.DateTimeFormat despite _IntlDateTimeFormatSupported being true."
            );
          }
        }),
        (e.prototype.parseLocaleFloat = function (e) {
          return parseFloat(
            e.replace(this.getDecimalSeparator(), ".").replace(/[^\.\d-]/g, "")
          );
        }),
        (e.prototype.toLocaleFloat = function (e, t) {
          return null == e
            ? ""
            : ("number" == typeof e && null != t
                ? e.toFixed(Math.min(20, t))
                : e.toString()
              ).replace(".", this.getDecimalSeparator());
        }),
        (e.prototype.toLocaleLimitedLengthFloat = function (e, t, n) {
          if (null != n) {
            var i = this.toLocaleFloat(e, n);
            if (i.length <= t) return i;
          }
          return this.toFriendly(e, t).replace(".", this.getDecimalSeparator());
        }),
        (e.prototype.toFriendly = function (e, t) {
          if (t <= 0) return "";
          if ("number" != typeof e) return "";
          var n = "" + e;
          if (n.length <= t) return n;
          var i = e.toExponential(Math.min(20, t));
          if (i.length > t) {
            var r = Math.max(0, 2 * t - i.length);
            i = e.toExponential(Math.min(20, r));
          }
          if (e % 1 == 0) return i;
          var o = e.toFixed(Math.min(20, t));
          if (o.length > t) {
            var a = 2 * t - o.length;
            if (a < 2) return i;
            o = e.toFixed(Math.min(20, a));
          }
          return 0 === parseFloat(o) ? i : o;
        }),
        e
      );
    })();
    t.LocalisationCache = n;
  }
),
  /**
   * @license
   * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
   * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
   * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
   * Code distributed by Google as part of the polymer project is also
   * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
   */
  "undefined" == typeof WeakMap &&
    (function () {
      var i = Object.defineProperty,
        e = Date.now() % 1e9,
        t = function () {
          this.name = "__st" + ((1e9 * Math.random()) >>> 0) + e++ + "__";
        };
      (t.prototype = {
        set: function (e, t) {
          var n = e[this.name];
          return (
            n && n[0] === e
              ? (n[1] = t)
              : i(e, this.name, { value: [e, t], writable: !0 }),
            this
          );
        },
        get: function (e) {
          var t;
          return (t = e[this.name]) && t[0] === e ? t[1] : void 0;
        },
        delete: function (e) {
          var t = e[this.name];
          return !(!t || t[0] !== e || ((t[0] = t[1] = void 0), 0));
        },
        has: function (e) {
          var t = e[this.name];
          return !!t && t[0] === e;
        },
      }),
        (window.WeakMap = t);
    })(),
  (function (e) {
    function o() {
      c = !1;
      var e = m;
      (m = []),
        e.sort(function (e, t) {
          return e.uid_ - t.uid_;
        });
      var i = !1;
      e.forEach(function (e) {
        var n,
          t = e.takeRecords();
        (n = e).nodes_.forEach(function (e) {
          var t = l.get(e);
          t &&
            t.forEach(function (e) {
              e.observer === n && e.removeTransientObservers();
            });
        }),
          t.length && (e.callback_(t, e), (i = !0));
      }),
        i && o();
    }
    function d(e, t) {
      for (var n = e; n; n = n.parentNode) {
        var i = l.get(n);
        if (i)
          for (var r = 0; r < i.length; r++) {
            var o = i[r],
              a = o.options;
            if (n === e || a.subtree) {
              var s = t(a);
              s && o.enqueue(s);
            }
          }
      }
    }
    function t(e) {
      (this.callback_ = e),
        (this.nodes_ = []),
        (this.records_ = []),
        (this.uid_ = ++v);
    }
    function i(e, t) {
      (this.type = e),
        (this.target = t),
        (this.addedNodes = []),
        (this.removedNodes = []),
        (this.previousSibling = null),
        (this.nextSibling = null),
        (this.attributeName = null),
        (this.attributeNamespace = null),
        (this.oldValue = null);
    }
    function h(e, t) {
      return (p = new i(e, t));
    }
    function f(e) {
      return (
        g ||
        (((n = new i((t = p).type, t.target)).addedNodes =
          t.addedNodes.slice()),
        (n.removedNodes = t.removedNodes.slice()),
        (n.previousSibling = t.previousSibling),
        (n.nextSibling = t.nextSibling),
        (n.attributeName = t.attributeName),
        (n.attributeNamespace = t.attributeNamespace),
        (n.oldValue = t.oldValue),
        ((g = n).oldValue = e),
        g)
      );
      var t, n;
    }
    function a(e, t) {
      return e === t ? e : g && ((n = e) === g || n === p) ? g : null;
      var n;
    }
    function s(e, t, n) {
      (this.observer = e),
        (this.target = t),
        (this.options = n),
        (this.transientObservedNodes = []);
    }
    if (!e.JsMutationObserver) {
      var u,
        l = new WeakMap();
      if (/Trident|Edge/.test(navigator.userAgent)) u = setTimeout;
      else if (window.setImmediate) u = window.setImmediate;
      else {
        var n = [],
          r = String(Math.random());
        window.addEventListener("message", function (e) {
          if (e.data === r) {
            var t = n;
            (n = []),
              t.forEach(function (e) {
                e();
              });
          }
        }),
          (u = function (e) {
            n.push(e), window.postMessage(r, "*");
          });
      }
      var p,
        g,
        c = !1,
        m = [],
        v = 0;
      (t.prototype = {
        observe: function (e, t) {
          if (
            ((n = e),
            (e =
              (window.ShadowDOMPolyfill &&
                window.ShadowDOMPolyfill.wrapIfNeeded(n)) ||
              n),
            (!t.childList && !t.attributes && !t.characterData) ||
              (t.attributeOldValue && !t.attributes) ||
              (t.attributeFilter &&
                t.attributeFilter.length &&
                !t.attributes) ||
              (t.characterDataOldValue && !t.characterData))
          )
            throw new SyntaxError();
          var n,
            i = l.get(e);
          i || l.set(e, (i = []));
          for (var r, o = 0; o < i.length; o++)
            if (i[o].observer === this) {
              (r = i[o]).removeListeners(), (r.options = t);
              break;
            }
          r || ((r = new s(this, e, t)), i.push(r), this.nodes_.push(e)),
            r.addListeners();
        },
        disconnect: function () {
          this.nodes_.forEach(function (e) {
            for (var t = l.get(e), n = 0; n < t.length; n++) {
              var i = t[n];
              if (i.observer === this) {
                i.removeListeners(), t.splice(n, 1);
                break;
              }
            }
          }, this),
            (this.records_ = []);
        },
        takeRecords: function () {
          var e = this.records_;
          return (this.records_ = []), e;
        },
      }),
        (s.prototype = {
          enqueue: function (e) {
            var t,
              n = this.observer.records_,
              i = n.length;
            if (0 < n.length) {
              var r = a(n[i - 1], e);
              if (r) return void (n[i - 1] = r);
            } else (t = this.observer), m.push(t), c || ((c = !0), u(o));
            n[i] = e;
          },
          addListeners: function () {
            this.addListeners_(this.target);
          },
          addListeners_: function (e) {
            var t = this.options;
            t.attributes && e.addEventListener("DOMAttrModified", this, !0),
              t.characterData &&
                e.addEventListener("DOMCharacterDataModified", this, !0),
              t.childList && e.addEventListener("DOMNodeInserted", this, !0),
              (t.childList || t.subtree) &&
                e.addEventListener("DOMNodeRemoved", this, !0);
          },
          removeListeners: function () {
            this.removeListeners_(this.target);
          },
          removeListeners_: function (e) {
            var t = this.options;
            t.attributes && e.removeEventListener("DOMAttrModified", this, !0),
              t.characterData &&
                e.removeEventListener("DOMCharacterDataModified", this, !0),
              t.childList && e.removeEventListener("DOMNodeInserted", this, !0),
              (t.childList || t.subtree) &&
                e.removeEventListener("DOMNodeRemoved", this, !0);
          },
          addTransientObserver: function (e) {
            if (e !== this.target) {
              this.addListeners_(e), this.transientObservedNodes.push(e);
              var t = l.get(e);
              t || l.set(e, (t = [])), t.push(this);
            }
          },
          removeTransientObservers: function () {
            var e = this.transientObservedNodes;
            (this.transientObservedNodes = []),
              e.forEach(function (e) {
                this.removeListeners_(e);
                for (var t = l.get(e), n = 0; n < t.length; n++)
                  if (t[n] === this) {
                    t.splice(n, 1);
                    break;
                  }
              }, this);
          },
          handleEvent: function (e) {
            switch ((e.stopImmediatePropagation(), e.type)) {
              case "DOMAttrModified":
                var t = e.attrName,
                  n = e.relatedNode.namespaceURI,
                  i = e.target;
                ((o = new h("attributes", i)).attributeName = t),
                  (o.attributeNamespace = n);
                var r =
                  e.attrChange === MutationEvent.ADDITION ? null : e.prevValue;
                d(i, function (e) {
                  if (
                    e.attributes &&
                    (!e.attributeFilter ||
                      !e.attributeFilter.length ||
                      -1 !== e.attributeFilter.indexOf(t) ||
                      -1 !== e.attributeFilter.indexOf(n))
                  )
                    return e.attributeOldValue ? f(r) : o;
                });
                break;
              case "DOMCharacterDataModified":
                var o = h("characterData", (i = e.target));
                r = e.prevValue;
                d(i, function (e) {
                  if (e.characterData)
                    return e.characterDataOldValue ? f(r) : o;
                });
                break;
              case "DOMNodeRemoved":
                this.addTransientObserver(e.target);
              case "DOMNodeInserted":
                var a,
                  s,
                  u = e.target;
                "DOMNodeInserted" === e.type
                  ? ((a = [u]), (s = []))
                  : ((a = []), (s = [u]));
                var l = u.previousSibling,
                  c = u.nextSibling;
                ((o = h("childList", e.target.parentNode)).addedNodes = a),
                  (o.removedNodes = s),
                  (o.previousSibling = l),
                  (o.nextSibling = c),
                  d(e.relatedNode, function (e) {
                    if (e.childList) return o;
                  });
            }
            p = g = void 0;
          },
        }),
        (e.JsMutationObserver = t),
        e.MutationObserver || ((e.MutationObserver = t)._isPolyfilled = !0);
    }
  })(self),
  (function (e) {
    "use strict";
    if (!window.performance || !window.performance.now) {
      var t = Date.now();
      window.performance = {
        now: function () {
          return Date.now() - t;
        },
      };
    }
    var n, i;
    if (
      (window.requestAnimationFrame ||
        (window.requestAnimationFrame = (n =
          window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame)
          ? function (e) {
              return n(function () {
                e(performance.now());
              });
            }
          : function (e) {
              return window.setTimeout(e, 1e3 / 60);
            }),
      window.cancelAnimationFrame ||
        (window.cancelAnimationFrame =
          window.webkitCancelAnimationFrame ||
          window.mozCancelAnimationFrame ||
          function (e) {
            clearTimeout(e);
          }),
      !((i = document.createEvent("Event")).initEvent("foo", !0, !0),
      i.preventDefault(),
      i.defaultPrevented))
    ) {
      var r = Event.prototype.preventDefault;
      Event.prototype.preventDefault = function () {
        this.cancelable &&
          (r.call(this),
          Object.defineProperty(this, "defaultPrevented", {
            get: function () {
              return !0;
            },
            configurable: !0,
          }));
      };
    }
    var o = /Trident/.test(navigator.userAgent);
    if (
      ((!window.CustomEvent ||
        (o && "function" != typeof window.CustomEvent)) &&
        ((window.CustomEvent = function (e, t) {
          t = t || {};
          var n = document.createEvent("CustomEvent");
          return (
            n.initCustomEvent(
              e,
              Boolean(t.bubbles),
              Boolean(t.cancelable),
              t.detail
            ),
            n
          );
        }),
        (window.CustomEvent.prototype = window.Event.prototype)),
      !window.Event || (o && "function" != typeof window.Event))
    ) {
      var a = window.Event;
      (window.Event = function (e, t) {
        t = t || {};
        var n = document.createEvent("Event");
        return n.initEvent(e, Boolean(t.bubbles), Boolean(t.cancelable)), n;
      }),
        (window.Event.prototype = a.prototype);
    }
  })(window.WebComponents),
  (window.CustomElements = window.CustomElements || { flags: {} }),
  (function (t) {
    var e = t.flags,
      n = [];
    (t.addModule = function (e) {
      n.push(e);
    }),
      (t.initializeModules = function () {
        n.forEach(function (e) {
          e(t);
        });
      }),
      (t.hasNative = Boolean(document.registerElement)),
      (t.isIE = /Trident/.test(navigator.userAgent)),
      (t.useNative =
        !e.register &&
        t.hasNative &&
        !window.ShadowDOMPolyfill &&
        (!window.HTMLImports || window.HTMLImports.useNative));
  })(window.CustomElements),
  window.CustomElements.addModule(function (e) {
    function i(e, t) {
      (function e(t, n, i) {
        var r = t.firstElementChild;
        if (!r)
          for (r = t.firstChild; r && r.nodeType !== Node.ELEMENT_NODE; )
            r = r.nextSibling;
        for (; r; ) !0 !== n(r, i) && e(r, n, i), (r = r.nextElementSibling);
        return null;
      })(e, function (e) {
        return !!t(e) || void n(e, t);
      }),
        n(e, t);
    }
    function n(e, t) {
      for (var n = e.shadowRoot; n; ) i(n, t), (n = n.olderShadowRoot);
    }
    var u = window.HTMLImports ? window.HTMLImports.IMPORT_LINK_TYPE : "none";
    (e.forDocumentTree = function (e, t) {
      !(function e(t, n, i) {
        if (((t = window.wrap(t)), !(0 <= i.indexOf(t)))) {
          i.push(t);
          for (
            var r,
              o = t.querySelectorAll("link[rel=" + u + "]"),
              a = 0,
              s = o.length;
            a < s && (r = o[a]);
            a++
          )
            r.import && e(r.import, n, i);
          n(t);
        }
      })(e, t, []);
    }),
      (e.forSubtree = i);
  }),
  window.CustomElements.addModule(function (n) {
    function a(e, t) {
      return i(e, t) || r(e, t);
    }
    function i(e, t) {
      return !!n.upgrade(e, t) || void (t && s(e));
    }
    function r(e, t) {
      g(e, function (e) {
        if (i(e, t)) return !0;
      });
    }
    function t(e) {
      y.push(e), b || ((b = !0), setTimeout(o));
    }
    function o() {
      b = !1;
      for (var e, t = y, n = 0, i = t.length; n < i && (e = t[n]); n++) e();
      y = [];
    }
    function s(e) {
      v
        ? t(function () {
            u(e);
          })
        : u(e);
    }
    function u(e) {
      e.__upgraded__ &&
        !e.__attached &&
        ((e.__attached = !0), e.attachedCallback && e.attachedCallback());
    }
    function l(e) {
      v
        ? t(function () {
            c(e);
          })
        : c(e);
    }
    function c(e) {
      e.__upgraded__ &&
        e.__attached &&
        ((e.__attached = !1), e.detachedCallback && e.detachedCallback());
    }
    function d(e, t) {
      if (p.dom) {
        var n = t[0];
        if (n && "childList" === n.type && n.addedNodes && n.addedNodes) {
          for (var i = n.addedNodes[0]; i && i !== document && !i.host; )
            i = i.parentNode;
          var r =
            (i && (i.URL || i._URL || (i.host && i.host.localName))) || "";
          r = r.split("/?").shift().split("/").pop();
        }
        console.group("mutations (%d) [%s]", t.length, r || "");
      }
      var o = (function (e) {
        for (var t = e, n = window.wrap(document); t; ) {
          if (t == n) return !0;
          t =
            t.parentNode ||
            (t.nodeType === Node.DOCUMENT_FRAGMENT_NODE && t.host);
        }
      })(e);
      t.forEach(function (e) {
        "childList" === e.type &&
          (w(e.addedNodes, function (e) {
            e.localName && a(e, o);
          }),
          w(e.removedNodes, function (e) {
            var t;
            e.localName &&
              (l((t = e)),
              g(t, function (e) {
                l(e);
              }));
          }));
      }),
        p.dom && console.groupEnd();
    }
    function h(e) {
      if (!e.__observer) {
        var t = new MutationObserver(d.bind(this, e));
        t.observe(e, { childList: !0, subtree: !0 }), (e.__observer = t);
      }
    }
    function f(e) {
      (e = window.wrap(e)),
        p.dom && console.group("upgradeDocument: ", e.baseURI.split("/").pop()),
        a(e, e === window.wrap(document)),
        h(e),
        p.dom && console.groupEnd();
    }
    var p = n.flags,
      g = n.forSubtree,
      m = n.forDocumentTree,
      v = window.MutationObserver._isPolyfilled && p["throttle-attached"];
    (n.hasPolyfillMutations = v), (n.hasThrottledAttached = v);
    var b = !1,
      y = [],
      w = Array.prototype.forEach.call.bind(Array.prototype.forEach),
      _ = Element.prototype.createShadowRoot;
    _ &&
      (Element.prototype.createShadowRoot = function () {
        var e = _.call(this);
        return window.CustomElements.watchShadow(this), e;
      }),
      (n.watchShadow = function (e) {
        if (e.shadowRoot && !e.shadowRoot.__watched) {
          p.dom && console.log("watching shadow-root for: ", e.localName);
          for (var t = e.shadowRoot; t; ) h(t), (t = t.olderShadowRoot);
        }
      }),
      (n.upgradeDocumentTree = function (e) {
        m(e, f);
      }),
      (n.upgradeDocument = f),
      (n.upgradeSubtree = r),
      (n.upgradeAll = a),
      (n.attached = s),
      (n.takeRecords = function (e) {
        for (
          (e = window.wrap(e)) || (e = window.wrap(document));
          e.parentNode;

        )
          e = e.parentNode;
        var t = e.__observer;
        t && (d(e, t.takeRecords()), o());
      });
  }),
  window.CustomElements.addModule(function (r) {
    function o(e, t, n) {
      return (
        s.upgrade && console.group("upgrade:", e.localName),
        t.is && e.setAttribute("is", t.is),
        a(e, t),
        (e.__upgraded__ = !0),
        (i = e).createdCallback && i.createdCallback(),
        n && r.attached(e),
        r.upgradeSubtree(e, n),
        s.upgrade && console.groupEnd(),
        e
      );
      var i;
    }
    function a(e, t) {
      Object.__proto__ ||
        (function (e, t, n) {
          for (var i = {}, r = t; r !== n && r !== HTMLElement.prototype; ) {
            for (
              var o, a = Object.getOwnPropertyNames(r), s = 0;
              (o = a[s]);
              s++
            )
              i[o] ||
                (Object.defineProperty(
                  e,
                  o,
                  Object.getOwnPropertyDescriptor(r, o)
                ),
                (i[o] = 1));
            r = Object.getPrototypeOf(r);
          }
        })(e, t.prototype, t.native),
        (e.__proto__ = t.prototype);
    }
    var s = r.flags;
    (r.upgrade = function (e, t) {
      if (
        ("template" === e.localName &&
          window.HTMLTemplateElement &&
          HTMLTemplateElement.decorate &&
          HTMLTemplateElement.decorate(e),
        !e.__upgraded__ && e.nodeType === Node.ELEMENT_NODE)
      ) {
        var n = e.getAttribute("is"),
          i =
            r.getRegisteredDefinition(e.localName) ||
            r.getRegisteredDefinition(n);
        if (i && ((n && i.tag == e.localName) || (!n && !i.extends)))
          return o(e, i, t);
      }
    }),
      (r.upgradeWithDefinition = o),
      (r.implementPrototype = a);
  }),
  window.CustomElements.addModule(function (a) {
    function s(e, t, n) {
      e = e.toLowerCase();
      var i = this.getAttribute(e);
      n.apply(this, arguments);
      var r = this.getAttribute(e);
      this.attributeChangedCallback &&
        r !== i &&
        this.attributeChangedCallback(e, i, r);
    }
    function u(e) {
      if (e) return h[e.toLowerCase()];
    }
    function r(e, t) {
      e && (e = e.toLowerCase()), t && (t = t.toLowerCase());
      var n,
        i = u(t || e);
      if (i) {
        if (e == i.tag && t == i.is) return new i.ctor();
        if (!t && !i.is) return new i.ctor();
      }
      return (
        t
          ? (n = r(e)).setAttribute("is", t)
          : ((n = f(e)), 0 <= e.indexOf("-") && o(n, HTMLElement)),
        n
      );
    }
    function e(e, t) {
      var n = e[t];
      e[t] = function () {
        var e = n.apply(this, arguments);
        return i(e), e;
      };
    }
    var t,
      l = (a.isIE, a.upgradeDocumentTree),
      i = a.upgradeAll,
      c = a.upgradeWithDefinition,
      o = a.implementPrototype,
      n = a.useNative,
      d = [
        "annotation-xml",
        "color-profile",
        "font-face",
        "font-face-src",
        "font-face-uri",
        "font-face-format",
        "font-face-name",
        "missing-glyph",
      ],
      h = {},
      f = document.createElement.bind(document),
      p = document.createElementNS.bind(document);
    (t =
      Object.__proto__ || n
        ? function (e, t) {
            return e instanceof t;
          }
        : function (e, t) {
            if (e instanceof t) return !0;
            for (var n = e; n; ) {
              if (n === t.prototype) return !0;
              n = n.__proto__;
            }
            return !1;
          }),
      e(Node.prototype, "cloneNode"),
      e(document, "importNode"),
      (document.registerElement = function (e, t) {
        var n,
          i,
          r,
          o = t || {};
        if (!e)
          throw new Error(
            "document.registerElement: first argument `name` must not be empty"
          );
        if (e.indexOf("-") < 0)
          throw new Error(
            "document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '" +
              String(e) +
              "'."
          );
        if (
          (function (e) {
            for (var t = 0; t < d.length; t++) if (e === d[t]) return !0;
          })(e)
        )
          throw new Error(
            "Failed to execute 'registerElement' on 'Document': Registration failed for type '" +
              String(e) +
              "'. The type name is invalid."
          );
        if (u(e))
          throw new Error(
            "DuplicateDefinitionError: a type with name '" +
              String(e) +
              "' is already registered"
          );
        return (
          o.prototype || (o.prototype = Object.create(HTMLElement.prototype)),
          (o.__name = e.toLowerCase()),
          o.extends && (o.extends = o.extends.toLowerCase()),
          (o.lifecycle = o.lifecycle || {}),
          (o.ancestry = (function e(t) {
            var n = u(t);
            return n ? e(n.extends).concat([n]) : [];
          })(o.extends)),
          (function (e) {
            for (var t, n = e.extends, i = 0; (t = e.ancestry[i]); i++)
              n = t.is && t.tag;
            (e.tag = n || e.__name), n && (e.is = e.__name);
          })(o),
          (function (e) {
            if (!Object.__proto__) {
              var t = HTMLElement.prototype;
              if (e.is) {
                var n = document.createElement(e.tag);
                t = Object.getPrototypeOf(n);
              }
              for (var i, r = e.prototype, o = !1; r; )
                r == t && (o = !0),
                  (i = Object.getPrototypeOf(r)) && (r.__proto__ = i),
                  (r = i);
              o ||
                console.warn(
                  e.tag + " prototype not found in prototype chain for " + e.is
                ),
                (e.native = t);
            }
          })(o),
          (function (e) {
            if (!e.setAttribute._polyfilled) {
              var n = e.setAttribute;
              e.setAttribute = function (e, t) {
                s.call(this, e, t, n);
              };
              var t = e.removeAttribute;
              (e.removeAttribute = function (e) {
                s.call(this, e, null, t);
              }),
                (e.setAttribute._polyfilled = !0);
            }
          })(o.prototype),
          (i = o.__name),
          (r = o),
          (h[i] = r),
          (o.ctor =
            ((n = o),
            function () {
              return c(f((e = n).tag), e);
              var e;
            })),
          (o.ctor.prototype = o.prototype),
          (o.prototype.constructor = o.ctor),
          a.ready && l(document),
          o.ctor
        );
      }),
      (document.createElement = r),
      (document.createElementNS = function (e, t, n) {
        return "http://www.w3.org/1999/xhtml" === e ? r(t, n) : p(e, t);
      }),
      (a.registry = h),
      (a.instanceof = t),
      (a.reservedTagList = d),
      (a.getRegisteredDefinition = u),
      (document.register = document.registerElement);
  }),
  (function (e) {
    function t() {
      o(window.wrap(document)),
        (window.CustomElements.ready = !0),
        (
          window.requestAnimationFrame ||
          function (e) {
            setTimeout(e, 16);
          }
        )(function () {
          setTimeout(function () {
            (window.CustomElements.readyTime = Date.now()),
              window.HTMLImports &&
                (window.CustomElements.elapsed =
                  window.CustomElements.readyTime -
                  window.HTMLImports.readyTime),
              document.dispatchEvent(
                new CustomEvent("WebComponentsReady", { bubbles: !0 })
              );
          });
        });
    }
    var n = e.useNative,
      i = e.initializeModules;
    if ((e.isIE, n)) {
      var r = function () {};
      (e.watchShadow = r),
        (e.upgrade = r),
        (e.upgradeAll = r),
        (e.upgradeDocumentTree = r),
        (e.upgradeSubtree = r),
        (e.takeRecords = r),
        (e.instanceof = function (e, t) {
          return e instanceof t;
        });
    } else i();
    var o = e.upgradeDocumentTree,
      a = e.upgradeDocument;
    if (
      (window.wrap ||
        (window.ShadowDOMPolyfill
          ? ((window.wrap = window.ShadowDOMPolyfill.wrapIfNeeded),
            (window.unwrap = window.ShadowDOMPolyfill.unwrapIfNeeded))
          : (window.wrap = window.unwrap =
              function (e) {
                return e;
              })),
      window.HTMLImports &&
        (window.HTMLImports.__importsParsingHook = function (e) {
          e.import && a(wrap(e.import));
        }),
      "complete" === document.readyState || e.flags.eager)
    )
      t();
    else if (
      "interactive" !== document.readyState ||
      window.attachEvent ||
      (window.HTMLImports && !window.HTMLImports.ready)
    ) {
      var s =
        window.HTMLImports && !window.HTMLImports.ready
          ? "HTMLImportsLoaded"
          : "DOMContentLoaded";
      window.addEventListener(s, t);
    } else t();
  })(window.CustomElements),
  define("customelements", function () {}),
  /**
   * @license
   * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
   * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
   * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
   * Code distributed by Google as part of the polymer project is also
   * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
   */
  (function () {
    if (
      void 0 !== window.Reflect &&
      void 0 !== window.customElements &&
      !window.customElements.hasOwnProperty("polyfillWrapFlushCallback")
    ) {
      var e = HTMLElement;
      (window.HTMLElement = function () {
        return Reflect.construct(e, [], this.constructor);
      }),
        (HTMLElement.prototype = e.prototype),
        (HTMLElement.prototype.constructor = HTMLElement),
        Object.setPrototypeOf(HTMLElement, e);
    }
  })(),
  define("custom-elements-es5-adapter", function () {}),
  /**
 @license @nocompile
 Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 Code distributed by Google as part of the polymer project is also
 subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
 */
  function () {
    "use strict";
    var n = new Set(
      "annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(
        " "
      )
    );
    function f(e) {
      var t = n.has(e);
      return (e = /^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(e)), !t && e;
    }
    function u(e) {
      var t = e.isConnected;
      if (void 0 !== t) return t;
      for (; e && !(e.__CE_isImportDocument || e instanceof Document); )
        e =
          e.parentNode ||
          (window.ShadowRoot && e instanceof ShadowRoot ? e.host : void 0);
      return !(!e || !(e.__CE_isImportDocument || e instanceof Document));
    }
    function a(e, t) {
      for (; t && t !== e && !t.nextSibling; ) t = t.parentNode;
      return t && t !== e ? t.nextSibling : null;
    }
    function s(e, t, n) {
      n = void 0 === n ? new Set() : n;
      for (var i = e; i; ) {
        if (i.nodeType === Node.ELEMENT_NODE) {
          var r = i;
          t(r);
          var o = r.localName;
          if ("link" === o && "import" === r.getAttribute("rel")) {
            if ((i = r.import) instanceof Node && !n.has(i))
              for (n.add(i), i = i.firstChild; i; i = i.nextSibling) s(i, t, n);
            i = a(e, r);
            continue;
          }
          if ("template" === o) {
            i = a(e, r);
            continue;
          }
          if ((r = r.__CE_shadowRoot))
            for (r = r.firstChild; r; r = r.nextSibling) s(r, t, n);
        }
        i = i.firstChild ? i.firstChild : a(e, i);
      }
    }
    function o(e, t, n) {
      e[t] = n;
    }
    function e() {
      (this.a = new Map()), (this.f = new Map()), (this.c = []), (this.b = !1);
    }
    function i(e, t) {
      (e.b = !0), e.c.push(t);
    }
    function l(t, e) {
      t.b &&
        s(e, function (e) {
          return c(t, e);
        });
    }
    function c(e, t) {
      if (e.b && !t.__CE_patched) {
        t.__CE_patched = !0;
        for (var n = 0; n < e.c.length; n++) e.c[n](t);
      }
    }
    function d(e, t) {
      var n = [];
      for (
        s(t, function (e) {
          return n.push(e);
        }),
          t = 0;
        t < n.length;
        t++
      ) {
        var i = n[t];
        1 === i.__CE_state ? e.connectedCallback(i) : g(e, i);
      }
    }
    function h(e, t) {
      var n = [];
      for (
        s(t, function (e) {
          return n.push(e);
        }),
          t = 0;
        t < n.length;
        t++
      ) {
        var i = n[t];
        1 === i.__CE_state && e.disconnectedCallback(i);
      }
    }
    function p(i, e, t) {
      var r = (t = void 0 === t ? {} : t).u || new Set(),
        o =
          t.h ||
          function (e) {
            return g(i, e);
          },
        a = [];
      if (
        (s(
          e,
          function (n) {
            if ("link" === n.localName && "import" === n.getAttribute("rel")) {
              var e = n.import;
              e instanceof Node &&
                ((e.__CE_isImportDocument = !0), (e.__CE_hasRegistry = !0)),
                e && "complete" === e.readyState
                  ? (e.__CE_documentLoadHandled = !0)
                  : n.addEventListener("load", function () {
                      var e = n.import;
                      if (!e.__CE_documentLoadHandled) {
                        e.__CE_documentLoadHandled = !0;
                        var t = new Set(r);
                        t.delete(e), p(i, e, { u: t, h: o });
                      }
                    });
            } else a.push(n);
          },
          r
        ),
        i.b)
      )
        for (e = 0; e < a.length; e++) c(i, a[e]);
      for (e = 0; e < a.length; e++) o(a[e]);
    }
    function g(e, t) {
      if (void 0 === t.__CE_state) {
        var n = t.ownerDocument;
        if (
          (n.defaultView || (n.__CE_isImportDocument && n.__CE_hasRegistry)) &&
          (n = e.a.get(t.localName))
        ) {
          n.constructionStack.push(t);
          var i = n.constructorFunction;
          try {
            try {
              if (new i() !== t)
                throw Error(
                  "The custom element constructor did not produce the element being upgraded."
                );
            } finally {
              n.constructionStack.pop();
            }
          } catch (e) {
            throw ((t.__CE_state = 2), e);
          }
          if (
            ((t.__CE_state = 1),
            (t.__CE_definition = n).attributeChangedCallback)
          )
            for (n = n.observedAttributes, i = 0; i < n.length; i++) {
              var r = n[i],
                o = t.getAttribute(r);
              null !== o && e.attributeChangedCallback(t, r, null, o, null);
            }
          u(t) && e.connectedCallback(t);
        }
      }
    }
    function t(e) {
      var t = document;
      (this.c = e),
        (this.a = t),
        (this.b = void 0),
        p(this.c, this.a),
        "loading" === this.a.readyState &&
          ((this.b = new MutationObserver(this.f.bind(this))),
          this.b.observe(this.a, { childList: !0, subtree: !0 }));
    }
    function r(e) {
      e.b && e.b.disconnect();
    }
    function m() {
      var t = this;
      (this.b = this.a = void 0),
        (this.c = new Promise(function (e) {
          (t.b = e), t.a && e(t.a);
        }));
    }
    function v(e) {
      if (e.a) throw Error("Already resolved.");
      (e.a = void 0), e.b && e.b(void 0);
    }
    function b(e) {
      (this.c = !1),
        (this.a = e),
        (this.j = new Map()),
        (this.f = function (e) {
          return e();
        }),
        (this.b = !1),
        (this.i = []),
        (this.o = new t(e));
    }
    (e.prototype.connectedCallback = function (e) {
      var t = e.__CE_definition;
      t.connectedCallback && t.connectedCallback.call(e);
    }),
      (e.prototype.disconnectedCallback = function (e) {
        var t = e.__CE_definition;
        t.disconnectedCallback && t.disconnectedCallback.call(e);
      }),
      (e.prototype.attributeChangedCallback = function (e, t, n, i, r) {
        var o = e.__CE_definition;
        o.attributeChangedCallback &&
          -1 < o.observedAttributes.indexOf(t) &&
          o.attributeChangedCallback.call(e, t, n, i, r);
      }),
      (t.prototype.f = function (e) {
        var t = this.a.readyState;
        for (
          ("interactive" !== t && "complete" !== t) || r(this), t = 0;
          t < e.length;
          t++
        )
          for (var n = e[t].addedNodes, i = 0; i < n.length; i++)
            p(this.c, n[i]);
      }),
      (b.prototype.l = function (e, t) {
        var n,
          i,
          r,
          o = this;
        if (!(t instanceof Function))
          throw new TypeError("Custom element constructors must be functions.");
        if (!f(e))
          throw new SyntaxError("The element name '" + e + "' is not valid.");
        if (this.a.a.get(e))
          throw Error(
            "A custom element with name '" + e + "' has already been defined."
          );
        if (this.c) throw Error("A custom element is already being defined.");
        this.c = !0;
        try {
          var a = function (e) {
              var t = s[e];
              if (void 0 !== t && !(t instanceof Function))
                throw Error("The '" + e + "' callback must be a function.");
              return t;
            },
            s = t.prototype;
          if (!(s instanceof Object))
            throw new TypeError(
              "The custom element constructor's prototype is not an object."
            );
          var u = a("connectedCallback"),
            l = a("disconnectedCallback"),
            c = a("adoptedCallback"),
            d = a("attributeChangedCallback"),
            h = t.observedAttributes || [];
        } catch (e) {
          return;
        } finally {
          this.c = !1;
        }
        (t = {
          localName: e,
          constructorFunction: t,
          connectedCallback: u,
          disconnectedCallback: l,
          adoptedCallback: c,
          attributeChangedCallback: d,
          observedAttributes: h,
          constructionStack: [],
        }),
          (n = this.a),
          (i = e),
          (r = t),
          n.a.set(i, r),
          n.f.set(r.constructorFunction, r),
          this.i.push(t),
          this.b ||
            ((this.b = !0),
            this.f(function () {
              return (function (i) {
                if (!1 !== i.b) {
                  i.b = !1;
                  for (
                    var e = i.i, r = [], o = new Map(), t = 0;
                    t < e.length;
                    t++
                  )
                    o.set(e[t].localName, []);
                  for (
                    p(i.a, document, {
                      h: function (e) {
                        if (void 0 === e.__CE_state) {
                          var t = e.localName,
                            n = o.get(t);
                          n ? n.push(e) : i.a.a.get(t) && r.push(e);
                        }
                      },
                    }),
                      t = 0;
                    t < r.length;
                    t++
                  )
                    g(i.a, r[t]);
                  for (; 0 < e.length; ) {
                    var n = e.shift();
                    (t = n.localName), (n = o.get(n.localName));
                    for (var a = 0; a < n.length; a++) g(i.a, n[a]);
                    (t = i.j.get(t)) && v(t);
                  }
                }
              })(o);
            }));
      }),
      (b.prototype.h = function (e) {
        p(this.a, e);
      }),
      (b.prototype.get = function (e) {
        if ((e = this.a.a.get(e))) return e.constructorFunction;
      }),
      (b.prototype.m = function (t) {
        if (!f(t))
          return Promise.reject(
            new SyntaxError("'" + t + "' is not a valid custom element name.")
          );
        var e = this.j.get(t);
        return (
          e ||
            ((e = new m()),
            this.j.set(t, e),
            this.a.a.get(t) &&
              !this.i.some(function (e) {
                return e.localName === t;
              }) &&
              v(e)),
          e.c
        );
      }),
      (b.prototype.s = function (t) {
        r(this.o);
        var n = this.f;
        this.f = function (e) {
          return t(function () {
            return n(e);
          });
        };
      }),
      ((window.CustomElementRegistry = b).prototype.define = b.prototype.l),
      (b.prototype.upgrade = b.prototype.h),
      (b.prototype.get = b.prototype.get),
      (b.prototype.whenDefined = b.prototype.m),
      (b.prototype.polyfillWrapFlushCallback = b.prototype.s);
    var y = window.Document.prototype.createElement,
      w = window.Document.prototype.createElementNS,
      _ = window.Document.prototype.importNode,
      x = window.Document.prototype.prepend,
      T = window.Document.prototype.append,
      C = window.DocumentFragment.prototype.prepend,
      S = window.DocumentFragment.prototype.append,
      E = window.Node.prototype.cloneNode,
      D = window.Node.prototype.appendChild,
      O = window.Node.prototype.insertBefore,
      M = window.Node.prototype.removeChild,
      j = window.Node.prototype.replaceChild,
      P = Object.getOwnPropertyDescriptor(window.Node.prototype, "textContent"),
      I = window.Element.prototype.attachShadow,
      k = Object.getOwnPropertyDescriptor(
        window.Element.prototype,
        "innerHTML"
      ),
      A = window.Element.prototype.getAttribute,
      N = window.Element.prototype.setAttribute,
      L = window.Element.prototype.removeAttribute,
      R = window.Element.prototype.getAttributeNS,
      H = window.Element.prototype.setAttributeNS,
      F = window.Element.prototype.removeAttributeNS,
      B = window.Element.prototype.insertAdjacentElement,
      V = window.Element.prototype.insertAdjacentHTML,
      q = window.Element.prototype.prepend,
      W = window.Element.prototype.append,
      U = window.Element.prototype.before,
      z = window.Element.prototype.after,
      G = window.Element.prototype.replaceWith,
      K = window.Element.prototype.remove,
      $ = window.HTMLElement,
      X = Object.getOwnPropertyDescriptor(
        window.HTMLElement.prototype,
        "innerHTML"
      ),
      J = window.HTMLElement.prototype.insertAdjacentElement,
      Q = window.HTMLElement.prototype.insertAdjacentHTML,
      Y = new (function () {})();
    function Z(s, e, t) {
      function n(a) {
        return function (e) {
          for (var t = [], n = 0; n < arguments.length; ++n)
            t[n] = arguments[n];
          n = [];
          for (var i = [], r = 0; r < t.length; r++) {
            var o = t[r];
            if (
              (o instanceof Element && u(o) && i.push(o),
              o instanceof DocumentFragment)
            )
              for (o = o.firstChild; o; o = o.nextSibling) n.push(o);
            else n.push(o);
          }
          for (a.apply(this, t), t = 0; t < i.length; t++) h(s, i[t]);
          if (u(this))
            for (t = 0; t < n.length; t++)
              (i = n[t]) instanceof Element && d(s, i);
        };
      }
      void 0 !== t.g && (e.prepend = n(t.g)),
        void 0 !== t.append && (e.append = n(t.append));
    }
    var ee,
      te,
      ne = window.customElements;
    if (
      !ne ||
      ne.forcePolyfill ||
      "function" != typeof ne.define ||
      "function" != typeof ne.get
    ) {
      var ie = new e();
      (te = ie),
        (window.HTMLElement = (function () {
          function e() {
            var e = this.constructor,
              t = te.f.get(e);
            if (!t)
              throw Error(
                "The custom element being constructed was not registered with `customElements`."
              );
            var n = t.constructionStack;
            if (0 === n.length)
              return (
                (n = y.call(document, t.localName)),
                Object.setPrototypeOf(n, e.prototype),
                (n.__CE_state = 1),
                (n.__CE_definition = t),
                c(te, n),
                n
              );
            var i = n[(t = n.length - 1)];
            if (i === Y)
              throw Error(
                "The HTMLElement constructor was either called reentrantly for this constructor or called multiple times."
              );
            return (
              (n[t] = Y), Object.setPrototypeOf(i, e.prototype), c(te, i), i
            );
          }
          return (
            (e.prototype = $.prototype),
            Object.defineProperty(e.prototype, "constructor", {
              writable: !0,
              configurable: !0,
              enumerable: !1,
              value: e,
            }),
            e
          );
        })()),
        (ee = ie),
        o(Document.prototype, "createElement", function (e) {
          if (this.__CE_hasRegistry) {
            var t = ee.a.get(e);
            if (t) return new t.constructorFunction();
          }
          return (e = y.call(this, e)), c(ee, e), e;
        }),
        o(Document.prototype, "importNode", function (e, t) {
          return (
            (e = _.call(this, e, !!t)),
            this.__CE_hasRegistry ? p(ee, e) : l(ee, e),
            e
          );
        }),
        o(Document.prototype, "createElementNS", function (e, t) {
          if (
            this.__CE_hasRegistry &&
            (null === e || "http://www.w3.org/1999/xhtml" === e)
          ) {
            var n = ee.a.get(t);
            if (n) return new n.constructorFunction();
          }
          return (e = w.call(this, e, t)), c(ee, e), e;
        }),
        Z(ee, Document.prototype, { g: x, append: T }),
        Z(ie, DocumentFragment.prototype, { g: C, append: S }),
        (function () {
          function t(e, o) {
            Object.defineProperty(e, "textContent", {
              enumerable: o.enumerable,
              configurable: !0,
              get: o.get,
              set: function (e) {
                if (this.nodeType === Node.TEXT_NODE) o.set.call(this, e);
                else {
                  var t = void 0;
                  if (this.firstChild) {
                    var n = this.childNodes,
                      i = n.length;
                    if (0 < i && u(this)) {
                      t = Array(i);
                      for (var r = 0; r < i; r++) t[r] = n[r];
                    }
                  }
                  if ((o.set.call(this, e), t))
                    for (e = 0; e < t.length; e++) h(a, t[e]);
                }
              },
            });
          }
          var a = ie;
          o(Node.prototype, "insertBefore", function (e, t) {
            if (e instanceof DocumentFragment) {
              var n = Array.prototype.slice.apply(e.childNodes);
              if (((e = O.call(this, e, t)), u(this)))
                for (t = 0; t < n.length; t++) d(a, n[t]);
              return e;
            }
            return (
              (n = u(e)),
              (t = O.call(this, e, t)),
              n && h(a, e),
              u(this) && d(a, e),
              t
            );
          }),
            o(Node.prototype, "appendChild", function (e) {
              if (e instanceof DocumentFragment) {
                var t = Array.prototype.slice.apply(e.childNodes);
                if (((e = D.call(this, e)), u(this)))
                  for (var n = 0; n < t.length; n++) d(a, t[n]);
                return e;
              }
              return (
                (t = u(e)),
                (n = D.call(this, e)),
                t && h(a, e),
                u(this) && d(a, e),
                n
              );
            }),
            o(Node.prototype, "cloneNode", function (e) {
              return (
                (e = E.call(this, !!e)),
                this.ownerDocument.__CE_hasRegistry ? p(a, e) : l(a, e),
                e
              );
            }),
            o(Node.prototype, "removeChild", function (e) {
              var t = u(e),
                n = M.call(this, e);
              return t && h(a, e), n;
            }),
            o(Node.prototype, "replaceChild", function (e, t) {
              if (e instanceof DocumentFragment) {
                var n = Array.prototype.slice.apply(e.childNodes);
                if (((e = j.call(this, e, t)), u(this)))
                  for (h(a, t), t = 0; t < n.length; t++) d(a, n[t]);
                return e;
              }
              n = u(e);
              var i = j.call(this, e, t),
                r = u(this);
              return r && h(a, t), n && h(a, e), r && d(a, e), i;
            }),
            P && P.get
              ? t(Node.prototype, P)
              : i(a, function (e) {
                  t(e, {
                    enumerable: !0,
                    configurable: !0,
                    get: function () {
                      for (var e = [], t = 0; t < this.childNodes.length; t++)
                        e.push(this.childNodes[t].textContent);
                      return e.join("");
                    },
                    set: function (e) {
                      for (; this.firstChild; ) M.call(this, this.firstChild);
                      D.call(this, document.createTextNode(e));
                    },
                  });
                });
        })(),
        (function () {
          function t(e, o) {
            Object.defineProperty(e, "innerHTML", {
              enumerable: o.enumerable,
              configurable: !0,
              get: o.get,
              set: function (e) {
                var t = this,
                  n = void 0;
                if (
                  (u(this) &&
                    ((n = []),
                    s(this, function (e) {
                      e !== t && n.push(e);
                    })),
                  o.set.call(this, e),
                  n)
                )
                  for (var i = 0; i < n.length; i++) {
                    var r = n[i];
                    1 === r.__CE_state && a.disconnectedCallback(r);
                  }
                return (
                  this.ownerDocument.__CE_hasRegistry ? p(a, this) : l(a, this),
                  e
                );
              },
            });
          }
          function e(e, i) {
            o(e, "insertAdjacentElement", function (e, t) {
              var n = u(t);
              return (e = i.call(this, e, t)), n && h(a, t), u(e) && d(a, t), e;
            });
          }
          function n(e, i) {
            function r(e, t) {
              for (var n = []; e !== t; e = e.nextSibling) n.push(e);
              for (t = 0; t < n.length; t++) p(a, n[t]);
            }
            o(e, "insertAdjacentHTML", function (e, t) {
              if ("beforebegin" === (e = e.toLowerCase())) {
                var n = this.previousSibling;
                i.call(this, e, t), r(n || this.parentNode.firstChild, this);
              } else if ("afterbegin" === e)
                (n = this.firstChild),
                  i.call(this, e, t),
                  r(this.firstChild, n);
              else if ("beforeend" === e)
                (n = this.lastChild),
                  i.call(this, e, t),
                  r(n || this.firstChild, null);
              else {
                if ("afterend" !== e)
                  throw new SyntaxError(
                    "The value provided (" +
                      String(e) +
                      ") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'."
                  );
                (n = this.nextSibling),
                  i.call(this, e, t),
                  r(this.nextSibling, n);
              }
            });
          }
          var a = ie;
          I &&
            o(Element.prototype, "attachShadow", function (e) {
              return (this.__CE_shadowRoot = I.call(this, e));
            }),
            k && k.get
              ? t(Element.prototype, k)
              : X && X.get
              ? t(HTMLElement.prototype, X)
              : i(a, function (e) {
                  t(e, {
                    enumerable: !0,
                    configurable: !0,
                    get: function () {
                      return E.call(this, !0).innerHTML;
                    },
                    set: function (e) {
                      var t = "template" === this.localName,
                        n = t ? this.content : this,
                        i = w.call(document, this.namespaceURI, this.localName);
                      for (i.innerHTML = e; 0 < n.childNodes.length; )
                        M.call(n, n.childNodes[0]);
                      for (e = t ? i.content : i; 0 < e.childNodes.length; )
                        D.call(n, e.childNodes[0]);
                    },
                  });
                }),
            o(Element.prototype, "setAttribute", function (e, t) {
              if (1 !== this.__CE_state) return N.call(this, e, t);
              var n = A.call(this, e);
              N.call(this, e, t),
                (t = A.call(this, e)),
                a.attributeChangedCallback(this, e, n, t, null);
            }),
            o(Element.prototype, "setAttributeNS", function (e, t, n) {
              if (1 !== this.__CE_state) return H.call(this, e, t, n);
              var i = R.call(this, e, t);
              H.call(this, e, t, n),
                (n = R.call(this, e, t)),
                a.attributeChangedCallback(this, t, i, n, e);
            }),
            o(Element.prototype, "removeAttribute", function (e) {
              if (1 !== this.__CE_state) return L.call(this, e);
              var t = A.call(this, e);
              L.call(this, e),
                null !== t &&
                  a.attributeChangedCallback(this, e, t, null, null);
            }),
            o(Element.prototype, "removeAttributeNS", function (e, t) {
              if (1 !== this.__CE_state) return F.call(this, e, t);
              var n = R.call(this, e, t);
              F.call(this, e, t);
              var i = R.call(this, e, t);
              n !== i && a.attributeChangedCallback(this, t, n, i, e);
            }),
            J
              ? e(HTMLElement.prototype, J)
              : B
              ? e(Element.prototype, B)
              : console.warn(
                  "Custom Elements: `Element#insertAdjacentElement` was not patched."
                ),
            Q
              ? n(HTMLElement.prototype, Q)
              : V
              ? n(Element.prototype, V)
              : console.warn(
                  "Custom Elements: `Element#insertAdjacentHTML` was not patched."
                ),
            Z(a, Element.prototype, { g: q, append: W }),
            (function (s) {
              function e(a) {
                return function (e) {
                  for (var t = [], n = 0; n < arguments.length; ++n)
                    t[n] = arguments[n];
                  n = [];
                  for (var i = [], r = 0; r < t.length; r++) {
                    var o = t[r];
                    if (
                      (o instanceof Element && u(o) && i.push(o),
                      o instanceof DocumentFragment)
                    )
                      for (o = o.firstChild; o; o = o.nextSibling) n.push(o);
                    else n.push(o);
                  }
                  for (a.apply(this, t), t = 0; t < i.length; t++) h(s, i[t]);
                  if (u(this))
                    for (t = 0; t < n.length; t++)
                      (i = n[t]) instanceof Element && d(s, i);
                };
              }
              var t = Element.prototype;
              void 0 !== U && (t.before = e(U)),
                void 0 !== U && (t.after = e(z)),
                void 0 !== G &&
                  o(t, "replaceWith", function (e) {
                    for (var t = [], n = 0; n < arguments.length; ++n)
                      t[n] = arguments[n];
                    n = [];
                    for (var i = [], r = 0; r < t.length; r++) {
                      var o = t[r];
                      if (
                        (o instanceof Element && u(o) && i.push(o),
                        o instanceof DocumentFragment)
                      )
                        for (o = o.firstChild; o; o = o.nextSibling) n.push(o);
                      else n.push(o);
                    }
                    for (
                      r = u(this), G.apply(this, t), t = 0;
                      t < i.length;
                      t++
                    )
                      h(s, i[t]);
                    if (r)
                      for (h(s, this), t = 0; t < n.length; t++)
                        (i = n[t]) instanceof Element && d(s, i);
                  }),
                void 0 !== K &&
                  o(t, "remove", function () {
                    var e = u(this);
                    K.call(this), e && h(s, this);
                  });
            })(a);
        })(),
        (document.__CE_hasRegistry = !0);
      var re = new b(ie);
      Object.defineProperty(window, "customElements", {
        configurable: !0,
        enumerable: !0,
        value: re,
      });
    }
  }.call(this),
  define("customelementsv1", function () {});
var __extends =
  (this && this.__extends) ||
  (function () {
    var i = function (e, t) {
      return (i =
        Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array &&
          function (e, t) {
            e.__proto__ = t;
          }) ||
        function (e, t) {
          for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
        })(e, t);
    };
    return function (e, t) {
      function n() {
        this.constructor = e;
      }
      i(e, t),
        (e.prototype =
          null === t
            ? Object.create(t)
            : ((n.prototype = t.prototype), new n()));
    };
  })();
define(
  "HMIWeb/Source/DisplayElements/CustomElementBase",
  [
    "require",
    "exports",
    "customelements",
    "custom-elements-es5-adapter",
    "customelementsv1",
  ],
  function (e, t) {
    "use strict";
    return (function (e) {
      function t() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        __extends(t, e),
        Object.defineProperty(t.prototype, "hostElement", {
          get: function () {
            return this;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(t.prototype, "hostElementStyle", {
          get: function () {
            return this.hostElement.style;
          },
          enumerable: !0,
          configurable: !0,
        }),
        (t.prototype.getAttributeOrDefault = function (e, t) {
          var n = this.hostElement.getAttribute(e);
          return n || t;
        }),
        t
      );
    })(HTMLElement);
  }
),
  (function (e, t) {
    "function" == typeof define && define.amd
      ? define("primitives", [], t)
      : "object" == typeof exports
      ? (module.exports = t())
      : (e.primitives = t());
  })(this, function () {
    var e, r;
    (e = s || (s = {})),
      (r = (function () {
        function e(e, t, n) {
          (this.hostElement = n), (this.logger = e), (this.localisation = t);
        }
        return (
          (e.prototype.getValue = function () {
            return this.assignedValue;
          }),
          (e.prototype.setValue = function (e) {
            null == e && (e = ""),
              (this.assignedValue = e),
              void 0 === this.dataType &&
                ((this.dataType = this.dataTypeAttribute),
                void 0 === this.dataType && (this.dataType = 0)),
              void 0 === this.precision &&
                ((this.precision = this.dataPrecisionAttribute),
                void 0 === this.precision && (this.precision = 2)),
              this.reformatDisplayValue(),
              this.updateView();
          }),
          (e.prototype.getDisplayValue = function () {
            return this.formattedDisplayValue;
          }),
          (e.prototype.reformatDisplayValue = function () {
            var e = "",
              t = NaN;
            if (
              void 0 !== this.assignedValue &&
              null !== this.assignedValue &&
              "" !== this.assignedValue
            )
              switch (this.dataType) {
                case 0:
                  (t = Number(this.assignedValue)),
                    (e =
                      0 <= this.assignedValue - t
                        ? t.toFixed(this.precision)
                        : this.assignedValue.toString());
                  break;
                case 1:
                  (t = parseInt(this.assignedValue)),
                    (e =
                      (this.precision = 0) <= this.assignedValue - t
                        ? t.toFixed(0)
                        : this.assignedValue.toString());
                  break;
                case 2:
                default:
                  e = this.assignedValue.toString();
              }
            isNaN(t) ||
              2 == this.dataType ||
              (e = e.replace(".", this.localisation.getDecimalSeparator())),
              (this.formattedDisplayValue = e);
          }),
          (e.prototype.updateView = function () {
            void 0 !== this.hostElement.textContent
              ? (this.hostElement.textContent = this.formattedDisplayValue)
              : (this.hostElement.innerText = this.formattedDisplayValue);
          }),
          Object.defineProperty(e.prototype, "dataTypeAttribute", {
            get: function () {
              var e = 0;
              return (
                this.hostElement.hasAttribute("data-datatype") &&
                  (e = parseInt(
                    this.hostElement.getAttribute("data-datatype"),
                    10
                  )),
                e
              );
            },
            enumerable: !0,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "dataPrecisionAttribute", {
            get: function () {
              var e = 2;
              return (
                this.hostElement.hasAttribute("data-precision") &&
                  (e = parseInt(
                    this.hostElement.getAttribute("data-precision"),
                    10
                  )),
                e
              );
            },
            enumerable: !0,
            configurable: !0,
          }),
          e
        );
      })()),
      (e.Alphanumeric = function (e, t, n) {
        var i = new r(e, t, n);
        return {
          getValue: function () {
            return i.getValue();
          },
          setValue: function (e) {
            return i.setValue(e);
          },
          getDisplayValue: function () {
            return i.getDisplayValue();
          },
        };
      });
    var i,
      t,
      n,
      o,
      a,
      s,
      u,
      l,
      c =
        (this && this.__extends) ||
        ((i =
          Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array &&
            function (e, t) {
              e.__proto__ = t;
            }) ||
          function (e, t) {
            for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
          }),
        function (e, t) {
          function n() {
            this.constructor = e;
          }
          i(e, t),
            (e.prototype =
              null === t
                ? Object.create(t)
                : ((n.prototype = t.prototype), new n()));
        });
    return (
      (t = s || (s = {})),
      (n = (function (e) {
        function n() {
          return (null !== e && e.apply(this, arguments)) || this;
        }
        return (
          c(n, e),
          (n.register = function (e, t) {
            (n.logger = e),
              (n.localisation = t),
              void 0 !== window.CustomElements && window.CustomElements.ready
                ? document.registerElement("hn-alpha", {
                    prototype: n.prototype,
                  })
                : document.addEventListener(
                    "WebComponentsReady",
                    function () {
                      document.registerElement("hn-alpha", {
                        prototype: n.prototype,
                      });
                    },
                    !1
                  );
          }),
          (n.prototype.createdCallback = function () {
            (this.impl = new t.Alphanumeric(n.logger, n.localisation, this)),
              (this.dragSource = new t.DragSource(n.logger, this));
          }),
          Object.defineProperty(n.prototype, "value", {
            get: function () {
              return this.impl.getValue() || this.textContent;
            },
            set: function (e) {
              this.impl.setValue(e);
            },
            enumerable: !0,
            configurable: !0,
          }),
          Object.defineProperty(n.prototype, "displayValue", {
            get: function () {
              return this.impl.getDisplayValue();
            },
            enumerable: !0,
            configurable: !0,
          }),
          (n.prototype.registerDragContentCallback = function (e) {
            this.dragSource.registerDragContentCallback(e);
          }),
          Object.defineProperty(n.prototype, "fillColor", {
            get: function () {
              var e = this.style.backgroundColor;
              return e || window.getComputedStyle(this).backgroundColor;
            },
            set: function (e) {
              this.style.backgroundColor = e;
            },
            enumerable: !0,
            configurable: !0,
          }),
          Object.defineProperty(n.prototype, "lineColor", {
            get: function () {
              var e = this.style.borderColor;
              return e || window.getComputedStyle(this).borderColor;
            },
            set: function (e) {
              this.style.borderColor = e;
            },
            enumerable: !0,
            configurable: !0,
          }),
          Object.defineProperty(n.prototype, "textColor", {
            get: function () {
              var e = this.style.color;
              return e || window.getComputedStyle(this).color;
            },
            set: function (e) {
              this.style.color = e;
            },
            enumerable: !0,
            configurable: !0,
          }),
          n
        );
      })(HTMLTextAreaElement)),
      (t.AlphanumericElement = n),
      (o = s || (s = {})),
      ((a = o.LogGroups || (o.LogGroups = {})).binding = "Binding"),
      (a.view = "View"),
      (u = s || (s = {})),
      (l = (function () {
        function e(e, t) {
          var n = this;
          (this.element = t),
            (this.logger = e),
            (this.dragContentCallback = null),
            this.element.addEventListener(
              "dragstart",
              function (e) {
                return n.onDragStart(e);
              },
              !1
            );
        }
        return (
          (e.prototype.registerDragContentCallback = function (e) {
            null !== this.dragContentCallback &&
              this.logger.warn(
                u.LogGroups.binding,
                "[" +
                  this.element.id +
                  "] Drag content callback has been changed"
              ),
              (this.dragContentCallback = e);
          }),
          (e.prototype.onDragStart = function (e) {
            try {
              if (null === this.dragContentCallback)
                return void this.logger.warn(
                  u.LogGroups.binding,
                  "[" +
                    this.element.id +
                    "] Attempted to drag without a callback function defined"
                );
              var t = this.dragContentCallback();
              if (
                null === t ||
                "object" != typeof t ||
                "string" != typeof t.format ||
                "object" != typeof t.data
              )
                return void this.logger.error(
                  u.LogGroups.binding,
                  "[" +
                    this.element.id +
                    "] The drag content was malformed. data=" +
                    t
                );
              void 0 === e.dataTransfer.setDragImage &&
                ((t.data = { type: t.format, payload: t.data }),
                (t.format = "Text")),
                (e.dataTransfer.effectAllowed = "copy"),
                e.dataTransfer.setData(t.format, JSON.stringify(t.data));
            } catch (e) {
              this.logger.exception(
                u.LogGroups.view,
                "[" + this.element.id + "] Error in onDragStart",
                e
              );
            }
          }),
          e
        );
      })()),
      (u.DragSource = function (e, t) {
        var n = new l(e, t);
        return {
          registerDragContentCallback: function (e) {
            return n.registerDragContentCallback(e);
          },
        };
      }),
      s
    );
  });
var __extends =
  (this && this.__extends) ||
  (function () {
    var i = function (e, t) {
      return (i =
        Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array &&
          function (e, t) {
            e.__proto__ = t;
          }) ||
        function (e, t) {
          for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
        })(e, t);
    };
    return function (e, t) {
      function n() {
        this.constructor = e;
      }
      i(e, t),
        (e.prototype =
          null === t
            ? Object.create(t)
            : ((n.prototype = t.prototype), new n()));
    };
  })();
define(
  "HMIWeb/Source/DisplayElements/Indicator",
  [
    "require",
    "exports",
    "knockout",
    "./CustomElementBase",
    "primitives",
    "knockout",
  ],
  function (e, t, n, i, o) {
    "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 });
    var r = (function (t) {
      function r() {
        var e = (null !== t && t.apply(this, arguments)) || this;
        return (e._dragSource = null), e;
      }
      return (
        __extends(r, t),
        (r.register = function (e, t) {
          if (
            ((r.logger = e), (r.domUtils = t), void 0 === window.customElements)
          )
            throw new Error(
              "Could not register Indicator. customElements not defined. Indicators on this graphc will not work."
            );
          window.customElements.define("hn-indicator", r);
        }),
        (r.prototype.connectedCallback = function () {
          r.domUtils.tryGetAttributeAsBoolean(this.hostElement, "draggable") &&
            (this._dragSource = new o.DragSource(r.logger, this.hostElement)),
            (this._value = n.observable(null)),
            (this._maximum = n.observable(
              r.domUtils.tryGetAttributeAsFloat(
                this.hostElement,
                "data-rangeHigh"
              )
            )),
            (this._minimum = n.observable(
              r.domUtils.tryGetAttributeAsFloat(
                this.hostElement,
                "data-rangeLow"
              )
            )),
            (this._hasRange = n.computed({
              owner: this,
              read: function () {
                return !!(
                  null !== this.value &&
                  null !== this.minimum &&
                  null !== this.maximum &&
                  isFinite(this.value) &&
                  isFinite(this.minimum) &&
                  isFinite(this.maximum)
                );
              },
            }));
        }),
        Object.defineProperty(r.prototype, "value", {
          get: function () {
            return this._value();
          },
          set: function (e) {
            this._value(e);
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "maximum", {
          get: function () {
            return this._maximum();
          },
          set: function (e) {
            this._maximum(e);
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "rangeHi", {
          get: function () {
            return this._maximum();
          },
          set: function (e) {
            this._maximum(e);
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "minimum", {
          get: function () {
            return this._minimum();
          },
          set: function (e) {
            this._minimum(e);
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "rangeLo", {
          get: function () {
            return this._minimum();
          },
          set: function (e) {
            this._minimum(e);
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "hasRange", {
          get: function () {
            return this._hasRange();
          },
          enumerable: !0,
          configurable: !0,
        }),
        (r.prototype.registerDragContentCallback = function (e) {
          this._dragSource.registerDragContentCallback(e);
        }),
        Object.defineProperty(r.prototype, "fillColor", {
          get: function () {
            return this.getFillColor(r.TrackClassName);
          },
          set: function (e) {
            this.setFillColor(r.TrackClassName, e);
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "lineColor", {
          get: function () {
            var e = this.hostElementStyle.borderColor;
            return e || window.getComputedStyle(this.hostElement).borderColor;
          },
          set: function (e) {
            this.hostElementStyle.borderColor = e;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "levelFillColor", {
          get: function () {
            return this.getFillColor(r.LevelClassName);
          },
          set: function (e) {
            this.setFillColor(r.LevelClassName, e);
          },
          enumerable: !0,
          configurable: !0,
        }),
        (r.prototype.getFillColor = function (e) {
          var t = this.hostElement.querySelector(e);
          if (null == t) return "";
          var n = "";
          return (
            t instanceof SVGElement && t.firstElementChild instanceof SVGElement
              ? (n = t.firstElementChild.style.fill) ||
                (n = window.getComputedStyle(t.firstElementChild).fill)
              : t instanceof HTMLElement &&
                ((n = t.style.backgroundColor) ||
                  (n = window.getComputedStyle(t).backgroundColor)),
            n
          );
        }),
        (r.prototype.setFillColor = function (e, t) {
          var n = this.hostElement.querySelector(e);
          if (null == n) {
            var i =
              "Could not set fillColor for " +
              this.hostElement.id +
              ". Element with class " +
              e +
              " not found";
            throw (r.logger.error("Default", i), new Error(i));
          }
          if (
            n instanceof SVGElement &&
            n.firstElementChild instanceof SVGElement
          )
            n.firstElementChild.style.fill = t;
          else {
            if (!(n instanceof HTMLElement)) {
              i =
                "Could not set fillColor for " +
                this.hostElement.id +
                ". Element with class " +
                e +
                " was an unexpected type";
              throw (r.logger.error("Default", i), new Error(i));
            }
            n.style.backgroundColor = t;
          }
        }),
        (r.TrackClassName = ".hn-indicator-track"),
        (r.LevelClassName = ".hn-indicator-level"),
        r
      );
    })(i);
    t.Indicator = r;
  }
),
  define(
    "HMIWeb/Source/Core/Utils/JavascriptUtils",
    ["require", "exports"],
    function (e, t) {
      "use strict";
      return (function () {
        function e() {}
        return (
          (e.es5CompatibleExtend = function () {
            for (var e = [], t = 0; t < arguments.length; t++)
              e[t] = arguments[t];
            if (2 <= arguments.length)
              for (var n = arguments[0], i = 1; i < arguments.length; i++)
                for (
                  var r = arguments[i], o = Object.keys(r), a = 0, s = o.length;
                  a < s;
                  ++a
                ) {
                  var u = o[a];
                  Object.defineProperty(
                    n,
                    u,
                    Object.getOwnPropertyDescriptor(r, u)
                  );
                }
          }),
          (e.isValidDate = function (e) {
            return (
              "[object Date]" === Object.prototype.toString.call(e) &&
              !isNaN(e.getTime())
            );
          }),
          e
        );
      })();
    }
  ),
  define(
    "HMIWeb/Source/DisplayElements/TimeControlBindable",
    ["require", "exports", "../Core/Utils/JavascriptUtils"],
    function (e, t, i) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function e(e, t) {
          (this._timeControl = e),
            (this._logger = t),
            (this._startTime = new Date("invalid date")),
            (this._endTime = new Date("invalid date")),
            (this._currentTime = new Date("invalid date")),
            (this.hasTimeWindowBeenSet = !1);
        }
        return (
          Object.defineProperty(e.prototype, "startTime", {
            get: function () {
              return this._startTime;
            },
            set: function (e) {
              this._startTime = e;
            },
            enumerable: !0,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "endTime", {
            get: function () {
              return this._endTime;
            },
            set: function (e) {
              this._endTime = e;
            },
            enumerable: !0,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "currentTime", {
            get: function () {
              return this._currentTime;
            },
            set: function (e) {
              this._currentTime = e;
            },
            enumerable: !0,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "hasTimes", {
            get: function () {
              return this.hasTimeWindowBeenSet;
            },
            enumerable: !0,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "timeWindowFromDataObject", {
            set: function (e) {
              if (e) {
                var t = e.start,
                  n = e.end,
                  i = e.isZoomed,
                  r = e.resetStart,
                  o = e.resetEnd,
                  a = this.updateTimeWindow(t, n);
                (this.hasTimeWindowBeenSet = !0),
                  a
                    ? this.fireTimeWindowChangedToContainer(t, n, i, r, o)
                    : this._logger.info(
                        "Communication",
                        "TimeControl.setTimeWindow. Change from data object ignored. start:" +
                          t +
                          ", end:" +
                          n +
                          ", isZoomed:" +
                          i +
                          ", resetStart:" +
                          r +
                          ", resetEnd:" +
                          o
                      );
              }
            },
            enumerable: !0,
            configurable: !0,
          }),
          (e.prototype.fireTimeWindowChangedToContainer = function (
            e,
            t,
            n,
            i,
            r
          ) {
            this._logger.info(
              "Communication",
              "TimeControl.setTimeWindow. Firing timeWindowChanged to container. start:" +
                e +
                ", end:" +
                t +
                ", isZoomed:" +
                n +
                ", resetStart:" +
                i +
                ", resetEnd:" +
                r
            );
            var o = {};
            (o.startTime = e),
              (o.endTime = t),
              (o.isZoomed = n),
              (o.resetStart = i),
              (o.resetEnd = r);
            var a = new CustomEvent("timeWindowChanged", { detail: o });
            this._timeControl.hostElement.dispatchEvent(a);
          }),
          (e.prototype.setTimeWindowFromContainer = function (
            e,
            t,
            n,
            i,
            r,
            o
          ) {
            void 0 === o && (o = !1),
              this.updateTimeWindow(e, t) || o
                ? this.fireTimeWindowChangedToDataObject(e, t, n, i, r)
                : this._logger.info(
                    "Communication",
                    "TimeControl.setTimeWindow. Change from container ignored. start:" +
                      e +
                      ", end:" +
                      t +
                      ", isZoomed:" +
                      n +
                      ", resetStart:" +
                      i +
                      ", resetEnd:" +
                      r
                  );
          }),
          (e.prototype.fireTimeWindowChangedToDataObject = function (
            e,
            t,
            n,
            i,
            r
          ) {
            this._logger.info(
              "Communication",
              "TimeControl.setTimeWindow. Firing timeWindowChanged to data object. start:" +
                e +
                ", end:" +
                t +
                ", isZoomed:" +
                n +
                ", resetStart:" +
                i +
                ", resetEnd:" +
                r
            );
            var o = new CustomEvent("timeWindowFromPageChanged", {
              detail: {
                start: e,
                end: t,
                isZoomed: n,
                resetStart: i,
                resetEnd: r,
              },
            });
            this._timeControl.hostElement.dispatchEvent(o);
          }),
          (e.prototype.setTimeSettingFromContainer = function (e) {
            this.updateTimeWindow(e.start, e.end);
            var t = new CustomEvent("timeSettingFromPageChanged", {
              detail: e,
            });
            this._timeControl.hostElement.dispatchEvent(t);
          }),
          Object.defineProperty(e.prototype, "hairlineTimesFromDataObject", {
            set: function (e) {
              if (e) {
                this._logger.info(
                  "Communication",
                  "TimeControl.setHairlineTimesFromDataObject. Firing hairlineTimesChanged. Times:" +
                    e
                );
                var t = new CustomEvent("hairlineTimesChanged", { detail: e });
                this._timeControl.hostElement.dispatchEvent(t);
              }
            },
            enumerable: !0,
            configurable: !0,
          }),
          (e.prototype.setHairlineTimesFromContainer = function (e) {
            this._logger.info(
              "Communication",
              "TimeControl.setHairlineTimes. Times:" + e
            );
            var t = new CustomEvent("hairlineTimesFromPageChanged", {
              detail: e,
            });
            this._timeControl.hostElement.dispatchEvent(t);
          }),
          Object.defineProperty(e.prototype, "currentTimeFromDataObject", {
            set: function (e) {
              if (e && this.updateCurrentTime(e)) {
                this._logger.info(
                  "Communication",
                  "TimeControl.setCurrentTimeFromDataObject. Firing hairlineTimesChanged. currentTime:" +
                    e
                );
                var t = new CustomEvent("currentTimeChanged", { detail: e });
                this._timeControl.hostElement.dispatchEvent(t);
              }
            },
            enumerable: !0,
            configurable: !0,
          }),
          (e.prototype.setCurrentTimeFromContainer = function (e) {
            if (this.updateCurrentTime(e)) {
              this._logger.info(
                "Communication",
                "TimeControl.setCurrentTime. CurrentTime:" + e
              );
              var t = new CustomEvent("currentTimeFromPageChanged", {
                detail: e,
              });
              this._timeControl.hostElement.dispatchEvent(t);
            }
          }),
          (e.prototype.updateTimeWindow = function (e, t) {
            var n = !1;
            return (
              i.isValidDate(e) &&
                this._startTime.getTime() !== e.getTime() &&
                ((n = !0), (this._startTime = e)),
              i.isValidDate(t) &&
                this._endTime.getTime() !== t.getTime() &&
                ((n = !0), (this._endTime = t)),
              n
            );
          }),
          (e.prototype.updateCurrentTime = function (e) {
            var t = !1;
            return (
              i.isValidDate(e) &&
                this._currentTime.getTime() !== e.getTime() &&
                ((t = !0), (this._currentTime = e)),
              t
            );
          }),
          e
        );
      })();
      t.TimeControlBindable = n;
    }
  );
var __extends =
  (this && this.__extends) ||
  (function () {
    var i = function (e, t) {
      return (i =
        Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array &&
          function (e, t) {
            e.__proto__ = t;
          }) ||
        function (e, t) {
          for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
        })(e, t);
    };
    return function (e, t) {
      function n() {
        this.constructor = e;
      }
      i(e, t),
        (e.prototype =
          null === t
            ? Object.create(t)
            : ((n.prototype = t.prototype), new n()));
    };
  })();
define("HMIWeb/Source/DisplayElements/TimeControl", [
  "require",
  "exports",
  "./CustomElementBase",
  "./TimeControlBindable",
], function (e, t, n, i) {
  "use strict";
  Object.defineProperty(t, "__esModule", { value: !0 });
  var r = (function (e) {
    function n() {
      return (null !== e && e.apply(this, arguments)) || this;
    }
    return (
      __extends(n, e),
      (n.register = function (e) {
        return (
          (n.logger = e),
          new Promise(function (t) {
            if (
              void 0 !== window.CustomElements &&
              window.CustomElements.ready
            ) {
              var e = document.registerElement("hn-timecontrol", {
                prototype: n.prototype,
              });
              t(e);
            } else
              document.addEventListener(
                "WebComponentsReady",
                function () {
                  var e = document.registerElement("hn-timecontrol", {
                    prototype: n.prototype,
                  });
                  t(e);
                },
                !1
              );
          })
        );
      }),
      (n.prototype.createdCallback = function () {
        (this._timeControlBindable = new i.TimeControlBindable(this, n.logger)),
          (this._viewModel = null);
      }),
      Object.defineProperty(n.prototype, "viewModel", {
        set: function (e) {
          var t = this;
          if (null !== this._viewModel)
            throw new Error("view model is already initialised");
          (this._viewModel = e).onStartEndOrCurrentChanged.add(function (e) {
            t.dispatchEvent(new CustomEvent("timesChanged", e));
          }),
            this.dispatchEvent(new CustomEvent("dataBound"));
        },
        enumerable: !0,
        configurable: !0,
      }),
      Object.defineProperty(n.prototype, "isDataBound", {
        get: function () {
          return null !== this._viewModel;
        },
        enumerable: !0,
        configurable: !0,
      }),
      Object.defineProperty(n.prototype, "startTime", {
        get: function () {
          return (
            this.guardElementIsDataBound(), this._viewModel.startTimeFromScript
          );
        },
        set: function (e) {
          this.guardElementIsDataBound(),
            (this._viewModel.startTimeFromScript = e);
        },
        enumerable: !0,
        configurable: !0,
      }),
      Object.defineProperty(n.prototype, "endTime", {
        get: function () {
          return (
            this.guardElementIsDataBound(), this._viewModel.endTimeFromScript
          );
        },
        set: function (e) {
          this.guardElementIsDataBound(),
            (this._viewModel.endTimeFromScript = e);
        },
        enumerable: !0,
        configurable: !0,
      }),
      Object.defineProperty(n.prototype, "currentTime", {
        get: function () {
          return (
            this.guardElementIsDataBound(),
            this._viewModel.currentTimeFromScript
          );
        },
        set: function (e) {
          this.guardElementIsDataBound(),
            (this._viewModel.currentTimeFromScript = e);
        },
        enumerable: !0,
        configurable: !0,
      }),
      (n.prototype.setTimeWindow = function (e, t) {
        return (
          this.guardElementIsDataBound(),
          this._viewModel.setTimeWindowFromScript(e, t)
        );
      }),
      (n.prototype.getTimeWindow = function () {
        return (
          this.guardElementIsDataBound(),
          this._viewModel.getTimeWindowFromScript()
        );
      }),
      (n.prototype.setAggregate = function (e) {
        return (
          this.guardElementIsDataBound(),
          this._viewModel.setAggregateFromScript(e)
        );
      }),
      (n.prototype.setResampleInterval = function (e) {
        return (
          this.guardElementIsDataBound(),
          this._viewModel.setResampleIntervalFromScript(e)
        );
      }),
      (n.prototype.setTagSourceName = function (e) {
        return (
          this.guardElementIsDataBound(),
          this._viewModel.setTagSourceNameFromScript(e)
        );
      }),
      (n.prototype.pegCurrentTimeToEndTime = function () {
        return (
          this.guardElementIsDataBound(),
          this._viewModel.pegCurrentTimeToEndTimeFromScript()
        );
      }),
      Object.defineProperty(n.prototype, "bindable", {
        get: function () {
          return this._timeControlBindable;
        },
        enumerable: !0,
        configurable: !0,
      }),
      (n.prototype.guardElementIsDataBound = function () {
        if (!this.isDataBound)
          throw new Error("This element is not yet data bound");
      }),
      n
    );
  })(n);
  t.TimeControl = r;
});
var __extends =
  (this && this.__extends) ||
  (function () {
    var i = function (e, t) {
      return (i =
        Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array &&
          function (e, t) {
            e.__proto__ = t;
          }) ||
        function (e, t) {
          for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
        })(e, t);
    };
    return function (e, t) {
      function n() {
        this.constructor = e;
      }
      i(e, t),
        (e.prototype =
          null === t
            ? Object.create(t)
            : ((n.prototype = t.prototype), new n()));
    };
  })();
define("HMIWeb/Source/DisplayElements/SVGDrawingBase", [
  "require",
  "exports",
  "customelements",
], function (e, t) {
  "use strict";
  Object.defineProperty(t, "__esModule", { value: !0 });
  var n = (function (e) {
      function n() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        __extends(n, e),
        (n.register = function (e) {
          (n.logger = e),
            void 0 !== window.CustomElements && window.CustomElements.ready
              ? n.registerElements()
              : document.addEventListener(
                  "WebComponentsReady",
                  function () {
                    n.registerElements();
                  },
                  !1
                );
        }),
        (n.registerElements = function () {
          document.registerElement("hn-rect", {
            prototype: i.prototype,
            extends: "svg",
          }),
            document.registerElement("hn-oval", {
              prototype: r.prototype,
              extends: "svg",
            }),
            document.registerElement("hn-line", {
              prototype: s.prototype,
              extends: "svg",
            }),
            document.registerElement("hn-polyline", {
              prototype: o.prototype,
              extends: "svg",
            }),
            document.registerElement("hn-polygon", {
              prototype: a.prototype,
              extends: "svg",
            }),
            document.registerElement("hn-arc", {
              prototype: l.prototype,
              extends: "svg",
            }),
            document.registerElement("hn-wedge", {
              prototype: u.prototype,
              extends: "svg",
            }),
            document.registerElement("hn-path", {
              prototype: c.prototype,
              extends: "svg",
            });
        }),
        (n.prototype.createdCallback = function () {
          if (
            (this.svgHost.setAttribute("preserveAspectRatio", "none"),
            null != this.svgHostStyle)
          ) {
            this.svgHostStyle.pointerEvents = "none";
            for (
              var e = this.getSVGChildren(this.svgHost), t = 0;
              t < e.length;
              t++
            )
              null != e[t].style &&
                "" === e[t].style.pointerEvents &&
                (e[t].style.pointerEvents = "auto");
          } else
            n.logger.error("Default", "Style of SVG host is not available");
        }),
        Object.defineProperty(n.prototype, "svgHost", {
          get: function () {
            return this;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(n.prototype, "svgHostStyle", {
          get: function () {
            return this.svgHost.style;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(n.prototype, "fillColor", {
          get: function () {
            if (null == this.svgHostStyle) return "";
            var e = this.svgHostStyle.fill;
            return e || window.getComputedStyle(this.svgHost).fill;
          },
          set: function (e) {
            this.svgHostStyle.fill = e;
            for (
              var t = this.getSVGChildren(this.svgHost), n = 0;
              n < t.length;
              n++
            )
              null != t[n].style && (t[n].style.fill = e);
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(n.prototype, "lineColor", {
          get: function () {
            if (null == this.svgHostStyle) return "";
            var e = this.svgHostStyle.stroke;
            return e || window.getComputedStyle(this.svgHost).stroke;
          },
          set: function (e) {
            this.svgHostStyle.stroke = e;
            for (
              var t = this.getSVGChildren(this.svgHost), n = 0;
              n < t.length;
              n++
            )
              null != t[n].style && (t[n].style.stroke = e);
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(n.prototype, "lineWidth", {
          get: function () {
            if (null == this.svgHostStyle) return "";
            var e = this.svgHostStyle.strokeWidth;
            return e || window.getComputedStyle(this.svgHost).strokeWidth;
          },
          set: function (e) {
            this.svgHostStyle.strokeWidth = e;
            for (
              var t = this.getSVGChildren(this.svgHost), n = 0;
              n < t.length;
              n++
            )
              null != t[n].style && (t[n].style.strokeWidth = e);
          },
          enumerable: !0,
          configurable: !0,
        }),
        (n.prototype.getSVGChildren = function (e) {
          var t = [];
          if (null == e.childNodes) return [];
          for (var n = 0; n < e.childNodes.length; n++) {
            var i = e.childNodes[n];
            i instanceof SVGElement &&
              (t.push(i),
              0 !== i.childNodes.length &&
                t.push.apply(t, this.getSVGChildren(i)));
          }
          return t;
        }),
        n
      );
    })(SVGSVGElement),
    i = (function (e) {
      function t() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return __extends(t, e), t;
    })((t.SVGDrawingBase = n));
  t.Rectangle = i;
  var r = (function (e) {
    function t() {
      return (null !== e && e.apply(this, arguments)) || this;
    }
    return __extends(t, e), t;
  })(n);
  t.Oval = r;
  var o = (function (e) {
    function t() {
      return (null !== e && e.apply(this, arguments)) || this;
    }
    return __extends(t, e), t;
  })(n);
  t.Polyline = o;
  var a = (function (e) {
    function t() {
      return (null !== e && e.apply(this, arguments)) || this;
    }
    return __extends(t, e), t;
  })(n);
  t.Polygon = a;
  var s = (function (e) {
    function t() {
      return (null !== e && e.apply(this, arguments)) || this;
    }
    return __extends(t, e), t;
  })(n);
  t.Line = s;
  var u = (function (e) {
    function t() {
      return (null !== e && e.apply(this, arguments)) || this;
    }
    return __extends(t, e), t;
  })(n);
  t.Wedge = u;
  var l = (function (e) {
    function t() {
      return (null !== e && e.apply(this, arguments)) || this;
    }
    return __extends(t, e), t;
  })(n);
  t.Arc = l;
  var c = (function (e) {
    function t() {
      return (null !== e && e.apply(this, arguments)) || this;
    }
    return __extends(t, e), t;
  })(n);
  t.Path = c;
});
var __extends =
  (this && this.__extends) ||
  (function () {
    var i = function (e, t) {
      return (i =
        Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array &&
          function (e, t) {
            e.__proto__ = t;
          }) ||
        function (e, t) {
          for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
        })(e, t);
    };
    return function (e, t) {
      function n() {
        this.constructor = e;
      }
      i(e, t),
        (e.prototype =
          null === t
            ? Object.create(t)
            : ((n.prototype = t.prototype), new n()));
    };
  })();
define(
  "HMIWeb/Source/DisplayElements/Shapes",
  ["require", "exports", "./CustomElementBase"],
  function (e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 });
    var i = (function (e) {
      function t() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        __extends(t, e),
        (t.prototype.createdCallback = function () {
          var e = new CustomEvent("shapeload");
          this.dispatchEvent(e);
        }),
        (t.prototype.getCustomProperty = function (e, t) {
          this.loadCustomProperties();
          for (var n = 0; n < this.customProperties.length; n++) {
            var i = this.customProperties[n];
            if (
              i.type.toLowerCase() === e.toLowerCase() &&
              i.name.toLowerCase() === t.toLowerCase()
            )
              return i.value;
          }
          return "";
        }),
        (t.prototype.objects = function (e) {
          return this.hostElement.querySelector(
            "#" + this.hostElement.id + "_" + e
          );
        }),
        (t.prototype.loadCustomProperties = function () {
          if (
            (void 0 === this.customProperties &&
              (this.customProperties = new Array()),
            !(0 < this.customProperties.length))
          )
            for (
              var e = this.hostElement.getAttribute("parameters").split(";"),
                t = 0;
              t < e.length;
              t++
            ) {
              var n = e[t];
              if (0 !== n.length) {
                var i,
                  r = "",
                  o = "",
                  a = n.indexOf("?"),
                  s = n.indexOf(":");
                -1 !== a
                  ? ((r = n.substring(0, a)), (o = n.substring(a + 1, s)))
                  : (o = n.substring(0, s)),
                  (i = n.substring(s + 1, n.length)),
                  this.customProperties.push({ type: r, name: o, value: i });
              }
            }
        }),
        t
      );
    })(n);
    t.Shape = i;
  }
),
  define(
    "HMIWeb/Source/DisplayElements/Page_customProperties",
    ["require", "exports"],
    function (e, t) {
      "use strict";
      return (function () {
        function e(e) {
          (this._pageCustomElement = e),
            (this._customProperties = {}),
            (this._pendingUpdates = {}),
            (this._autoReload = !0);
        }
        return (
          Object.defineProperty(e.prototype, "serverUpdate", {
            set: function (e) {
              for (var t in e) {
                var n = e[t];
                this._customProperties[t.toLowerCase()] = {
                  originalValue: n,
                  lowerCaseValue: n.toLowerCase(),
                };
              }
            },
            enumerable: !0,
            configurable: !0,
          }),
          (e.prototype.getValue = function (e) {
            var t = "",
              n = e.toLowerCase();
            return (
              void 0 !== this._customProperties[n] &&
                (t = this._customProperties[n].originalValue),
              t
            );
          }),
          (e.prototype.putValue = function (e, t) {
            var n = e.toLowerCase(),
              i = t.toLowerCase();
            void 0 !== this._customProperties[n] &&
              this._customProperties[n].lowerCaseValue !== i &&
              ((this._customProperties[n] = {
                originalValue: t,
                lowerCaseValue: i,
              }),
              (this._pendingUpdates[e] = t),
              !0 === this._autoReload && this.flushChanges());
          }),
          Object.defineProperty(e.prototype, "autoReload", {
            set: function (e) {
              "boolean" == typeof e &&
                this._autoReload !== e &&
                ((this._autoReload = e),
                !0 === this._autoReload && this.flushChanges());
            },
            enumerable: !0,
            configurable: !0,
          }),
          (e.prototype.flushChanges = function () {
            if (0 < Object.keys(this._pendingUpdates).length) {
              var e = new CustomEvent("updateCustomProperties", {
                detail: this._pendingUpdates,
              });
              this._pageCustomElement.hostElement.dispatchEvent(e),
                (this._pendingUpdates = {});
            }
          }),
          e
        );
      })();
    }
  );
var __extends =
  (this && this.__extends) ||
  (function () {
    var i = function (e, t) {
      return (i =
        Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array &&
          function (e, t) {
            e.__proto__ = t;
          }) ||
        function (e, t) {
          for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
        })(e, t);
    };
    return function (e, t) {
      function n() {
        this.constructor = e;
      }
      i(e, t),
        (e.prototype =
          null === t
            ? Object.create(t)
            : ((n.prototype = t.prototype), new n()));
    };
  })();
define(
  "HMIWeb/Source/DisplayElements/Page",
  ["require", "exports", "./CustomElementBase", "./Page_customProperties"],
  function (e, t, n, r) {
    "use strict";
    var o;
    Object.defineProperty(t, "__esModule", { value: !0 });
    var i = (function (e) {
      function i() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        __extends(i, e),
        (i.register = function (e, t) {
          return (
            e,
            (o = t),
            new Promise(function (t, e) {
              if (
                void 0 !== window.CustomElements &&
                window.CustomElements.ready
              ) {
                var n = document.registerElement("hn-page", {
                  prototype: i.prototype,
                });
                t(n);
              } else
                document.addEventListener(
                  "WebComponentsReady",
                  function () {
                    var e = document.registerElement("hn-page", {
                      prototype: i.prototype,
                    });
                    t(e);
                  },
                  !1
                );
            })
          );
        }),
        (i.prototype.createdCallback = function () {
          (this._customProperties = new r(this)), (this._isPageComplete = !1);
        }),
        Object.defineProperty(i.prototype, "customProperties", {
          get: function () {
            return this._customProperties;
          },
          enumerable: !0,
          configurable: !0,
        }),
        (i.prototype.refreshData = function () {
          var e = new CustomEvent("refreshData");
          this.hostElement.dispatchEvent(e);
        }),
        Object.defineProperty(i.prototype, "isPageComplete", {
          get: function () {
            return this._isPageComplete;
          },
          set: function (e) {
            this._isPageComplete = e;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, "navigatePortalToContent", {
          get: function () {
            if (o)
              return function (e, t) {
                return o.navigatePortalToContent(e, t ? 1 : 0);
              };
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(i.prototype, "navigatePortalToGraphicUrl", {
          get: function () {
            if (o)
              return function (e, t) {
                return o.navigatePortalToGraphicUrl(e, t ? 1 : 0);
              };
          },
          enumerable: !0,
          configurable: !0,
        }),
        i
      );
    })(n);
    t.Page = i;
  }
),
  (function (e, t) {
    "object" == typeof exports && "undefined" != typeof module
      ? t(exports)
      : "function" == typeof define && define.amd
      ? define("d3-selection", ["exports"], t)
      : t((e.d3 = e.d3 || {}));
  })(this, function (o) {
    "use strict";
    var i = "http://www.w3.org/1999/xhtml",
      r = {
        svg: "http://www.w3.org/2000/svg",
        xhtml: i,
        xlink: "http://www.w3.org/1999/xlink",
        xml: "http://www.w3.org/XML/1998/namespace",
        xmlns: "http://www.w3.org/2000/xmlns/",
      };
    function a(e) {
      var t = (e += ""),
        n = t.indexOf(":");
      return (
        0 <= n && "xmlns" !== (t = e.slice(0, n)) && (e = e.slice(n + 1)),
        r.hasOwnProperty(t) ? { space: r[t], local: e } : e
      );
    }
    function s(e) {
      var t = a(e);
      return (
        t.local
          ? function (e) {
              return function () {
                return this.ownerDocument.createElementNS(e.space, e.local);
              };
            }
          : function (n) {
              return function () {
                var e = this.ownerDocument,
                  t = this.namespaceURI;
                return t === i && e.documentElement.namespaceURI === i
                  ? e.createElement(n)
                  : e.createElementNS(t, n);
              };
            }
      )(t);
    }
    function t() {}
    function d(e) {
      return null == e
        ? t
        : function () {
            return this.querySelector(e);
          };
    }
    function n() {
      return [];
    }
    function c(e) {
      return null == e
        ? n
        : function () {
            return this.querySelectorAll(e);
          };
    }
    function h(e) {
      return function () {
        return this.matches(e);
      };
    }
    function e(e) {
      return new Array(e.length);
    }
    function p(e, t) {
      (this.ownerDocument = e.ownerDocument),
        (this.namespaceURI = e.namespaceURI),
        (this._next = null),
        (this._parent = e),
        (this.__data__ = t);
    }
    p.prototype = {
      constructor: p,
      appendChild: function (e) {
        return this._parent.insertBefore(e, this._next);
      },
      insertBefore: function (e, t) {
        return this._parent.insertBefore(e, t);
      },
      querySelector: function (e) {
        return this._parent.querySelector(e);
      },
      querySelectorAll: function (e) {
        return this._parent.querySelectorAll(e);
      },
    };
    var g = "$";
    function x(e, t, n, i, r, o) {
      for (var a, s = 0, u = t.length, l = o.length; s < l; ++s)
        (a = t[s])
          ? ((a.__data__ = o[s]), (i[s] = a))
          : (n[s] = new p(e, o[s]));
      for (; s < u; ++s) (a = t[s]) && (r[s] = a);
    }
    function T(e, t, n, i, r, o, a) {
      var s,
        u,
        l,
        c = {},
        d = t.length,
        h = o.length,
        f = new Array(d);
      for (s = 0; s < d; ++s)
        (u = t[s]) &&
          ((f[s] = l = g + a.call(u, u.__data__, s, t)),
          l in c ? (r[s] = u) : (c[l] = u));
      for (s = 0; s < h; ++s)
        (u = c[(l = g + a.call(e, o[s], s, o))])
          ? (((i[s] = u).__data__ = o[s]), (c[l] = null))
          : (n[s] = new p(e, o[s]));
      for (s = 0; s < d; ++s) (u = t[s]) && c[f[s]] === u && (r[s] = u);
    }
    function f(e, t) {
      return e < t ? -1 : t < e ? 1 : t <= e ? 0 : NaN;
    }
    function u(e) {
      return (
        (e.ownerDocument && e.ownerDocument.defaultView) ||
        (e.document && e) ||
        e.defaultView
      );
    }
    function l(e, t) {
      return (
        e.style.getPropertyValue(t) ||
        u(e).getComputedStyle(e, null).getPropertyValue(t)
      );
    }
    function m(e) {
      return e.trim().split(/^|\s+/);
    }
    function v(e) {
      return e.classList || new b(e);
    }
    function b(e) {
      (this._node = e), (this._names = m(e.getAttribute("class") || ""));
    }
    function y(e, t) {
      for (var n = v(e), i = -1, r = t.length; ++i < r; ) n.add(t[i]);
    }
    function w(e, t) {
      for (var n = v(e), i = -1, r = t.length; ++i < r; ) n.remove(t[i]);
    }
    function _() {
      this.textContent = "";
    }
    function C() {
      this.innerHTML = "";
    }
    function S() {
      this.nextSibling && this.parentNode.appendChild(this);
    }
    function E() {
      this.previousSibling &&
        this.parentNode.insertBefore(this, this.parentNode.firstChild);
    }
    function D() {
      return null;
    }
    function O() {
      var e = this.parentNode;
      e && e.removeChild(this);
    }
    function M() {
      return this.parentNode.insertBefore(this.cloneNode(!1), this.nextSibling);
    }
    function j() {
      return this.parentNode.insertBefore(this.cloneNode(!0), this.nextSibling);
    }
    b.prototype = {
      add: function (e) {
        this._names.indexOf(e) < 0 &&
          (this._names.push(e),
          this._node.setAttribute("class", this._names.join(" ")));
      },
      remove: function (e) {
        var t = this._names.indexOf(e);
        0 <= t &&
          (this._names.splice(t, 1),
          this._node.setAttribute("class", this._names.join(" ")));
      },
      contains: function (e) {
        return 0 <= this._names.indexOf(e);
      },
    };
    var P = {};
    ((o.event = null), "undefined" != typeof document) &&
      ("onmouseenter" in document.documentElement ||
        (P = { mouseenter: "mouseover", mouseleave: "mouseout" }));
    function I(n, e, t) {
      return (
        (n = k(n, e, t)),
        function (e) {
          var t = e.relatedTarget;
          (t && (t === this || 8 & t.compareDocumentPosition(this))) ||
            n.call(this, e);
        }
      );
    }
    function k(n, i, r) {
      return function (e) {
        var t = o.event;
        o.event = e;
        try {
          n.call(this, this.__data__, i, r);
        } finally {
          o.event = t;
        }
      };
    }
    function A(o) {
      return function () {
        var e = this.__on;
        if (e) {
          for (var t, n = 0, i = -1, r = e.length; n < r; ++n)
            (t = e[n]),
              (o.type && t.type !== o.type) || t.name !== o.name
                ? (e[++i] = t)
                : this.removeEventListener(t.type, t.listener, t.capture);
          ++i ? (e.length = i) : delete this.__on;
        }
      };
    }
    function N(u, l, c) {
      var d = P.hasOwnProperty(u.type) ? I : k;
      return function (e, t, n) {
        var i,
          r = this.__on,
          o = d(l, t, n);
        if (r)
          for (var a = 0, s = r.length; a < s; ++a)
            if ((i = r[a]).type === u.type && i.name === u.name)
              return (
                this.removeEventListener(i.type, i.listener, i.capture),
                this.addEventListener(
                  i.type,
                  (i.listener = o),
                  (i.capture = c)
                ),
                void (i.value = l)
              );
        this.addEventListener(u.type, o, c),
          (i = {
            type: u.type,
            name: u.name,
            value: l,
            listener: o,
            capture: c,
          }),
          r ? r.push(i) : (this.__on = [i]);
      };
    }
    function L(e, t, n) {
      var i = u(e),
        r = i.CustomEvent;
      "function" == typeof r
        ? (r = new r(t, n))
        : ((r = i.document.createEvent("Event")),
          n
            ? (r.initEvent(t, n.bubbles, n.cancelable), (r.detail = n.detail))
            : r.initEvent(t, !1, !1)),
        e.dispatchEvent(r);
    }
    var R = [null];
    function H(e, t) {
      (this._groups = e), (this._parents = t);
    }
    function F() {
      return new H([[document.documentElement]], R);
    }
    function B(e) {
      return "string" == typeof e
        ? new H([[document.querySelector(e)]], [document.documentElement])
        : new H([[e]], R);
    }
    H.prototype = F.prototype = {
      constructor: H,
      select: function (e) {
        "function" != typeof e && (e = d(e));
        for (
          var t = this._groups, n = t.length, i = new Array(n), r = 0;
          r < n;
          ++r
        )
          for (
            var o, a, s = t[r], u = s.length, l = (i[r] = new Array(u)), c = 0;
            c < u;
            ++c
          )
            (o = s[c]) &&
              (a = e.call(o, o.__data__, c, s)) &&
              ("__data__" in o && (a.__data__ = o.__data__), (l[c] = a));
        return new H(i, this._parents);
      },
      selectAll: function (e) {
        "function" != typeof e && (e = c(e));
        for (
          var t = this._groups, n = t.length, i = [], r = [], o = 0;
          o < n;
          ++o
        )
          for (var a, s = t[o], u = s.length, l = 0; l < u; ++l)
            (a = s[l]) && (i.push(e.call(a, a.__data__, l, s)), r.push(a));
        return new H(i, r);
      },
      filter: function (e) {
        "function" != typeof e && (e = h(e));
        for (
          var t = this._groups, n = t.length, i = new Array(n), r = 0;
          r < n;
          ++r
        )
          for (
            var o, a = t[r], s = a.length, u = (i[r] = []), l = 0;
            l < s;
            ++l
          )
            (o = a[l]) && e.call(o, o.__data__, l, a) && u.push(o);
        return new H(i, this._parents);
      },
      data: function (e, t) {
        if (!e)
          return (
            (p = new Array(this.size())),
            (c = -1),
            this.each(function (e) {
              p[++c] = e;
            }),
            p
          );
        var n,
          i = t ? T : x,
          r = this._parents,
          o = this._groups;
        "function" != typeof e &&
          ((n = e),
          (e = function () {
            return n;
          }));
        for (
          var a = o.length,
            s = new Array(a),
            u = new Array(a),
            l = new Array(a),
            c = 0;
          c < a;
          ++c
        ) {
          var d = r[c],
            h = o[c],
            f = h.length,
            p = e.call(d, d && d.__data__, c, r),
            g = p.length,
            m = (u[c] = new Array(g)),
            v = (s[c] = new Array(g));
          i(d, h, m, v, (l[c] = new Array(f)), p, t);
          for (var b, y, w = 0, _ = 0; w < g; ++w)
            if ((b = m[w])) {
              for (_ <= w && (_ = w + 1); !(y = v[_]) && ++_ < g; );
              b._next = y || null;
            }
        }
        return ((s = new H(s, r))._enter = u), (s._exit = l), s;
      },
      enter: function () {
        return new H(this._enter || this._groups.map(e), this._parents);
      },
      exit: function () {
        return new H(this._exit || this._groups.map(e), this._parents);
      },
      join: function (e, t, n) {
        var i = this.enter(),
          r = this,
          o = this.exit();
        return (
          (i = "function" == typeof e ? e(i) : i.append(e + "")),
          null != t && (r = t(r)),
          null == n ? o.remove() : n(o),
          i && r ? i.merge(r).order() : r
        );
      },
      merge: function (e) {
        for (
          var t = this._groups,
            n = e._groups,
            i = t.length,
            r = n.length,
            o = Math.min(i, r),
            a = new Array(i),
            s = 0;
          s < o;
          ++s
        )
          for (
            var u,
              l = t[s],
              c = n[s],
              d = l.length,
              h = (a[s] = new Array(d)),
              f = 0;
            f < d;
            ++f
          )
            (u = l[f] || c[f]) && (h[f] = u);
        for (; s < i; ++s) a[s] = t[s];
        return new H(a, this._parents);
      },
      order: function () {
        for (var e = this._groups, t = -1, n = e.length; ++t < n; )
          for (var i, r = e[t], o = r.length - 1, a = r[o]; 0 <= --o; )
            (i = r[o]) &&
              (a &&
                4 ^ i.compareDocumentPosition(a) &&
                a.parentNode.insertBefore(i, a),
              (a = i));
        return this;
      },
      sort: function (n) {
        function e(e, t) {
          return e && t ? n(e.__data__, t.__data__) : !e - !t;
        }
        n || (n = f);
        for (
          var t = this._groups, i = t.length, r = new Array(i), o = 0;
          o < i;
          ++o
        ) {
          for (
            var a, s = t[o], u = s.length, l = (r[o] = new Array(u)), c = 0;
            c < u;
            ++c
          )
            (a = s[c]) && (l[c] = a);
          l.sort(e);
        }
        return new H(r, this._parents).order();
      },
      call: function () {
        var e = arguments[0];
        return (arguments[0] = this), e.apply(null, arguments), this;
      },
      nodes: function () {
        var e = new Array(this.size()),
          t = -1;
        return (
          this.each(function () {
            e[++t] = this;
          }),
          e
        );
      },
      node: function () {
        for (var e = this._groups, t = 0, n = e.length; t < n; ++t)
          for (var i = e[t], r = 0, o = i.length; r < o; ++r) {
            var a = i[r];
            if (a) return a;
          }
        return null;
      },
      size: function () {
        var e = 0;
        return (
          this.each(function () {
            ++e;
          }),
          e
        );
      },
      empty: function () {
        return !this.node();
      },
      each: function (e) {
        for (var t = this._groups, n = 0, i = t.length; n < i; ++n)
          for (var r, o = t[n], a = 0, s = o.length; a < s; ++a)
            (r = o[a]) && e.call(r, r.__data__, a, o);
        return this;
      },
      attr: function (e, t) {
        var n = a(e);
        if (arguments.length < 2) {
          var i = this.node();
          return n.local
            ? i.getAttributeNS(n.space, n.local)
            : i.getAttribute(n);
        }
        return this.each(
          (null == t
            ? n.local
              ? function (e) {
                  return function () {
                    this.removeAttributeNS(e.space, e.local);
                  };
                }
              : function (e) {
                  return function () {
                    this.removeAttribute(e);
                  };
                }
            : "function" == typeof t
            ? n.local
              ? function (t, n) {
                  return function () {
                    var e = n.apply(this, arguments);
                    null == e
                      ? this.removeAttributeNS(t.space, t.local)
                      : this.setAttributeNS(t.space, t.local, e);
                  };
                }
              : function (t, n) {
                  return function () {
                    var e = n.apply(this, arguments);
                    null == e
                      ? this.removeAttribute(t)
                      : this.setAttribute(t, e);
                  };
                }
            : n.local
            ? function (e, t) {
                return function () {
                  this.setAttributeNS(e.space, e.local, t);
                };
              }
            : function (e, t) {
                return function () {
                  this.setAttribute(e, t);
                };
              })(n, t)
        );
      },
      style: function (e, t, n) {
        return 1 < arguments.length
          ? this.each(
              (null == t
                ? function (e) {
                    return function () {
                      this.style.removeProperty(e);
                    };
                  }
                : "function" == typeof t
                ? function (t, n, i) {
                    return function () {
                      var e = n.apply(this, arguments);
                      null == e
                        ? this.style.removeProperty(t)
                        : this.style.setProperty(t, e, i);
                    };
                  }
                : function (e, t, n) {
                    return function () {
                      this.style.setProperty(e, t, n);
                    };
                  })(e, t, null == n ? "" : n)
            )
          : l(this.node(), e);
      },
      property: function (e, t) {
        return 1 < arguments.length
          ? this.each(
              (null == t
                ? function (e) {
                    return function () {
                      delete this[e];
                    };
                  }
                : "function" == typeof t
                ? function (t, n) {
                    return function () {
                      var e = n.apply(this, arguments);
                      null == e ? delete this[t] : (this[t] = e);
                    };
                  }
                : function (e, t) {
                    return function () {
                      this[e] = t;
                    };
                  })(e, t)
            )
          : this.node()[e];
      },
      classed: function (e, t) {
        var n = m(e + "");
        if (arguments.length < 2) {
          for (var i = v(this.node()), r = -1, o = n.length; ++r < o; )
            if (!i.contains(n[r])) return !1;
          return !0;
        }
        return this.each(
          ("function" == typeof t
            ? function (e, t) {
                return function () {
                  (t.apply(this, arguments) ? y : w)(this, e);
                };
              }
            : t
            ? function (e) {
                return function () {
                  y(this, e);
                };
              }
            : function (e) {
                return function () {
                  w(this, e);
                };
              })(n, t)
        );
      },
      text: function (e) {
        return arguments.length
          ? this.each(
              null == e
                ? _
                : ("function" == typeof e
                    ? function (t) {
                        return function () {
                          var e = t.apply(this, arguments);
                          this.textContent = null == e ? "" : e;
                        };
                      }
                    : function (e) {
                        return function () {
                          this.textContent = e;
                        };
                      })(e)
            )
          : this.node().textContent;
      },
      html: function (e) {
        return arguments.length
          ? this.each(
              null == e
                ? C
                : ("function" == typeof e
                    ? function (t) {
                        return function () {
                          var e = t.apply(this, arguments);
                          this.innerHTML = null == e ? "" : e;
                        };
                      }
                    : function (e) {
                        return function () {
                          this.innerHTML = e;
                        };
                      })(e)
            )
          : this.node().innerHTML;
      },
      raise: function () {
        return this.each(S);
      },
      lower: function () {
        return this.each(E);
      },
      append: function (e) {
        var t = "function" == typeof e ? e : s(e);
        return this.select(function () {
          return this.appendChild(t.apply(this, arguments));
        });
      },
      insert: function (e, t) {
        var n = "function" == typeof e ? e : s(e),
          i = null == t ? D : "function" == typeof t ? t : d(t);
        return this.select(function () {
          return this.insertBefore(
            n.apply(this, arguments),
            i.apply(this, arguments) || null
          );
        });
      },
      remove: function () {
        return this.each(O);
      },
      clone: function (e) {
        return this.select(e ? j : M);
      },
      datum: function (e) {
        return arguments.length
          ? this.property("__data__", e)
          : this.node().__data__;
      },
      on: function (e, t, n) {
        var i,
          r,
          o = (e + "")
            .trim()
            .split(/^|\s+/)
            .map(function (e) {
              var t = "",
                n = e.indexOf(".");
              return (
                0 <= n && ((t = e.slice(n + 1)), (e = e.slice(0, n))),
                { type: e, name: t }
              );
            }),
          a = o.length;
        if (!(arguments.length < 2)) {
          for (s = t ? N : A, null == n && (n = !1), i = 0; i < a; ++i)
            this.each(s(o[i], t, n));
          return this;
        }
        var s = this.node().__on;
        if (s)
          for (var u, l = 0, c = s.length; l < c; ++l)
            for (i = 0, u = s[l]; i < a; ++i)
              if ((r = o[i]).type === u.type && r.name === u.name)
                return u.value;
      },
      dispatch: function (e, t) {
        return this.each(
          ("function" == typeof t
            ? function (e, t) {
                return function () {
                  return L(this, e, t.apply(this, arguments));
                };
              }
            : function (e, t) {
                return function () {
                  return L(this, e, t);
                };
              })(e, t)
        );
      },
    };
    var V = 0;
    function q() {
      return new W();
    }
    function W() {
      this._ = "@" + (++V).toString(36);
    }
    function U() {
      for (var e, t = o.event; (e = t.sourceEvent); ) t = e;
      return t;
    }
    function z(e, t) {
      var n = e.ownerSVGElement || e;
      if (n.createSVGPoint) {
        var i = n.createSVGPoint();
        return (
          (i.x = t.clientX),
          (i.y = t.clientY),
          [(i = i.matrixTransform(e.getScreenCTM().inverse())).x, i.y]
        );
      }
      var r = e.getBoundingClientRect();
      return [
        t.clientX - r.left - e.clientLeft,
        t.clientY - r.top - e.clientTop,
      ];
    }
    (W.prototype = q.prototype =
      {
        constructor: W,
        get: function (e) {
          for (var t = this._; !(t in e); ) if (!(e = e.parentNode)) return;
          return e[t];
        },
        set: function (e, t) {
          return (e[this._] = t);
        },
        remove: function (e) {
          return this._ in e && delete e[this._];
        },
        toString: function () {
          return this._;
        },
      }),
      (o.create = function (e) {
        return B(s(e).call(document.documentElement));
      }),
      (o.creator = s),
      (o.local = q),
      (o.matcher = h),
      (o.mouse = function (e) {
        var t = U();
        return t.changedTouches && (t = t.changedTouches[0]), z(e, t);
      }),
      (o.namespace = a),
      (o.namespaces = r),
      (o.clientPoint = z),
      (o.select = B),
      (o.selectAll = function (e) {
        return "string" == typeof e
          ? new H([document.querySelectorAll(e)], [document.documentElement])
          : new H([null == e ? [] : e], R);
      }),
      (o.selection = F),
      (o.selector = d),
      (o.selectorAll = c),
      (o.style = l),
      (o.touch = function (e, t, n) {
        arguments.length < 3 && ((n = t), (t = U().changedTouches));
        for (var i, r = 0, o = t ? t.length : 0; r < o; ++r)
          if ((i = t[r]).identifier === n) return z(e, i);
        return null;
      }),
      (o.touches = function (e, t) {
        null == t && (t = U().touches);
        for (var n = 0, i = t ? t.length : 0, r = new Array(i); n < i; ++n)
          r[n] = z(e, t[n]);
        return r;
      }),
      (o.window = u),
      (o.customEvent = function (e, t, n, i) {
        var r = o.event;
        (e.sourceEvent = o.event), (o.event = e);
        try {
          return t.apply(n, i);
        } finally {
          o.event = r;
        }
      }),
      Object.defineProperty(o, "__esModule", { value: !0 });
  }),
  (function (e, t) {
    "object" == typeof exports && "undefined" != typeof module
      ? t(exports)
      : "function" == typeof define && define.amd
      ? define("d3-path", ["exports"], t)
      : t((e.d3 = e.d3 || {}));
  })(this, function (e) {
    "use strict";
    var _ = Math.PI,
      h = 2 * _,
      f = h - 1e-6;
    function t() {
      (this._x0 = this._y0 = this._x1 = this._y1 = null), (this._ = "");
    }
    function n() {
      return new t();
    }
    (t.prototype = n.prototype =
      {
        constructor: t,
        moveTo: function (e, t) {
          this._ +=
            "M" + (this._x0 = this._x1 = +e) + "," + (this._y0 = this._y1 = +t);
        },
        closePath: function () {
          null !== this._x1 &&
            ((this._x1 = this._x0), (this._y1 = this._y0), (this._ += "Z"));
        },
        lineTo: function (e, t) {
          this._ += "L" + (this._x1 = +e) + "," + (this._y1 = +t);
        },
        quadraticCurveTo: function (e, t, n, i) {
          this._ +=
            "Q" + +e + "," + +t + "," + (this._x1 = +n) + "," + (this._y1 = +i);
        },
        bezierCurveTo: function (e, t, n, i, r, o) {
          this._ +=
            "C" +
            +e +
            "," +
            +t +
            "," +
            +n +
            "," +
            +i +
            "," +
            (this._x1 = +r) +
            "," +
            (this._y1 = +o);
        },
        arcTo: function (e, t, n, i, r) {
          (e = +e), (t = +t), (n = +n), (i = +i), (r = +r);
          var o = this._x1,
            a = this._y1,
            s = n - e,
            u = i - t,
            l = o - e,
            c = a - t,
            d = l * l + c * c;
          if (r < 0) throw new Error("negative radius: " + r);
          if (null === this._x1)
            this._ += "M" + (this._x1 = e) + "," + (this._y1 = t);
          else if (1e-6 < d)
            if (1e-6 < Math.abs(c * s - u * l) && r) {
              var h = n - o,
                f = i - a,
                p = s * s + u * u,
                g = h * h + f * f,
                m = Math.sqrt(p),
                v = Math.sqrt(d),
                b =
                  r * Math.tan((_ - Math.acos((p + d - g) / (2 * m * v))) / 2),
                y = b / v,
                w = b / m;
              1e-6 < Math.abs(y - 1) &&
                (this._ += "L" + (e + y * l) + "," + (t + y * c)),
                (this._ +=
                  "A" +
                  r +
                  "," +
                  r +
                  ",0,0," +
                  +(l * f < c * h) +
                  "," +
                  (this._x1 = e + w * s) +
                  "," +
                  (this._y1 = t + w * u));
            } else this._ += "L" + (this._x1 = e) + "," + (this._y1 = t);
          else;
        },
        arc: function (e, t, n, i, r, o) {
          (e = +e), (t = +t);
          var a = (n = +n) * Math.cos(i),
            s = n * Math.sin(i),
            u = e + a,
            l = t + s,
            c = 1 ^ o,
            d = o ? i - r : r - i;
          if (n < 0) throw new Error("negative radius: " + n);
          null === this._x1
            ? (this._ += "M" + u + "," + l)
            : (1e-6 < Math.abs(this._x1 - u) ||
                1e-6 < Math.abs(this._y1 - l)) &&
              (this._ += "L" + u + "," + l),
            n &&
              (d < 0 && (d = (d % h) + h),
              f < d
                ? (this._ +=
                    "A" +
                    n +
                    "," +
                    n +
                    ",0,1," +
                    c +
                    "," +
                    (e - a) +
                    "," +
                    (t - s) +
                    "A" +
                    n +
                    "," +
                    n +
                    ",0,1," +
                    c +
                    "," +
                    (this._x1 = u) +
                    "," +
                    (this._y1 = l))
                : 1e-6 < d &&
                  (this._ +=
                    "A" +
                    n +
                    "," +
                    n +
                    ",0," +
                    +(_ <= d) +
                    "," +
                    c +
                    "," +
                    (this._x1 = e + n * Math.cos(r)) +
                    "," +
                    (this._y1 = t + n * Math.sin(r))));
        },
        rect: function (e, t, n, i) {
          this._ +=
            "M" +
            (this._x0 = this._x1 = +e) +
            "," +
            (this._y0 = this._y1 = +t) +
            "h" +
            +n +
            "v" +
            +i +
            "h" +
            -n +
            "Z";
        },
        toString: function () {
          return this._;
        },
      }),
      (e.path = n),
      Object.defineProperty(e, "__esModule", { value: !0 });
  }),
  (function (e, t) {
    "object" == typeof exports && "undefined" != typeof module
      ? t(exports, require("d3-path"))
      : "function" == typeof define && define.amd
      ? define("d3-shape", ["exports", "d3-path"], t)
      : t((e.d3 = e.d3 || {}), e.d3);
  })(this, function (e, K) {
    "use strict";
    function w(e) {
      return function () {
        return e;
      };
    }
    var $ = Math.abs,
      X = Math.atan2,
      J = Math.cos,
      I = Math.max,
      Q = Math.min,
      Y = Math.sin,
      Z = Math.sqrt,
      ee = 1e-12,
      te = Math.PI,
      ne = te / 2,
      ie = 2 * te;
    function re(e) {
      return 1 <= e ? ne : e <= -1 ? -ne : Math.asin(e);
    }
    function n(e) {
      return e.innerRadius;
    }
    function i(e) {
      return e.outerRadius;
    }
    function r(e) {
      return e.startAngle;
    }
    function o(e) {
      return e.endAngle;
    }
    function a(e) {
      return e && e.padAngle;
    }
    function oe(e, t, n, i, r, o, a) {
      var s = e - n,
        u = t - i,
        l = (a ? o : -o) / Z(s * s + u * u),
        c = l * u,
        d = -l * s,
        h = e + c,
        f = t + d,
        p = n + c,
        g = i + d,
        m = (h + p) / 2,
        v = (f + g) / 2,
        b = p - h,
        y = g - f,
        w = b * b + y * y,
        _ = r - o,
        x = h * g - p * f,
        T = (y < 0 ? -1 : 1) * Z(I(0, _ * _ * w - x * x)),
        C = (x * y - b * T) / w,
        S = (-x * b - y * T) / w,
        E = (x * y + b * T) / w,
        D = (-x * b + y * T) / w,
        O = C - m,
        M = S - v,
        j = E - m,
        P = D - v;
      return (
        j * j + P * P < O * O + M * M && ((C = E), (S = D)),
        {
          cx: C,
          cy: S,
          x01: -c,
          y01: -d,
          x11: C * (r / _ - 1),
          y11: S * (r / _ - 1),
        }
      );
    }
    function t(e) {
      this._context = e;
    }
    function b(e) {
      return new t(e);
    }
    function y(e) {
      return e[0];
    }
    function _(e) {
      return e[1];
    }
    function s() {
      var a = y,
        s = _,
        u = w(!0),
        l = null,
        c = b,
        d = null;
      function t(e) {
        var t,
          n,
          i,
          r = e.length,
          o = !1;
        for (null == l && (d = c((i = K.path()))), t = 0; t <= r; ++t)
          !(t < r && u((n = e[t]), t, e)) === o &&
            ((o = !o) ? d.lineStart() : d.lineEnd()),
            o && d.point(+a(n, t, e), +s(n, t, e));
        if (i) return (d = null), i + "" || null;
      }
      return (
        (t.x = function (e) {
          return arguments.length
            ? ((a = "function" == typeof e ? e : w(+e)), t)
            : a;
        }),
        (t.y = function (e) {
          return arguments.length
            ? ((s = "function" == typeof e ? e : w(+e)), t)
            : s;
        }),
        (t.defined = function (e) {
          return arguments.length
            ? ((u = "function" == typeof e ? e : w(!!e)), t)
            : u;
        }),
        (t.curve = function (e) {
          return arguments.length ? ((c = e), null != l && (d = c(l)), t) : c;
        }),
        (t.context = function (e) {
          return arguments.length
            ? (null == e ? (l = d = null) : (d = c((l = e))), t)
            : l;
        }),
        t
      );
    }
    function u() {
      var c = y,
        d = null,
        h = w(0),
        f = _,
        p = w(!0),
        g = null,
        m = b,
        v = null;
      function t(e) {
        var t,
          n,
          i,
          r,
          o,
          a = e.length,
          s = !1,
          u = new Array(a),
          l = new Array(a);
        for (null == g && (v = m((o = K.path()))), t = 0; t <= a; ++t) {
          if (!(t < a && p((r = e[t]), t, e)) === s)
            if ((s = !s)) (n = t), v.areaStart(), v.lineStart();
            else {
              for (v.lineEnd(), v.lineStart(), i = t - 1; n <= i; --i)
                v.point(u[i], l[i]);
              v.lineEnd(), v.areaEnd();
            }
          s &&
            ((u[t] = +c(r, t, e)),
            (l[t] = +h(r, t, e)),
            v.point(d ? +d(r, t, e) : u[t], f ? +f(r, t, e) : l[t]));
        }
        if (o) return (v = null), o + "" || null;
      }
      function e() {
        return s().defined(p).curve(m).context(g);
      }
      return (
        (t.x = function (e) {
          return arguments.length
            ? ((c = "function" == typeof e ? e : w(+e)), (d = null), t)
            : c;
        }),
        (t.x0 = function (e) {
          return arguments.length
            ? ((c = "function" == typeof e ? e : w(+e)), t)
            : c;
        }),
        (t.x1 = function (e) {
          return arguments.length
            ? ((d = null == e ? null : "function" == typeof e ? e : w(+e)), t)
            : d;
        }),
        (t.y = function (e) {
          return arguments.length
            ? ((h = "function" == typeof e ? e : w(+e)), (f = null), t)
            : h;
        }),
        (t.y0 = function (e) {
          return arguments.length
            ? ((h = "function" == typeof e ? e : w(+e)), t)
            : h;
        }),
        (t.y1 = function (e) {
          return arguments.length
            ? ((f = null == e ? null : "function" == typeof e ? e : w(+e)), t)
            : f;
        }),
        (t.lineX0 = t.lineY0 =
          function () {
            return e().x(c).y(h);
          }),
        (t.lineY1 = function () {
          return e().x(c).y(f);
        }),
        (t.lineX1 = function () {
          return e().x(d).y(h);
        }),
        (t.defined = function (e) {
          return arguments.length
            ? ((p = "function" == typeof e ? e : w(!!e)), t)
            : p;
        }),
        (t.curve = function (e) {
          return arguments.length ? ((m = e), null != g && (v = m(g)), t) : m;
        }),
        (t.context = function (e) {
          return arguments.length
            ? (null == e ? (g = v = null) : (v = m((g = e))), t)
            : g;
        }),
        t
      );
    }
    function l(e, t) {
      return t < e ? -1 : e < t ? 1 : e <= t ? 0 : NaN;
    }
    function c(e) {
      return e;
    }
    t.prototype = {
      areaStart: function () {
        this._line = 0;
      },
      areaEnd: function () {
        this._line = NaN;
      },
      lineStart: function () {
        this._point = 0;
      },
      lineEnd: function () {
        (this._line || (0 !== this._line && 1 === this._point)) &&
          this._context.closePath(),
          (this._line = 1 - this._line);
      },
      point: function (e, t) {
        switch (((e = +e), (t = +t), this._point)) {
          case 0:
            (this._point = 1),
              this._line
                ? this._context.lineTo(e, t)
                : this._context.moveTo(e, t);
            break;
          case 1:
            this._point = 2;
          default:
            this._context.lineTo(e, t);
        }
      },
    };
    var d = f(b);
    function h(e) {
      this._curve = e;
    }
    function f(t) {
      function e(e) {
        return new h(t(e));
      }
      return (e._curve = t), e;
    }
    function p(e) {
      var t = e.curve;
      return (
        (e.angle = e.x),
        delete e.x,
        (e.radius = e.y),
        delete e.y,
        (e.curve = function (e) {
          return arguments.length ? t(f(e)) : t()._curve;
        }),
        e
      );
    }
    function g() {
      return p(s().curve(d));
    }
    function m() {
      var e = u().curve(d),
        t = e.curve,
        n = e.lineX0,
        i = e.lineX1,
        r = e.lineY0,
        o = e.lineY1;
      return (
        (e.angle = e.x),
        delete e.x,
        (e.startAngle = e.x0),
        delete e.x0,
        (e.endAngle = e.x1),
        delete e.x1,
        (e.radius = e.y),
        delete e.y,
        (e.innerRadius = e.y0),
        delete e.y0,
        (e.outerRadius = e.y1),
        delete e.y1,
        (e.lineStartAngle = function () {
          return p(n());
        }),
        delete e.lineX0,
        (e.lineEndAngle = function () {
          return p(i());
        }),
        delete e.lineX1,
        (e.lineInnerRadius = function () {
          return p(r());
        }),
        delete e.lineY0,
        (e.lineOuterRadius = function () {
          return p(o());
        }),
        delete e.lineY1,
        (e.curve = function (e) {
          return arguments.length ? t(f(e)) : t()._curve;
        }),
        e
      );
    }
    function v(e, t) {
      return [(t = +t) * Math.cos((e -= Math.PI / 2)), t * Math.sin(e)];
    }
    h.prototype = {
      areaStart: function () {
        this._curve.areaStart();
      },
      areaEnd: function () {
        this._curve.areaEnd();
      },
      lineStart: function () {
        this._curve.lineStart();
      },
      lineEnd: function () {
        this._curve.lineEnd();
      },
      point: function (e, t) {
        this._curve.point(t * Math.sin(e), t * -Math.cos(e));
      },
    };
    var x = Array.prototype.slice;
    function T(e) {
      return e.source;
    }
    function C(e) {
      return e.target;
    }
    function S(r) {
      var o = T,
        a = C,
        s = y,
        u = _,
        l = null;
      function t() {
        var e,
          t = x.call(arguments),
          n = o.apply(this, t),
          i = a.apply(this, t);
        if (
          (l || (l = e = K.path()),
          r(
            l,
            +s.apply(this, ((t[0] = n), t)),
            +u.apply(this, t),
            +s.apply(this, ((t[0] = i), t)),
            +u.apply(this, t)
          ),
          e)
        )
          return (l = null), e + "" || null;
      }
      return (
        (t.source = function (e) {
          return arguments.length ? ((o = e), t) : o;
        }),
        (t.target = function (e) {
          return arguments.length ? ((a = e), t) : a;
        }),
        (t.x = function (e) {
          return arguments.length
            ? ((s = "function" == typeof e ? e : w(+e)), t)
            : s;
        }),
        (t.y = function (e) {
          return arguments.length
            ? ((u = "function" == typeof e ? e : w(+e)), t)
            : u;
        }),
        (t.context = function (e) {
          return arguments.length ? ((l = null == e ? null : e), t) : l;
        }),
        t
      );
    }
    function E(e, t, n, i, r) {
      e.moveTo(t, n), e.bezierCurveTo((t = (t + i) / 2), n, t, r, i, r);
    }
    function D(e, t, n, i, r) {
      e.moveTo(t, n), e.bezierCurveTo(t, (n = (n + r) / 2), i, n, i, r);
    }
    function O(e, t, n, i, r) {
      var o = v(t, n),
        a = v(t, (n = (n + r) / 2)),
        s = v(i, n),
        u = v(i, r);
      e.moveTo(o[0], o[1]), e.bezierCurveTo(a[0], a[1], s[0], s[1], u[0], u[1]);
    }
    var M = {
        draw: function (e, t) {
          var n = Math.sqrt(t / te);
          e.moveTo(n, 0), e.arc(0, 0, n, 0, ie);
        },
      },
      j = {
        draw: function (e, t) {
          var n = Math.sqrt(t / 5) / 2;
          e.moveTo(-3 * n, -n),
            e.lineTo(-n, -n),
            e.lineTo(-n, -3 * n),
            e.lineTo(n, -3 * n),
            e.lineTo(n, -n),
            e.lineTo(3 * n, -n),
            e.lineTo(3 * n, n),
            e.lineTo(n, n),
            e.lineTo(n, 3 * n),
            e.lineTo(-n, 3 * n),
            e.lineTo(-n, n),
            e.lineTo(-3 * n, n),
            e.closePath();
        },
      },
      P = Math.sqrt(1 / 3),
      k = 2 * P,
      A = {
        draw: function (e, t) {
          var n = Math.sqrt(t / k),
            i = n * P;
          e.moveTo(0, -n),
            e.lineTo(i, 0),
            e.lineTo(0, n),
            e.lineTo(-i, 0),
            e.closePath();
        },
      },
      N = Math.sin(te / 10) / Math.sin((7 * te) / 10),
      L = Math.sin(ie / 10) * N,
      R = -Math.cos(ie / 10) * N,
      H = {
        draw: function (e, t) {
          var n = Math.sqrt(0.8908130915292852 * t),
            i = L * n,
            r = R * n;
          e.moveTo(0, -n), e.lineTo(i, r);
          for (var o = 1; o < 5; ++o) {
            var a = (ie * o) / 5,
              s = Math.cos(a),
              u = Math.sin(a);
            e.lineTo(u * n, -s * n), e.lineTo(s * i - u * r, u * i + s * r);
          }
          e.closePath();
        },
      },
      F = {
        draw: function (e, t) {
          var n = Math.sqrt(t),
            i = -n / 2;
          e.rect(i, i, n, n);
        },
      },
      B = Math.sqrt(3),
      V = {
        draw: function (e, t) {
          var n = -Math.sqrt(t / (3 * B));
          e.moveTo(0, 2 * n),
            e.lineTo(-B * n, -n),
            e.lineTo(B * n, -n),
            e.closePath();
        },
      },
      q = Math.sqrt(3) / 2,
      W = 1 / Math.sqrt(12),
      U = 3 * (W / 2 + 1),
      z = {
        draw: function (e, t) {
          var n = Math.sqrt(t / U),
            i = n / 2,
            r = n * W,
            o = i,
            a = n * W + n,
            s = -o,
            u = a;
          e.moveTo(i, r),
            e.lineTo(o, a),
            e.lineTo(s, u),
            e.lineTo(-0.5 * i - q * r, q * i + -0.5 * r),
            e.lineTo(-0.5 * o - q * a, q * o + -0.5 * a),
            e.lineTo(-0.5 * s - q * u, q * s + -0.5 * u),
            e.lineTo(-0.5 * i + q * r, -0.5 * r - q * i),
            e.lineTo(-0.5 * o + q * a, -0.5 * a - q * o),
            e.lineTo(-0.5 * s + q * u, -0.5 * u - q * s),
            e.closePath();
        },
      },
      G = [M, j, A, F, H, V, z];
    function ae() {}
    function se(e, t, n) {
      e._context.bezierCurveTo(
        (2 * e._x0 + e._x1) / 3,
        (2 * e._y0 + e._y1) / 3,
        (e._x0 + 2 * e._x1) / 3,
        (e._y0 + 2 * e._y1) / 3,
        (e._x0 + 4 * e._x1 + t) / 6,
        (e._y0 + 4 * e._y1 + n) / 6
      );
    }
    function ue(e) {
      this._context = e;
    }
    function le(e) {
      this._context = e;
    }
    function ce(e) {
      this._context = e;
    }
    function de(e, t) {
      (this._basis = new ue(e)), (this._beta = t);
    }
    (ue.prototype = {
      areaStart: function () {
        this._line = 0;
      },
      areaEnd: function () {
        this._line = NaN;
      },
      lineStart: function () {
        (this._x0 = this._x1 = this._y0 = this._y1 = NaN), (this._point = 0);
      },
      lineEnd: function () {
        switch (this._point) {
          case 3:
            se(this, this._x1, this._y1);
          case 2:
            this._context.lineTo(this._x1, this._y1);
        }
        (this._line || (0 !== this._line && 1 === this._point)) &&
          this._context.closePath(),
          (this._line = 1 - this._line);
      },
      point: function (e, t) {
        switch (((e = +e), (t = +t), this._point)) {
          case 0:
            (this._point = 1),
              this._line
                ? this._context.lineTo(e, t)
                : this._context.moveTo(e, t);
            break;
          case 1:
            this._point = 2;
            break;
          case 2:
            (this._point = 3),
              this._context.lineTo(
                (5 * this._x0 + this._x1) / 6,
                (5 * this._y0 + this._y1) / 6
              );
          default:
            se(this, e, t);
        }
        (this._x0 = this._x1),
          (this._x1 = e),
          (this._y0 = this._y1),
          (this._y1 = t);
      },
    }),
      (le.prototype = {
        areaStart: ae,
        areaEnd: ae,
        lineStart: function () {
          (this._x0 =
            this._x1 =
            this._x2 =
            this._x3 =
            this._x4 =
            this._y0 =
            this._y1 =
            this._y2 =
            this._y3 =
            this._y4 =
              NaN),
            (this._point = 0);
        },
        lineEnd: function () {
          switch (this._point) {
            case 1:
              this._context.moveTo(this._x2, this._y2),
                this._context.closePath();
              break;
            case 2:
              this._context.moveTo(
                (this._x2 + 2 * this._x3) / 3,
                (this._y2 + 2 * this._y3) / 3
              ),
                this._context.lineTo(
                  (this._x3 + 2 * this._x2) / 3,
                  (this._y3 + 2 * this._y2) / 3
                ),
                this._context.closePath();
              break;
            case 3:
              this.point(this._x2, this._y2),
                this.point(this._x3, this._y3),
                this.point(this._x4, this._y4);
          }
        },
        point: function (e, t) {
          switch (((e = +e), (t = +t), this._point)) {
            case 0:
              (this._point = 1), (this._x2 = e), (this._y2 = t);
              break;
            case 1:
              (this._point = 2), (this._x3 = e), (this._y3 = t);
              break;
            case 2:
              (this._point = 3),
                (this._x4 = e),
                (this._y4 = t),
                this._context.moveTo(
                  (this._x0 + 4 * this._x1 + e) / 6,
                  (this._y0 + 4 * this._y1 + t) / 6
                );
              break;
            default:
              se(this, e, t);
          }
          (this._x0 = this._x1),
            (this._x1 = e),
            (this._y0 = this._y1),
            (this._y1 = t);
        },
      }),
      (ce.prototype = {
        areaStart: function () {
          this._line = 0;
        },
        areaEnd: function () {
          this._line = NaN;
        },
        lineStart: function () {
          (this._x0 = this._x1 = this._y0 = this._y1 = NaN), (this._point = 0);
        },
        lineEnd: function () {
          (this._line || (0 !== this._line && 3 === this._point)) &&
            this._context.closePath(),
            (this._line = 1 - this._line);
        },
        point: function (e, t) {
          switch (((e = +e), (t = +t), this._point)) {
            case 0:
              this._point = 1;
              break;
            case 1:
              this._point = 2;
              break;
            case 2:
              this._point = 3;
              var n = (this._x0 + 4 * this._x1 + e) / 6,
                i = (this._y0 + 4 * this._y1 + t) / 6;
              this._line
                ? this._context.lineTo(n, i)
                : this._context.moveTo(n, i);
              break;
            case 3:
              this._point = 4;
            default:
              se(this, e, t);
          }
          (this._x0 = this._x1),
            (this._x1 = e),
            (this._y0 = this._y1),
            (this._y1 = t);
        },
      }),
      (de.prototype = {
        lineStart: function () {
          (this._x = []), (this._y = []), this._basis.lineStart();
        },
        lineEnd: function () {
          var e = this._x,
            t = this._y,
            n = e.length - 1;
          if (0 < n)
            for (
              var i, r = e[0], o = t[0], a = e[n] - r, s = t[n] - o, u = -1;
              ++u <= n;

            )
              (i = u / n),
                this._basis.point(
                  this._beta * e[u] + (1 - this._beta) * (r + i * a),
                  this._beta * t[u] + (1 - this._beta) * (o + i * s)
                );
          (this._x = this._y = null), this._basis.lineEnd();
        },
        point: function (e, t) {
          this._x.push(+e), this._y.push(+t);
        },
      });
    var he = (function t(n) {
      function e(e) {
        return 1 === n ? new ue(e) : new de(e, n);
      }
      return (
        (e.beta = function (e) {
          return t(+e);
        }),
        e
      );
    })(0.85);
    function fe(e, t, n) {
      e._context.bezierCurveTo(
        e._x1 + e._k * (e._x2 - e._x0),
        e._y1 + e._k * (e._y2 - e._y0),
        e._x2 + e._k * (e._x1 - t),
        e._y2 + e._k * (e._y1 - n),
        e._x2,
        e._y2
      );
    }
    function pe(e, t) {
      (this._context = e), (this._k = (1 - t) / 6);
    }
    pe.prototype = {
      areaStart: function () {
        this._line = 0;
      },
      areaEnd: function () {
        this._line = NaN;
      },
      lineStart: function () {
        (this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN),
          (this._point = 0);
      },
      lineEnd: function () {
        switch (this._point) {
          case 2:
            this._context.lineTo(this._x2, this._y2);
            break;
          case 3:
            fe(this, this._x1, this._y1);
        }
        (this._line || (0 !== this._line && 1 === this._point)) &&
          this._context.closePath(),
          (this._line = 1 - this._line);
      },
      point: function (e, t) {
        switch (((e = +e), (t = +t), this._point)) {
          case 0:
            (this._point = 1),
              this._line
                ? this._context.lineTo(e, t)
                : this._context.moveTo(e, t);
            break;
          case 1:
            (this._point = 2), (this._x1 = e), (this._y1 = t);
            break;
          case 2:
            this._point = 3;
          default:
            fe(this, e, t);
        }
        (this._x0 = this._x1),
          (this._x1 = this._x2),
          (this._x2 = e),
          (this._y0 = this._y1),
          (this._y1 = this._y2),
          (this._y2 = t);
      },
    };
    var ge = (function t(n) {
      function e(e) {
        return new pe(e, n);
      }
      return (
        (e.tension = function (e) {
          return t(+e);
        }),
        e
      );
    })(0);
    function me(e, t) {
      (this._context = e), (this._k = (1 - t) / 6);
    }
    me.prototype = {
      areaStart: ae,
      areaEnd: ae,
      lineStart: function () {
        (this._x0 =
          this._x1 =
          this._x2 =
          this._x3 =
          this._x4 =
          this._x5 =
          this._y0 =
          this._y1 =
          this._y2 =
          this._y3 =
          this._y4 =
          this._y5 =
            NaN),
          (this._point = 0);
      },
      lineEnd: function () {
        switch (this._point) {
          case 1:
            this._context.moveTo(this._x3, this._y3), this._context.closePath();
            break;
          case 2:
            this._context.lineTo(this._x3, this._y3), this._context.closePath();
            break;
          case 3:
            this.point(this._x3, this._y3),
              this.point(this._x4, this._y4),
              this.point(this._x5, this._y5);
        }
      },
      point: function (e, t) {
        switch (((e = +e), (t = +t), this._point)) {
          case 0:
            (this._point = 1), (this._x3 = e), (this._y3 = t);
            break;
          case 1:
            (this._point = 2),
              this._context.moveTo((this._x4 = e), (this._y4 = t));
            break;
          case 2:
            (this._point = 3), (this._x5 = e), (this._y5 = t);
            break;
          default:
            fe(this, e, t);
        }
        (this._x0 = this._x1),
          (this._x1 = this._x2),
          (this._x2 = e),
          (this._y0 = this._y1),
          (this._y1 = this._y2),
          (this._y2 = t);
      },
    };
    var ve = (function t(n) {
      function e(e) {
        return new me(e, n);
      }
      return (
        (e.tension = function (e) {
          return t(+e);
        }),
        e
      );
    })(0);
    function be(e, t) {
      (this._context = e), (this._k = (1 - t) / 6);
    }
    be.prototype = {
      areaStart: function () {
        this._line = 0;
      },
      areaEnd: function () {
        this._line = NaN;
      },
      lineStart: function () {
        (this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN),
          (this._point = 0);
      },
      lineEnd: function () {
        (this._line || (0 !== this._line && 3 === this._point)) &&
          this._context.closePath(),
          (this._line = 1 - this._line);
      },
      point: function (e, t) {
        switch (((e = +e), (t = +t), this._point)) {
          case 0:
            this._point = 1;
            break;
          case 1:
            this._point = 2;
            break;
          case 2:
            (this._point = 3),
              this._line
                ? this._context.lineTo(this._x2, this._y2)
                : this._context.moveTo(this._x2, this._y2);
            break;
          case 3:
            this._point = 4;
          default:
            fe(this, e, t);
        }
        (this._x0 = this._x1),
          (this._x1 = this._x2),
          (this._x2 = e),
          (this._y0 = this._y1),
          (this._y1 = this._y2),
          (this._y2 = t);
      },
    };
    var ye = (function t(n) {
      function e(e) {
        return new be(e, n);
      }
      return (
        (e.tension = function (e) {
          return t(+e);
        }),
        e
      );
    })(0);
    function we(e, t, n) {
      var i = e._x1,
        r = e._y1,
        o = e._x2,
        a = e._y2;
      if (e._l01_a > ee) {
        var s = 2 * e._l01_2a + 3 * e._l01_a * e._l12_a + e._l12_2a,
          u = 3 * e._l01_a * (e._l01_a + e._l12_a);
        (i = (i * s - e._x0 * e._l12_2a + e._x2 * e._l01_2a) / u),
          (r = (r * s - e._y0 * e._l12_2a + e._y2 * e._l01_2a) / u);
      }
      if (e._l23_a > ee) {
        var l = 2 * e._l23_2a + 3 * e._l23_a * e._l12_a + e._l12_2a,
          c = 3 * e._l23_a * (e._l23_a + e._l12_a);
        (o = (o * l + e._x1 * e._l23_2a - t * e._l12_2a) / c),
          (a = (a * l + e._y1 * e._l23_2a - n * e._l12_2a) / c);
      }
      e._context.bezierCurveTo(i, r, o, a, e._x2, e._y2);
    }
    function _e(e, t) {
      (this._context = e), (this._alpha = t);
    }
    _e.prototype = {
      areaStart: function () {
        this._line = 0;
      },
      areaEnd: function () {
        this._line = NaN;
      },
      lineStart: function () {
        (this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN),
          (this._l01_a =
            this._l12_a =
            this._l23_a =
            this._l01_2a =
            this._l12_2a =
            this._l23_2a =
            this._point =
              0);
      },
      lineEnd: function () {
        switch (this._point) {
          case 2:
            this._context.lineTo(this._x2, this._y2);
            break;
          case 3:
            this.point(this._x2, this._y2);
        }
        (this._line || (0 !== this._line && 1 === this._point)) &&
          this._context.closePath(),
          (this._line = 1 - this._line);
      },
      point: function (e, t) {
        if (((e = +e), (t = +t), this._point)) {
          var n = this._x2 - e,
            i = this._y2 - t;
          this._l23_a = Math.sqrt(
            (this._l23_2a = Math.pow(n * n + i * i, this._alpha))
          );
        }
        switch (this._point) {
          case 0:
            (this._point = 1),
              this._line
                ? this._context.lineTo(e, t)
                : this._context.moveTo(e, t);
            break;
          case 1:
            this._point = 2;
            break;
          case 2:
            this._point = 3;
          default:
            we(this, e, t);
        }
        (this._l01_a = this._l12_a),
          (this._l12_a = this._l23_a),
          (this._l01_2a = this._l12_2a),
          (this._l12_2a = this._l23_2a),
          (this._x0 = this._x1),
          (this._x1 = this._x2),
          (this._x2 = e),
          (this._y0 = this._y1),
          (this._y1 = this._y2),
          (this._y2 = t);
      },
    };
    var xe = (function t(n) {
      function e(e) {
        return n ? new _e(e, n) : new pe(e, 0);
      }
      return (
        (e.alpha = function (e) {
          return t(+e);
        }),
        e
      );
    })(0.5);
    function Te(e, t) {
      (this._context = e), (this._alpha = t);
    }
    Te.prototype = {
      areaStart: ae,
      areaEnd: ae,
      lineStart: function () {
        (this._x0 =
          this._x1 =
          this._x2 =
          this._x3 =
          this._x4 =
          this._x5 =
          this._y0 =
          this._y1 =
          this._y2 =
          this._y3 =
          this._y4 =
          this._y5 =
            NaN),
          (this._l01_a =
            this._l12_a =
            this._l23_a =
            this._l01_2a =
            this._l12_2a =
            this._l23_2a =
            this._point =
              0);
      },
      lineEnd: function () {
        switch (this._point) {
          case 1:
            this._context.moveTo(this._x3, this._y3), this._context.closePath();
            break;
          case 2:
            this._context.lineTo(this._x3, this._y3), this._context.closePath();
            break;
          case 3:
            this.point(this._x3, this._y3),
              this.point(this._x4, this._y4),
              this.point(this._x5, this._y5);
        }
      },
      point: function (e, t) {
        if (((e = +e), (t = +t), this._point)) {
          var n = this._x2 - e,
            i = this._y2 - t;
          this._l23_a = Math.sqrt(
            (this._l23_2a = Math.pow(n * n + i * i, this._alpha))
          );
        }
        switch (this._point) {
          case 0:
            (this._point = 1), (this._x3 = e), (this._y3 = t);
            break;
          case 1:
            (this._point = 2),
              this._context.moveTo((this._x4 = e), (this._y4 = t));
            break;
          case 2:
            (this._point = 3), (this._x5 = e), (this._y5 = t);
            break;
          default:
            we(this, e, t);
        }
        (this._l01_a = this._l12_a),
          (this._l12_a = this._l23_a),
          (this._l01_2a = this._l12_2a),
          (this._l12_2a = this._l23_2a),
          (this._x0 = this._x1),
          (this._x1 = this._x2),
          (this._x2 = e),
          (this._y0 = this._y1),
          (this._y1 = this._y2),
          (this._y2 = t);
      },
    };
    var Ce = (function t(n) {
      function e(e) {
        return n ? new Te(e, n) : new me(e, 0);
      }
      return (
        (e.alpha = function (e) {
          return t(+e);
        }),
        e
      );
    })(0.5);
    function Se(e, t) {
      (this._context = e), (this._alpha = t);
    }
    Se.prototype = {
      areaStart: function () {
        this._line = 0;
      },
      areaEnd: function () {
        this._line = NaN;
      },
      lineStart: function () {
        (this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN),
          (this._l01_a =
            this._l12_a =
            this._l23_a =
            this._l01_2a =
            this._l12_2a =
            this._l23_2a =
            this._point =
              0);
      },
      lineEnd: function () {
        (this._line || (0 !== this._line && 3 === this._point)) &&
          this._context.closePath(),
          (this._line = 1 - this._line);
      },
      point: function (e, t) {
        if (((e = +e), (t = +t), this._point)) {
          var n = this._x2 - e,
            i = this._y2 - t;
          this._l23_a = Math.sqrt(
            (this._l23_2a = Math.pow(n * n + i * i, this._alpha))
          );
        }
        switch (this._point) {
          case 0:
            this._point = 1;
            break;
          case 1:
            this._point = 2;
            break;
          case 2:
            (this._point = 3),
              this._line
                ? this._context.lineTo(this._x2, this._y2)
                : this._context.moveTo(this._x2, this._y2);
            break;
          case 3:
            this._point = 4;
          default:
            we(this, e, t);
        }
        (this._l01_a = this._l12_a),
          (this._l12_a = this._l23_a),
          (this._l01_2a = this._l12_2a),
          (this._l12_2a = this._l23_2a),
          (this._x0 = this._x1),
          (this._x1 = this._x2),
          (this._x2 = e),
          (this._y0 = this._y1),
          (this._y1 = this._y2),
          (this._y2 = t);
      },
    };
    var Ee = (function t(n) {
      function e(e) {
        return n ? new Se(e, n) : new be(e, 0);
      }
      return (
        (e.alpha = function (e) {
          return t(+e);
        }),
        e
      );
    })(0.5);
    function De(e) {
      this._context = e;
    }
    function Oe(e) {
      return e < 0 ? -1 : 1;
    }
    function Me(e, t, n) {
      var i = e._x1 - e._x0,
        r = t - e._x1,
        o = (e._y1 - e._y0) / (i || (r < 0 && -0)),
        a = (n - e._y1) / (r || (i < 0 && -0)),
        s = (o * r + a * i) / (i + r);
      return (
        (Oe(o) + Oe(a)) *
          Math.min(Math.abs(o), Math.abs(a), 0.5 * Math.abs(s)) || 0
      );
    }
    function je(e, t) {
      var n = e._x1 - e._x0;
      return n ? ((3 * (e._y1 - e._y0)) / n - t) / 2 : t;
    }
    function Pe(e, t, n) {
      var i = e._x0,
        r = e._y0,
        o = e._x1,
        a = e._y1,
        s = (o - i) / 3;
      e._context.bezierCurveTo(i + s, r + s * t, o - s, a - s * n, o, a);
    }
    function Ie(e) {
      this._context = e;
    }
    function ke(e) {
      this._context = new Ae(e);
    }
    function Ae(e) {
      this._context = e;
    }
    function Ne(e) {
      this._context = e;
    }
    function Le(e) {
      var t,
        n,
        i = e.length - 1,
        r = new Array(i),
        o = new Array(i),
        a = new Array(i);
      for (o[(r[0] = 0)] = 2, a[0] = e[0] + 2 * e[1], t = 1; t < i - 1; ++t)
        (r[t] = 1), (o[t] = 4), (a[t] = 4 * e[t] + 2 * e[t + 1]);
      for (
        r[i - 1] = 2, o[i - 1] = 7, a[i - 1] = 8 * e[i - 1] + e[i], t = 1;
        t < i;
        ++t
      )
        (n = r[t] / o[t - 1]), (o[t] -= n), (a[t] -= n * a[t - 1]);
      for (r[i - 1] = a[i - 1] / o[i - 1], t = i - 2; 0 <= t; --t)
        r[t] = (a[t] - r[t + 1]) / o[t];
      for (o[i - 1] = (e[i] + r[i - 1]) / 2, t = 0; t < i - 1; ++t)
        o[t] = 2 * e[t + 1] - r[t + 1];
      return [r, o];
    }
    function Re(e, t) {
      (this._context = e), (this._t = t);
    }
    function He(e, t) {
      if (1 < (r = e.length))
        for (var n, i, r, o = 1, a = e[t[0]], s = a.length; o < r; ++o)
          for (i = a, a = e[t[o]], n = 0; n < s; ++n)
            a[n][1] += a[n][0] = isNaN(i[n][1]) ? i[n][0] : i[n][1];
    }
    function Fe(e) {
      for (var t = e.length, n = new Array(t); 0 <= --t; ) n[t] = t;
      return n;
    }
    function Be(e, t) {
      return e[t];
    }
    function Ve(e) {
      var n = e.map(qe);
      return Fe(e).sort(function (e, t) {
        return n[e] - n[t];
      });
    }
    function qe(e) {
      for (var t, n = -1, i = 0, r = e.length, o = -1 / 0; ++n < r; )
        (t = +e[n][1]) > o && ((o = t), (i = n));
      return i;
    }
    function We(e) {
      var n = e.map(Ue);
      return Fe(e).sort(function (e, t) {
        return n[e] - n[t];
      });
    }
    function Ue(e) {
      for (var t, n = 0, i = -1, r = e.length; ++i < r; )
        (t = +e[i][1]) && (n += t);
      return n;
    }
    (De.prototype = {
      areaStart: ae,
      areaEnd: ae,
      lineStart: function () {
        this._point = 0;
      },
      lineEnd: function () {
        this._point && this._context.closePath();
      },
      point: function (e, t) {
        (e = +e),
          (t = +t),
          this._point
            ? this._context.lineTo(e, t)
            : ((this._point = 1), this._context.moveTo(e, t));
      },
    }),
      (Ie.prototype = {
        areaStart: function () {
          this._line = 0;
        },
        areaEnd: function () {
          this._line = NaN;
        },
        lineStart: function () {
          (this._x0 = this._x1 = this._y0 = this._y1 = this._t0 = NaN),
            (this._point = 0);
        },
        lineEnd: function () {
          switch (this._point) {
            case 2:
              this._context.lineTo(this._x1, this._y1);
              break;
            case 3:
              Pe(this, this._t0, je(this, this._t0));
          }
          (this._line || (0 !== this._line && 1 === this._point)) &&
            this._context.closePath(),
            (this._line = 1 - this._line);
        },
        point: function (e, t) {
          var n = NaN;
          if (((t = +t), (e = +e) !== this._x1 || t !== this._y1)) {
            switch (this._point) {
              case 0:
                (this._point = 1),
                  this._line
                    ? this._context.lineTo(e, t)
                    : this._context.moveTo(e, t);
                break;
              case 1:
                this._point = 2;
                break;
              case 2:
                (this._point = 3), Pe(this, je(this, (n = Me(this, e, t))), n);
                break;
              default:
                Pe(this, this._t0, (n = Me(this, e, t)));
            }
            (this._x0 = this._x1),
              (this._x1 = e),
              (this._y0 = this._y1),
              (this._y1 = t),
              (this._t0 = n);
          }
        },
      }),
      ((ke.prototype = Object.create(Ie.prototype)).point = function (e, t) {
        Ie.prototype.point.call(this, t, e);
      }),
      (Ae.prototype = {
        moveTo: function (e, t) {
          this._context.moveTo(t, e);
        },
        closePath: function () {
          this._context.closePath();
        },
        lineTo: function (e, t) {
          this._context.lineTo(t, e);
        },
        bezierCurveTo: function (e, t, n, i, r, o) {
          this._context.bezierCurveTo(t, e, i, n, o, r);
        },
      }),
      (Ne.prototype = {
        areaStart: function () {
          this._line = 0;
        },
        areaEnd: function () {
          this._line = NaN;
        },
        lineStart: function () {
          (this._x = []), (this._y = []);
        },
        lineEnd: function () {
          var e = this._x,
            t = this._y,
            n = e.length;
          if (n)
            if (
              (this._line
                ? this._context.lineTo(e[0], t[0])
                : this._context.moveTo(e[0], t[0]),
              2 === n)
            )
              this._context.lineTo(e[1], t[1]);
            else
              for (var i = Le(e), r = Le(t), o = 0, a = 1; a < n; ++o, ++a)
                this._context.bezierCurveTo(
                  i[0][o],
                  r[0][o],
                  i[1][o],
                  r[1][o],
                  e[a],
                  t[a]
                );
          (this._line || (0 !== this._line && 1 === n)) &&
            this._context.closePath(),
            (this._line = 1 - this._line),
            (this._x = this._y = null);
        },
        point: function (e, t) {
          this._x.push(+e), this._y.push(+t);
        },
      }),
      (Re.prototype = {
        areaStart: function () {
          this._line = 0;
        },
        areaEnd: function () {
          this._line = NaN;
        },
        lineStart: function () {
          (this._x = this._y = NaN), (this._point = 0);
        },
        lineEnd: function () {
          0 < this._t &&
            this._t < 1 &&
            2 === this._point &&
            this._context.lineTo(this._x, this._y),
            (this._line || (0 !== this._line && 1 === this._point)) &&
              this._context.closePath(),
            0 <= this._line &&
              ((this._t = 1 - this._t), (this._line = 1 - this._line));
        },
        point: function (e, t) {
          switch (((e = +e), (t = +t), this._point)) {
            case 0:
              (this._point = 1),
                this._line
                  ? this._context.lineTo(e, t)
                  : this._context.moveTo(e, t);
              break;
            case 1:
              this._point = 2;
            default:
              if (this._t <= 0)
                this._context.lineTo(this._x, t), this._context.lineTo(e, t);
              else {
                var n = this._x * (1 - this._t) + e * this._t;
                this._context.lineTo(n, this._y), this._context.lineTo(n, t);
              }
          }
          (this._x = e), (this._y = t);
        },
      }),
      (e.arc = function () {
        var F = n,
          B = i,
          V = w(0),
          q = null,
          W = r,
          U = o,
          z = a,
          G = null;
        function t() {
          var e,
            t,
            n,
            i = +F.apply(this, arguments),
            r = +B.apply(this, arguments),
            o = W.apply(this, arguments) - ne,
            a = U.apply(this, arguments) - ne,
            s = $(a - o),
            u = o < a;
          if (
            (G || (G = e = K.path()),
            r < i && ((t = r), (r = i), (i = t)),
            ee < r)
          )
            if (ie - ee < s)
              G.moveTo(r * J(o), r * Y(o)),
                G.arc(0, 0, r, o, a, !u),
                ee < i &&
                  (G.moveTo(i * J(a), i * Y(a)), G.arc(0, 0, i, a, o, u));
            else {
              var l,
                c,
                d = o,
                h = a,
                f = o,
                p = a,
                g = s,
                m = s,
                v = z.apply(this, arguments) / 2,
                b =
                  ee < v && (q ? +q.apply(this, arguments) : Z(i * i + r * r)),
                y = Q($(r - i) / 2, +V.apply(this, arguments)),
                w = y,
                _ = y;
              if (ee < b) {
                var x = re((b / i) * Y(v)),
                  T = re((b / r) * Y(v));
                (g -= 2 * x) > ee
                  ? ((f += x *= u ? 1 : -1), (p -= x))
                  : ((g = 0), (f = p = (o + a) / 2)),
                  (m -= 2 * T) > ee
                    ? ((d += T *= u ? 1 : -1), (h -= T))
                    : ((m = 0), (d = h = (o + a) / 2));
              }
              var C = r * J(d),
                S = r * Y(d),
                E = i * J(p),
                D = i * Y(p);
              if (ee < y) {
                var O,
                  M = r * J(h),
                  j = r * Y(h),
                  P = i * J(f),
                  I = i * Y(f);
                if (
                  s < te &&
                  (O = (function (e, t, n, i, r, o, a, s) {
                    var u = n - e,
                      l = i - t,
                      c = a - r,
                      d = s - o,
                      h = d * u - c * l;
                    if (!(h * h < ee))
                      return [
                        e + (h = (c * (t - o) - d * (e - r)) / h) * u,
                        t + h * l,
                      ];
                  })(C, S, P, I, M, j, E, D))
                ) {
                  var k = C - O[0],
                    A = S - O[1],
                    N = M - O[0],
                    L = j - O[1],
                    R =
                      1 /
                      Y(
                        (1 <
                        (n =
                          (k * N + A * L) /
                          (Z(k * k + A * A) * Z(N * N + L * L)))
                          ? 0
                          : n < -1
                          ? te
                          : Math.acos(n)) / 2
                      ),
                    H = Z(O[0] * O[0] + O[1] * O[1]);
                  (w = Q(y, (i - H) / (R - 1))), (_ = Q(y, (r - H) / (R + 1)));
                }
              }
              ee < m
                ? ee < _
                  ? ((l = oe(P, I, C, S, r, _, u)),
                    (c = oe(M, j, E, D, r, _, u)),
                    G.moveTo(l.cx + l.x01, l.cy + l.y01),
                    _ < y
                      ? G.arc(
                          l.cx,
                          l.cy,
                          _,
                          X(l.y01, l.x01),
                          X(c.y01, c.x01),
                          !u
                        )
                      : (G.arc(
                          l.cx,
                          l.cy,
                          _,
                          X(l.y01, l.x01),
                          X(l.y11, l.x11),
                          !u
                        ),
                        G.arc(
                          0,
                          0,
                          r,
                          X(l.cy + l.y11, l.cx + l.x11),
                          X(c.cy + c.y11, c.cx + c.x11),
                          !u
                        ),
                        G.arc(
                          c.cx,
                          c.cy,
                          _,
                          X(c.y11, c.x11),
                          X(c.y01, c.x01),
                          !u
                        )))
                  : (G.moveTo(C, S), G.arc(0, 0, r, d, h, !u))
                : G.moveTo(C, S),
                ee < i && ee < g
                  ? ee < w
                    ? ((l = oe(E, D, M, j, i, -w, u)),
                      (c = oe(C, S, P, I, i, -w, u)),
                      G.lineTo(l.cx + l.x01, l.cy + l.y01),
                      w < y
                        ? G.arc(
                            l.cx,
                            l.cy,
                            w,
                            X(l.y01, l.x01),
                            X(c.y01, c.x01),
                            !u
                          )
                        : (G.arc(
                            l.cx,
                            l.cy,
                            w,
                            X(l.y01, l.x01),
                            X(l.y11, l.x11),
                            !u
                          ),
                          G.arc(
                            0,
                            0,
                            i,
                            X(l.cy + l.y11, l.cx + l.x11),
                            X(c.cy + c.y11, c.cx + c.x11),
                            u
                          ),
                          G.arc(
                            c.cx,
                            c.cy,
                            w,
                            X(c.y11, c.x11),
                            X(c.y01, c.x01),
                            !u
                          )))
                    : G.arc(0, 0, i, p, f, u)
                  : G.lineTo(E, D);
            }
          else G.moveTo(0, 0);
          if ((G.closePath(), e)) return (G = null), e + "" || null;
        }
        return (
          (t.centroid = function () {
            var e = (+F.apply(this, arguments) + +B.apply(this, arguments)) / 2,
              t =
                (+W.apply(this, arguments) + +U.apply(this, arguments)) / 2 -
                te / 2;
            return [J(t) * e, Y(t) * e];
          }),
          (t.innerRadius = function (e) {
            return arguments.length
              ? ((F = "function" == typeof e ? e : w(+e)), t)
              : F;
          }),
          (t.outerRadius = function (e) {
            return arguments.length
              ? ((B = "function" == typeof e ? e : w(+e)), t)
              : B;
          }),
          (t.cornerRadius = function (e) {
            return arguments.length
              ? ((V = "function" == typeof e ? e : w(+e)), t)
              : V;
          }),
          (t.padRadius = function (e) {
            return arguments.length
              ? ((q = null == e ? null : "function" == typeof e ? e : w(+e)), t)
              : q;
          }),
          (t.startAngle = function (e) {
            return arguments.length
              ? ((W = "function" == typeof e ? e : w(+e)), t)
              : W;
          }),
          (t.endAngle = function (e) {
            return arguments.length
              ? ((U = "function" == typeof e ? e : w(+e)), t)
              : U;
          }),
          (t.padAngle = function (e) {
            return arguments.length
              ? ((z = "function" == typeof e ? e : w(+e)), t)
              : z;
          }),
          (t.context = function (e) {
            return arguments.length ? ((G = null == e ? null : e), t) : G;
          }),
          t
        );
      }),
      (e.area = u),
      (e.line = s),
      (e.pie = function () {
        var p = c,
          g = l,
          m = null,
          v = w(0),
          b = w(ie),
          y = w(0);
        function t(n) {
          var e,
            t,
            i,
            r,
            o,
            a = n.length,
            s = 0,
            u = new Array(a),
            l = new Array(a),
            c = +v.apply(this, arguments),
            d = Math.min(ie, Math.max(-ie, b.apply(this, arguments) - c)),
            h = Math.min(Math.abs(d) / a, y.apply(this, arguments)),
            f = h * (d < 0 ? -1 : 1);
          for (e = 0; e < a; ++e)
            0 < (o = l[(u[e] = e)] = +p(n[e], e, n)) && (s += o);
          for (
            null != g
              ? u.sort(function (e, t) {
                  return g(l[e], l[t]);
                })
              : null != m &&
                u.sort(function (e, t) {
                  return m(n[e], n[t]);
                }),
              e = 0,
              i = s ? (d - a * f) / s : 0;
            e < a;
            ++e, c = r
          )
            (t = u[e]),
              (r = c + (0 < (o = l[t]) ? o * i : 0) + f),
              (l[t] = {
                data: n[t],
                index: e,
                value: o,
                startAngle: c,
                endAngle: r,
                padAngle: h,
              });
          return l;
        }
        return (
          (t.value = function (e) {
            return arguments.length
              ? ((p = "function" == typeof e ? e : w(+e)), t)
              : p;
          }),
          (t.sortValues = function (e) {
            return arguments.length ? ((g = e), (m = null), t) : g;
          }),
          (t.sort = function (e) {
            return arguments.length ? ((m = e), (g = null), t) : m;
          }),
          (t.startAngle = function (e) {
            return arguments.length
              ? ((v = "function" == typeof e ? e : w(+e)), t)
              : v;
          }),
          (t.endAngle = function (e) {
            return arguments.length
              ? ((b = "function" == typeof e ? e : w(+e)), t)
              : b;
          }),
          (t.padAngle = function (e) {
            return arguments.length
              ? ((y = "function" == typeof e ? e : w(+e)), t)
              : y;
          }),
          t
        );
      }),
      (e.areaRadial = m),
      (e.radialArea = m),
      (e.lineRadial = g),
      (e.radialLine = g),
      (e.pointRadial = v),
      (e.linkHorizontal = function () {
        return S(E);
      }),
      (e.linkVertical = function () {
        return S(D);
      }),
      (e.linkRadial = function () {
        var e = S(O);
        return (e.angle = e.x), delete e.x, (e.radius = e.y), delete e.y, e;
      }),
      (e.symbol = function () {
        var t = w(M),
          n = w(64),
          i = null;
        function r() {
          var e;
          if (
            (i || (i = e = K.path()),
            t.apply(this, arguments).draw(i, +n.apply(this, arguments)),
            e)
          )
            return (i = null), e + "" || null;
        }
        return (
          (r.type = function (e) {
            return arguments.length
              ? ((t = "function" == typeof e ? e : w(e)), r)
              : t;
          }),
          (r.size = function (e) {
            return arguments.length
              ? ((n = "function" == typeof e ? e : w(+e)), r)
              : n;
          }),
          (r.context = function (e) {
            return arguments.length ? ((i = null == e ? null : e), r) : i;
          }),
          r
        );
      }),
      (e.symbols = G),
      (e.symbolCircle = M),
      (e.symbolCross = j),
      (e.symbolDiamond = A),
      (e.symbolSquare = F),
      (e.symbolStar = H),
      (e.symbolTriangle = V),
      (e.symbolWye = z),
      (e.curveBasisClosed = function (e) {
        return new le(e);
      }),
      (e.curveBasisOpen = function (e) {
        return new ce(e);
      }),
      (e.curveBasis = function (e) {
        return new ue(e);
      }),
      (e.curveBundle = he),
      (e.curveCardinalClosed = ve),
      (e.curveCardinalOpen = ye),
      (e.curveCardinal = ge),
      (e.curveCatmullRomClosed = Ce),
      (e.curveCatmullRomOpen = Ee),
      (e.curveCatmullRom = xe),
      (e.curveLinearClosed = function (e) {
        return new De(e);
      }),
      (e.curveLinear = b),
      (e.curveMonotoneX = function (e) {
        return new Ie(e);
      }),
      (e.curveMonotoneY = function (e) {
        return new ke(e);
      }),
      (e.curveNatural = function (e) {
        return new Ne(e);
      }),
      (e.curveStep = function (e) {
        return new Re(e, 0.5);
      }),
      (e.curveStepAfter = function (e) {
        return new Re(e, 1);
      }),
      (e.curveStepBefore = function (e) {
        return new Re(e, 0);
      }),
      (e.stack = function () {
        var d = w([]),
          h = Fe,
          f = He,
          p = Be;
        function t(e) {
          var t,
            n,
            i = d.apply(this, arguments),
            r = e.length,
            o = i.length,
            a = new Array(o);
          for (t = 0; t < o; ++t) {
            for (var s, u = i[t], l = (a[t] = new Array(r)), c = 0; c < r; ++c)
              (l[c] = s = [0, +p(e[c], u, c, e)]), (s.data = e[c]);
            l.key = u;
          }
          for (t = 0, n = h(a); t < o; ++t) a[n[t]].index = t;
          return f(a, n), a;
        }
        return (
          (t.keys = function (e) {
            return arguments.length
              ? ((d = "function" == typeof e ? e : w(x.call(e))), t)
              : d;
          }),
          (t.value = function (e) {
            return arguments.length
              ? ((p = "function" == typeof e ? e : w(+e)), t)
              : p;
          }),
          (t.order = function (e) {
            return arguments.length
              ? ((h =
                  null == e ? Fe : "function" == typeof e ? e : w(x.call(e))),
                t)
              : h;
          }),
          (t.offset = function (e) {
            return arguments.length ? ((f = null == e ? He : e), t) : f;
          }),
          t
        );
      }),
      (e.stackOffsetExpand = function (e, t) {
        if (0 < (i = e.length)) {
          for (var n, i, r, o = 0, a = e[0].length; o < a; ++o) {
            for (r = n = 0; n < i; ++n) r += e[n][o][1] || 0;
            if (r) for (n = 0; n < i; ++n) e[n][o][1] /= r;
          }
          He(e, t);
        }
      }),
      (e.stackOffsetDiverging = function (e, t) {
        if (0 < (s = e.length))
          for (var n, i, r, o, a, s, u = 0, l = e[t[0]].length; u < l; ++u)
            for (o = a = 0, n = 0; n < s; ++n)
              0 <= (r = (i = e[t[n]][u])[1] - i[0])
                ? ((i[0] = o), (i[1] = o += r))
                : r < 0
                ? ((i[1] = a), (i[0] = a += r))
                : (i[0] = o);
      }),
      (e.stackOffsetNone = He),
      (e.stackOffsetSilhouette = function (e, t) {
        if (0 < (n = e.length)) {
          for (var n, i = 0, r = e[t[0]], o = r.length; i < o; ++i) {
            for (var a = 0, s = 0; a < n; ++a) s += e[a][i][1] || 0;
            r[i][1] += r[i][0] = -s / 2;
          }
          He(e, t);
        }
      }),
      (e.stackOffsetWiggle = function (e, t) {
        if (0 < (r = e.length) && 0 < (i = (n = e[t[0]]).length)) {
          for (var n, i, r, o = 0, a = 1; a < i; ++a) {
            for (var s = 0, u = 0, l = 0; s < r; ++s) {
              for (
                var c = e[t[s]],
                  d = c[a][1] || 0,
                  h = (d - (c[a - 1][1] || 0)) / 2,
                  f = 0;
                f < s;
                ++f
              ) {
                var p = e[t[f]];
                h += (p[a][1] || 0) - (p[a - 1][1] || 0);
              }
              (u += d), (l += h * d);
            }
            (n[a - 1][1] += n[a - 1][0] = o), u && (o -= l / u);
          }
          (n[a - 1][1] += n[a - 1][0] = o), He(e, t);
        }
      }),
      (e.stackOrderAppearance = Ve),
      (e.stackOrderAscending = We),
      (e.stackOrderDescending = function (e) {
        return We(e).reverse();
      }),
      (e.stackOrderInsideOut = function (e) {
        var t,
          n,
          i = e.length,
          r = e.map(Ue),
          o = Ve(e),
          a = 0,
          s = 0,
          u = [],
          l = [];
        for (t = 0; t < i; ++t)
          (n = o[t]),
            a < s ? ((a += r[n]), u.push(n)) : ((s += r[n]), l.push(n));
        return l.reverse().concat(u);
      }),
      (e.stackOrderNone = Fe),
      (e.stackOrderReverse = function (e) {
        return Fe(e).reverse();
      }),
      Object.defineProperty(e, "__esModule", { value: !0 });
  }),
  (function (e, t) {
    "object" == typeof exports && "undefined" != typeof module
      ? t(exports)
      : "function" == typeof define && define.amd
      ? define("d3-dispatch", ["exports"], t)
      : t((e.d3 = e.d3 || {}));
  })(this, function (e) {
    "use strict";
    var o = { value: function () {} };
    function t() {
      for (var e, t = 0, n = arguments.length, i = {}; t < n; ++t) {
        if (!(e = arguments[t] + "") || e in i)
          throw new Error("illegal type: " + e);
        i[e] = [];
      }
      return new r(i);
    }
    function r(e) {
      this._ = e;
    }
    function u(e, t) {
      for (var n, i = 0, r = e.length; i < r; ++i)
        if ((n = e[i]).name === t) return n.value;
    }
    function l(e, t, n) {
      for (var i = 0, r = e.length; i < r; ++i)
        if (e[i].name === t) {
          (e[i] = o), (e = e.slice(0, i).concat(e.slice(i + 1)));
          break;
        }
      return null != n && e.push({ name: t, value: n }), e;
    }
    (r.prototype = t.prototype =
      {
        constructor: r,
        on: function (e, t) {
          var n,
            i,
            r = this._,
            o =
              ((i = r),
              (e + "")
                .trim()
                .split(/^|\s+/)
                .map(function (e) {
                  var t = "",
                    n = e.indexOf(".");
                  if (
                    (0 <= n && ((t = e.slice(n + 1)), (e = e.slice(0, n))),
                    e && !i.hasOwnProperty(e))
                  )
                    throw new Error("unknown type: " + e);
                  return { type: e, name: t };
                })),
            a = -1,
            s = o.length;
          if (!(arguments.length < 2)) {
            if (null != t && "function" != typeof t)
              throw new Error("invalid callback: " + t);
            for (; ++a < s; )
              if ((n = (e = o[a]).type)) r[n] = l(r[n], e.name, t);
              else if (null == t) for (n in r) r[n] = l(r[n], e.name, null);
            return this;
          }
          for (; ++a < s; )
            if ((n = (e = o[a]).type) && (n = u(r[n], e.name))) return n;
        },
        copy: function () {
          var e = {},
            t = this._;
          for (var n in t) e[n] = t[n].slice();
          return new r(e);
        },
        call: function (e, t) {
          if (0 < (n = arguments.length - 2))
            for (var n, i, r = new Array(n), o = 0; o < n; ++o)
              r[o] = arguments[o + 2];
          if (!this._.hasOwnProperty(e)) throw new Error("unknown type: " + e);
          for (o = 0, n = (i = this._[e]).length; o < n; ++o)
            i[o].value.apply(t, r);
        },
        apply: function (e, t, n) {
          if (!this._.hasOwnProperty(e)) throw new Error("unknown type: " + e);
          for (var i = this._[e], r = 0, o = i.length; r < o; ++r)
            i[r].value.apply(t, n);
        },
      }),
      (e.dispatch = t),
      Object.defineProperty(e, "__esModule", { value: !0 });
  }),
  (function (e, t) {
    "object" == typeof exports && "undefined" != typeof module
      ? t(exports)
      : "function" == typeof define && define.amd
      ? define("d3-timer", ["exports"], t)
      : t((e.d3 = e.d3 || {}));
  })(this, function (e) {
    "use strict";
    var r,
      o,
      n = 0,
      t = 0,
      i = 0,
      a = 1e3,
      s = 0,
      u = 0,
      l = 0,
      c =
        "object" == typeof performance && performance.now ? performance : Date,
      d =
        "object" == typeof window && window.requestAnimationFrame
          ? window.requestAnimationFrame.bind(window)
          : function (e) {
              setTimeout(e, 17);
            };
    function h() {
      return u || (d(f), (u = c.now() + l));
    }
    function f() {
      u = 0;
    }
    function p() {
      this._call = this._time = this._next = null;
    }
    function g(e, t, n) {
      var i = new p();
      return i.restart(e, t, n), i;
    }
    function m() {
      h(), ++n;
      for (var e, t = r; t; )
        0 <= (e = u - t._time) && t._call.call(null, e), (t = t._next);
      --n;
    }
    function v() {
      (u = (s = c.now()) + l), (n = t = 0);
      try {
        m();
      } finally {
        (n = 0),
          (function () {
            var e,
              t,
              n = r,
              i = 1 / 0;
            for (; n; )
              n._call
                ? (i > n._time && (i = n._time), (n = (e = n)._next))
                : ((t = n._next),
                  (n._next = null),
                  (n = e ? (e._next = t) : (r = t)));
            (o = e), y(i);
          })(),
          (u = 0);
      }
    }
    function b() {
      var e = c.now(),
        t = e - s;
      a < t && ((l -= t), (s = e));
    }
    function y(e) {
      n ||
        (t && (t = clearTimeout(t)),
        24 < e - u
          ? (e < 1 / 0 && (t = setTimeout(v, e - c.now() - l)),
            i && (i = clearInterval(i)))
          : (i || ((s = c.now()), (i = setInterval(b, a))), (n = 1), d(v)));
    }
    (p.prototype = g.prototype =
      {
        constructor: p,
        restart: function (e, t, n) {
          if ("function" != typeof e)
            throw new TypeError("callback is not a function");
          (n = (null == n ? h() : +n) + (null == t ? 0 : +t)),
            this._next ||
              o === this ||
              (o ? (o._next = this) : (r = this), (o = this)),
            (this._call = e),
            (this._time = n),
            y();
        },
        stop: function () {
          this._call && ((this._call = null), (this._time = 1 / 0), y());
        },
      }),
      (e.now = h),
      (e.timer = g),
      (e.timerFlush = m),
      (e.timeout = function (t, n, e) {
        var i = new p();
        return (
          (n = null == n ? 0 : +n),
          i.restart(
            function (e) {
              i.stop(), t(e + n);
            },
            n,
            e
          ),
          i
        );
      }),
      (e.interval = function (n, i, r) {
        var o = new p(),
          a = i;
        return (
          null == i
            ? o.restart(n, i, r)
            : ((i = +i),
              (r = null == r ? h() : +r),
              o.restart(
                function e(t) {
                  (t += a), o.restart(e, (a += i), r), n(t);
                },
                i,
                r
              )),
          o
        );
      }),
      Object.defineProperty(e, "__esModule", { value: !0 });
  }),
  (function (e, t) {
    "object" == typeof exports && "undefined" != typeof module
      ? t(exports)
      : "function" == typeof define && define.amd
      ? define("d3-color", ["exports"], t)
      : t((e.d3 = e.d3 || {}));
  })(this, function (e) {
    "use strict";
    function t(e, t, n) {
      (e.prototype = t.prototype = n), (n.constructor = e);
    }
    function n(e, t) {
      var n = Object.create(e.prototype);
      for (var i in t) n[i] = t[i];
      return n;
    }
    function l() {}
    var i = "\\s*([+-]?\\d+)\\s*",
      r = "\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",
      o = "\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",
      a = /^#([0-9a-f]{3})$/,
      s = /^#([0-9a-f]{6})$/,
      u = new RegExp("^rgb\\(" + [i, i, i] + "\\)$"),
      c = new RegExp("^rgb\\(" + [o, o, o] + "\\)$"),
      d = new RegExp("^rgba\\(" + [i, i, i, r] + "\\)$"),
      h = new RegExp("^rgba\\(" + [o, o, o, r] + "\\)$"),
      f = new RegExp("^hsl\\(" + [r, o, o] + "\\)$"),
      p = new RegExp("^hsla\\(" + [r, o, o, r] + "\\)$"),
      g = {
        aliceblue: 15792383,
        antiquewhite: 16444375,
        aqua: 65535,
        aquamarine: 8388564,
        azure: 15794175,
        beige: 16119260,
        bisque: 16770244,
        black: 0,
        blanchedalmond: 16772045,
        blue: 255,
        blueviolet: 9055202,
        brown: 10824234,
        burlywood: 14596231,
        cadetblue: 6266528,
        chartreuse: 8388352,
        chocolate: 13789470,
        coral: 16744272,
        cornflowerblue: 6591981,
        cornsilk: 16775388,
        crimson: 14423100,
        cyan: 65535,
        darkblue: 139,
        darkcyan: 35723,
        darkgoldenrod: 12092939,
        darkgray: 11119017,
        darkgreen: 25600,
        darkgrey: 11119017,
        darkkhaki: 12433259,
        darkmagenta: 9109643,
        darkolivegreen: 5597999,
        darkorange: 16747520,
        darkorchid: 10040012,
        darkred: 9109504,
        darksalmon: 15308410,
        darkseagreen: 9419919,
        darkslateblue: 4734347,
        darkslategray: 3100495,
        darkslategrey: 3100495,
        darkturquoise: 52945,
        darkviolet: 9699539,
        deeppink: 16716947,
        deepskyblue: 49151,
        dimgray: 6908265,
        dimgrey: 6908265,
        dodgerblue: 2003199,
        firebrick: 11674146,
        floralwhite: 16775920,
        forestgreen: 2263842,
        fuchsia: 16711935,
        gainsboro: 14474460,
        ghostwhite: 16316671,
        gold: 16766720,
        goldenrod: 14329120,
        gray: 8421504,
        green: 32768,
        greenyellow: 11403055,
        grey: 8421504,
        honeydew: 15794160,
        hotpink: 16738740,
        indianred: 13458524,
        indigo: 4915330,
        ivory: 16777200,
        khaki: 15787660,
        lavender: 15132410,
        lavenderblush: 16773365,
        lawngreen: 8190976,
        lemonchiffon: 16775885,
        lightblue: 11393254,
        lightcoral: 15761536,
        lightcyan: 14745599,
        lightgoldenrodyellow: 16448210,
        lightgray: 13882323,
        lightgreen: 9498256,
        lightgrey: 13882323,
        lightpink: 16758465,
        lightsalmon: 16752762,
        lightseagreen: 2142890,
        lightskyblue: 8900346,
        lightslategray: 7833753,
        lightslategrey: 7833753,
        lightsteelblue: 11584734,
        lightyellow: 16777184,
        lime: 65280,
        limegreen: 3329330,
        linen: 16445670,
        magenta: 16711935,
        maroon: 8388608,
        mediumaquamarine: 6737322,
        mediumblue: 205,
        mediumorchid: 12211667,
        mediumpurple: 9662683,
        mediumseagreen: 3978097,
        mediumslateblue: 8087790,
        mediumspringgreen: 64154,
        mediumturquoise: 4772300,
        mediumvioletred: 13047173,
        midnightblue: 1644912,
        mintcream: 16121850,
        mistyrose: 16770273,
        moccasin: 16770229,
        navajowhite: 16768685,
        navy: 128,
        oldlace: 16643558,
        olive: 8421376,
        olivedrab: 7048739,
        orange: 16753920,
        orangered: 16729344,
        orchid: 14315734,
        palegoldenrod: 15657130,
        palegreen: 10025880,
        paleturquoise: 11529966,
        palevioletred: 14381203,
        papayawhip: 16773077,
        peachpuff: 16767673,
        peru: 13468991,
        pink: 16761035,
        plum: 14524637,
        powderblue: 11591910,
        purple: 8388736,
        rebeccapurple: 6697881,
        red: 16711680,
        rosybrown: 12357519,
        royalblue: 4286945,
        saddlebrown: 9127187,
        salmon: 16416882,
        sandybrown: 16032864,
        seagreen: 3050327,
        seashell: 16774638,
        sienna: 10506797,
        silver: 12632256,
        skyblue: 8900331,
        slateblue: 6970061,
        slategray: 7372944,
        slategrey: 7372944,
        snow: 16775930,
        springgreen: 65407,
        steelblue: 4620980,
        tan: 13808780,
        teal: 32896,
        thistle: 14204888,
        tomato: 16737095,
        turquoise: 4251856,
        violet: 15631086,
        wheat: 16113331,
        white: 16777215,
        whitesmoke: 16119285,
        yellow: 16776960,
        yellowgreen: 10145074,
      };
    function m(e) {
      var t;
      return (
        (e = (e + "").trim().toLowerCase()),
        (t = a.exec(e))
          ? new _(
              (((t = parseInt(t[1], 16)) >> 8) & 15) | ((t >> 4) & 240),
              ((t >> 4) & 15) | (240 & t),
              ((15 & t) << 4) | (15 & t),
              1
            )
          : (t = s.exec(e))
          ? v(parseInt(t[1], 16))
          : (t = u.exec(e))
          ? new _(t[1], t[2], t[3], 1)
          : (t = c.exec(e))
          ? new _((255 * t[1]) / 100, (255 * t[2]) / 100, (255 * t[3]) / 100, 1)
          : (t = d.exec(e))
          ? b(t[1], t[2], t[3], t[4])
          : (t = h.exec(e))
          ? b((255 * t[1]) / 100, (255 * t[2]) / 100, (255 * t[3]) / 100, t[4])
          : (t = f.exec(e))
          ? T(t[1], t[2] / 100, t[3] / 100, 1)
          : (t = p.exec(e))
          ? T(t[1], t[2] / 100, t[3] / 100, t[4])
          : g.hasOwnProperty(e)
          ? v(g[e])
          : "transparent" === e
          ? new _(NaN, NaN, NaN, 0)
          : null
      );
    }
    function v(e) {
      return new _((e >> 16) & 255, (e >> 8) & 255, 255 & e, 1);
    }
    function b(e, t, n, i) {
      return i <= 0 && (e = t = n = NaN), new _(e, t, n, i);
    }
    function y(e) {
      return (
        e instanceof l || (e = m(e)),
        e ? new _((e = e.rgb()).r, e.g, e.b, e.opacity) : new _()
      );
    }
    function w(e, t, n, i) {
      return 1 === arguments.length ? y(e) : new _(e, t, n, null == i ? 1 : i);
    }
    function _(e, t, n, i) {
      (this.r = +e), (this.g = +t), (this.b = +n), (this.opacity = +i);
    }
    function x(e) {
      return (
        ((e = Math.max(0, Math.min(255, Math.round(e) || 0))) < 16 ? "0" : "") +
        e.toString(16)
      );
    }
    function T(e, t, n, i) {
      return (
        i <= 0
          ? (e = t = n = NaN)
          : n <= 0 || 1 <= n
          ? (e = t = NaN)
          : t <= 0 && (e = NaN),
        new S(e, t, n, i)
      );
    }
    function C(e, t, n, i) {
      return 1 === arguments.length
        ? (function (e) {
            if (e instanceof S) return new S(e.h, e.s, e.l, e.opacity);
            if ((e instanceof l || (e = m(e)), !e)) return new S();
            if (e instanceof S) return e;
            var t = (e = e.rgb()).r / 255,
              n = e.g / 255,
              i = e.b / 255,
              r = Math.min(t, n, i),
              o = Math.max(t, n, i),
              a = NaN,
              s = o - r,
              u = (o + r) / 2;
            return (
              s
                ? ((a =
                    t === o
                      ? (n - i) / s + 6 * (n < i)
                      : n === o
                      ? (i - t) / s + 2
                      : (t - n) / s + 4),
                  (s /= u < 0.5 ? o + r : 2 - o - r),
                  (a *= 60))
                : (s = 0 < u && u < 1 ? 0 : a),
              new S(a, s, u, e.opacity)
            );
          })(e)
        : new S(e, t, n, null == i ? 1 : i);
    }
    function S(e, t, n, i) {
      (this.h = +e), (this.s = +t), (this.l = +n), (this.opacity = +i);
    }
    function E(e, t, n) {
      return (
        255 *
        (e < 60
          ? t + ((n - t) * e) / 60
          : e < 180
          ? n
          : e < 240
          ? t + ((n - t) * (240 - e)) / 60
          : t)
      );
    }
    t(l, m, {
      displayable: function () {
        return this.rgb().displayable();
      },
      hex: function () {
        return this.rgb().hex();
      },
      toString: function () {
        return this.rgb() + "";
      },
    }),
      t(
        _,
        w,
        n(l, {
          brighter: function (e) {
            return (
              (e = null == e ? 1 / 0.7 : Math.pow(1 / 0.7, e)),
              new _(this.r * e, this.g * e, this.b * e, this.opacity)
            );
          },
          darker: function (e) {
            return (
              (e = null == e ? 0.7 : Math.pow(0.7, e)),
              new _(this.r * e, this.g * e, this.b * e, this.opacity)
            );
          },
          rgb: function () {
            return this;
          },
          displayable: function () {
            return (
              0 <= this.r &&
              this.r <= 255 &&
              0 <= this.g &&
              this.g <= 255 &&
              0 <= this.b &&
              this.b <= 255 &&
              0 <= this.opacity &&
              this.opacity <= 1
            );
          },
          hex: function () {
            return "#" + x(this.r) + x(this.g) + x(this.b);
          },
          toString: function () {
            var e = this.opacity;
            return (
              (1 === (e = isNaN(e) ? 1 : Math.max(0, Math.min(1, e)))
                ? "rgb("
                : "rgba(") +
              Math.max(0, Math.min(255, Math.round(this.r) || 0)) +
              ", " +
              Math.max(0, Math.min(255, Math.round(this.g) || 0)) +
              ", " +
              Math.max(0, Math.min(255, Math.round(this.b) || 0)) +
              (1 === e ? ")" : ", " + e + ")")
            );
          },
        })
      ),
      t(
        S,
        C,
        n(l, {
          brighter: function (e) {
            return (
              (e = null == e ? 1 / 0.7 : Math.pow(1 / 0.7, e)),
              new S(this.h, this.s, this.l * e, this.opacity)
            );
          },
          darker: function (e) {
            return (
              (e = null == e ? 0.7 : Math.pow(0.7, e)),
              new S(this.h, this.s, this.l * e, this.opacity)
            );
          },
          rgb: function () {
            var e = (this.h % 360) + 360 * (this.h < 0),
              t = isNaN(e) || isNaN(this.s) ? 0 : this.s,
              n = this.l,
              i = n + (n < 0.5 ? n : 1 - n) * t,
              r = 2 * n - i;
            return new _(
              E(240 <= e ? e - 240 : e + 120, r, i),
              E(e, r, i),
              E(e < 120 ? e + 240 : e - 120, r, i),
              this.opacity
            );
          },
          displayable: function () {
            return (
              ((0 <= this.s && this.s <= 1) || isNaN(this.s)) &&
              0 <= this.l &&
              this.l <= 1 &&
              0 <= this.opacity &&
              this.opacity <= 1
            );
          },
        })
      );
    var D = Math.PI / 180,
      O = 180 / Math.PI,
      M = 0.96422,
      j = 1,
      P = 0.82521,
      I = 4 / 29,
      k = (6 / 29) * 3 * (6 / 29),
      A = (6 / 29) * (6 / 29) * (6 / 29);
    function N(e) {
      if (e instanceof R) return new R(e.l, e.a, e.b, e.opacity);
      if (e instanceof U) {
        if (isNaN(e.h)) return new R(e.l, 0, 0, e.opacity);
        var t = e.h * D;
        return new R(e.l, Math.cos(t) * e.c, Math.sin(t) * e.c, e.opacity);
      }
      e instanceof _ || (e = y(e));
      var n,
        i,
        r = V(e.r),
        o = V(e.g),
        a = V(e.b),
        s = H((0.2225045 * r + 0.7168786 * o + 0.0606169 * a) / j);
      return (
        r === o && o === a
          ? (n = i = s)
          : ((n = H((0.4360747 * r + 0.3850649 * o + 0.1430804 * a) / M)),
            (i = H((0.0139322 * r + 0.0971045 * o + 0.7141733 * a) / P))),
        new R(116 * s - 16, 500 * (n - s), 200 * (s - i), e.opacity)
      );
    }
    function L(e, t, n, i) {
      return 1 === arguments.length ? N(e) : new R(e, t, n, null == i ? 1 : i);
    }
    function R(e, t, n, i) {
      (this.l = +e), (this.a = +t), (this.b = +n), (this.opacity = +i);
    }
    function H(e) {
      return A < e ? Math.pow(e, 1 / 3) : e / k + I;
    }
    function F(e) {
      return 6 / 29 < e ? e * e * e : k * (e - I);
    }
    function B(e) {
      return (
        255 *
        (e <= 0.0031308 ? 12.92 * e : 1.055 * Math.pow(e, 1 / 2.4) - 0.055)
      );
    }
    function V(e) {
      return (e /= 255) <= 0.04045
        ? e / 12.92
        : Math.pow((e + 0.055) / 1.055, 2.4);
    }
    function q(e) {
      if (e instanceof U) return new U(e.h, e.c, e.l, e.opacity);
      if ((e instanceof R || (e = N(e)), 0 === e.a && 0 === e.b))
        return new U(NaN, 0, e.l, e.opacity);
      var t = Math.atan2(e.b, e.a) * O;
      return new U(
        t < 0 ? t + 360 : t,
        Math.sqrt(e.a * e.a + e.b * e.b),
        e.l,
        e.opacity
      );
    }
    function W(e, t, n, i) {
      return 1 === arguments.length ? q(e) : new U(e, t, n, null == i ? 1 : i);
    }
    function U(e, t, n, i) {
      (this.h = +e), (this.c = +t), (this.l = +n), (this.opacity = +i);
    }
    t(
      R,
      L,
      n(l, {
        brighter: function (e) {
          return new R(
            this.l + 18 * (null == e ? 1 : e),
            this.a,
            this.b,
            this.opacity
          );
        },
        darker: function (e) {
          return new R(
            this.l - 18 * (null == e ? 1 : e),
            this.a,
            this.b,
            this.opacity
          );
        },
        rgb: function () {
          var e = (this.l + 16) / 116,
            t = isNaN(this.a) ? e : e + this.a / 500,
            n = isNaN(this.b) ? e : e - this.b / 200;
          return new _(
            B(
              3.1338561 * (t = M * F(t)) -
                1.6168667 * (e = j * F(e)) -
                0.4906146 * (n = P * F(n))
            ),
            B(-0.9787684 * t + 1.9161415 * e + 0.033454 * n),
            B(0.0719453 * t - 0.2289914 * e + 1.4052427 * n),
            this.opacity
          );
        },
      })
    ),
      t(
        U,
        W,
        n(l, {
          brighter: function (e) {
            return new U(
              this.h,
              this.c,
              this.l + 18 * (null == e ? 1 : e),
              this.opacity
            );
          },
          darker: function (e) {
            return new U(
              this.h,
              this.c,
              this.l - 18 * (null == e ? 1 : e),
              this.opacity
            );
          },
          rgb: function () {
            return N(this).rgb();
          },
        })
      );
    var z = -0.29227,
      G = -0.90649,
      K = 1.97294,
      $ = K * G,
      X = 1.78277 * K,
      J = 1.78277 * z - -0.14861 * G;
    function Q(e, t, n, i) {
      return 1 === arguments.length
        ? (function (e) {
            if (e instanceof Y) return new Y(e.h, e.s, e.l, e.opacity);
            e instanceof _ || (e = y(e));
            var t = e.r / 255,
              n = e.g / 255,
              i = e.b / 255,
              r = (J * i + $ * t - X * n) / (J + $ - X),
              o = i - r,
              a = (K * (n - r) - z * o) / G,
              s = Math.sqrt(a * a + o * o) / (K * r * (1 - r)),
              u = s ? Math.atan2(a, o) * O - 120 : NaN;
            return new Y(u < 0 ? u + 360 : u, s, r, e.opacity);
          })(e)
        : new Y(e, t, n, null == i ? 1 : i);
    }
    function Y(e, t, n, i) {
      (this.h = +e), (this.s = +t), (this.l = +n), (this.opacity = +i);
    }
    t(
      Y,
      Q,
      n(l, {
        brighter: function (e) {
          return (
            (e = null == e ? 1 / 0.7 : Math.pow(1 / 0.7, e)),
            new Y(this.h, this.s, this.l * e, this.opacity)
          );
        },
        darker: function (e) {
          return (
            (e = null == e ? 0.7 : Math.pow(0.7, e)),
            new Y(this.h, this.s, this.l * e, this.opacity)
          );
        },
        rgb: function () {
          var e = isNaN(this.h) ? 0 : (this.h + 120) * D,
            t = +this.l,
            n = isNaN(this.s) ? 0 : this.s * t * (1 - t),
            i = Math.cos(e),
            r = Math.sin(e);
          return new _(
            255 * (t + n * (-0.14861 * i + 1.78277 * r)),
            255 * (t + n * (z * i + G * r)),
            255 * (t + n * (K * i)),
            this.opacity
          );
        },
      })
    ),
      (e.color = m),
      (e.rgb = w),
      (e.hsl = C),
      (e.lab = L),
      (e.hcl = W),
      (e.lch = function (e, t, n, i) {
        return 1 === arguments.length
          ? q(e)
          : new U(n, t, e, null == i ? 1 : i);
      }),
      (e.gray = function (e, t) {
        return new R(e, 0, 0, null == t ? 1 : t);
      }),
      (e.cubehelix = Q),
      Object.defineProperty(e, "__esModule", { value: !0 });
  }),
  (function (e, t) {
    "object" == typeof exports && "undefined" != typeof module
      ? t(exports, require("d3-color"))
      : "function" == typeof define && define.amd
      ? define("d3-interpolate", ["exports", "d3-color"], t)
      : t((e.d3 = e.d3 || {}), e.d3);
  })(this, function (e, u) {
    "use strict";
    function l(e, t, n, i, r) {
      var o = e * e,
        a = o * e;
      return (
        ((1 - 3 * e + 3 * o - a) * t +
          (4 - 6 * o + 3 * a) * n +
          (1 + 3 * e + 3 * o - 3 * a) * i +
          a * r) /
        6
      );
    }
    function t(a) {
      var s = a.length - 1;
      return function (e) {
        var t = e <= 0 ? (e = 0) : 1 <= e ? s - (e = 1) : Math.floor(e * s),
          n = a[t],
          i = a[t + 1],
          r = 0 < t ? a[t - 1] : 2 * n - i,
          o = t < s - 1 ? a[t + 2] : 2 * i - n;
        return l((e - t / s) * s, r, n, i, o);
      };
    }
    function n(a) {
      var s = a.length;
      return function (e) {
        var t = Math.floor(((e %= 1) < 0 ? ++e : e) * s),
          n = a[(t + s - 1) % s],
          i = a[t % s],
          r = a[(t + 1) % s],
          o = a[(t + 2) % s];
        return l((e - t / s) * s, n, i, r, o);
      };
    }
    function a(e) {
      return function () {
        return e;
      };
    }
    function i(t, n) {
      return function (e) {
        return t + e * n;
      };
    }
    function r(e, t) {
      var n = t - e;
      return n
        ? i(e, 180 < n || n < -180 ? n - 360 * Math.round(n / 360) : n)
        : a(isNaN(e) ? t : e);
    }
    function o(o) {
      return 1 == (o = +o)
        ? c
        : function (e, t) {
            return t - e
              ? ((n = e),
                (i = t),
                (r = o),
                (n = Math.pow(n, r)),
                (i = Math.pow(i, r) - n),
                (r = 1 / r),
                function (e) {
                  return Math.pow(n + e * i, r);
                })
              : a(isNaN(e) ? t : e);
            var n, i, r;
          };
    }
    function c(e, t) {
      var n = t - e;
      return n ? i(e, n) : a(isNaN(e) ? t : e);
    }
    var s = (function e(t) {
      var a = o(t);
      function n(t, e) {
        var n = a((t = u.rgb(t)).r, (e = u.rgb(e)).r),
          i = a(t.g, e.g),
          r = a(t.b, e.b),
          o = c(t.opacity, e.opacity);
        return function (e) {
          return (
            (t.r = n(e)), (t.g = i(e)), (t.b = r(e)), (t.opacity = o(e)), t + ""
          );
        };
      }
      return (n.gamma = e), n;
    })(1);
    function d(s) {
      return function (e) {
        var t,
          n,
          i = e.length,
          r = new Array(i),
          o = new Array(i),
          a = new Array(i);
        for (t = 0; t < i; ++t)
          (n = u.rgb(e[t])),
            (r[t] = n.r || 0),
            (o[t] = n.g || 0),
            (a[t] = n.b || 0);
        return (
          (r = s(r)),
          (o = s(o)),
          (a = s(a)),
          (n.opacity = 1),
          function (e) {
            return (n.r = r(e)), (n.g = o(e)), (n.b = a(e)), n + "";
          }
        );
      };
    }
    var h = d(t),
      f = d(n);
    function p(e, t) {
      var n,
        i = t ? t.length : 0,
        r = e ? Math.min(i, e.length) : 0,
        o = new Array(r),
        a = new Array(i);
      for (n = 0; n < r; ++n) o[n] = _(e[n], t[n]);
      for (; n < i; ++n) a[n] = t[n];
      return function (e) {
        for (n = 0; n < r; ++n) a[n] = o[n](e);
        return a;
      };
    }
    function g(t, n) {
      var i = new Date();
      return (
        (n -= t = +t),
        function (e) {
          return i.setTime(t + n * e), i;
        }
      );
    }
    function v(t, n) {
      return (
        (n -= t = +t),
        function (e) {
          return t + n * e;
        }
      );
    }
    function m(e, t) {
      var n,
        i = {},
        r = {};
      for (n in ((null !== e && "object" == typeof e) || (e = {}),
      (null !== t && "object" == typeof t) || (t = {}),
      t))
        n in e ? (i[n] = _(e[n], t[n])) : (r[n] = t[n]);
      return function (e) {
        for (n in i) r[n] = i[n](e);
        return r;
      };
    }
    var b = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,
      y = new RegExp(b.source, "g");
    function w(e, i) {
      var t,
        n,
        r,
        o,
        a,
        s = (b.lastIndex = y.lastIndex = 0),
        u = -1,
        l = [],
        c = [];
      for (e += "", i += ""; (t = b.exec(e)) && (n = y.exec(i)); )
        (r = n.index) > s &&
          ((r = i.slice(s, r)), l[u] ? (l[u] += r) : (l[++u] = r)),
          (t = t[0]) === (n = n[0])
            ? l[u]
              ? (l[u] += n)
              : (l[++u] = n)
            : ((l[++u] = null), c.push({ i: u, x: v(t, n) })),
          (s = y.lastIndex);
      return (
        s < i.length && ((r = i.slice(s)), l[u] ? (l[u] += r) : (l[++u] = r)),
        l.length < 2
          ? c[0]
            ? ((a = c[0].x),
              function (e) {
                return a(e) + "";
              })
            : ((o = i),
              function () {
                return o;
              })
          : ((i = c.length),
            function (e) {
              for (var t, n = 0; n < i; ++n) l[(t = c[n]).i] = t.x(e);
              return l.join("");
            })
      );
    }
    function _(e, t) {
      var n,
        i = typeof t;
      return null == t || "boolean" === i
        ? a(t)
        : ("number" === i
            ? v
            : "string" === i
            ? (n = u.color(t))
              ? ((t = n), s)
              : w
            : t instanceof u.color
            ? s
            : t instanceof Date
            ? g
            : Array.isArray(t)
            ? p
            : ("function" != typeof t.valueOf &&
                "function" != typeof t.toString) ||
              isNaN(t)
            ? m
            : v)(e, t);
    }
    var x,
      T,
      C,
      S,
      E = 180 / Math.PI,
      D = {
        translateX: 0,
        translateY: 0,
        rotate: 0,
        skewX: 0,
        scaleX: 1,
        scaleY: 1,
      };
    function O(e, t, n, i, r, o) {
      var a, s, u;
      return (
        (a = Math.sqrt(e * e + t * t)) && ((e /= a), (t /= a)),
        (u = e * n + t * i) && ((n -= e * u), (i -= t * u)),
        (s = Math.sqrt(n * n + i * i)) && ((n /= s), (i /= s), (u /= s)),
        e * i < t * n && ((e = -e), (t = -t), (u = -u), (a = -a)),
        {
          translateX: r,
          translateY: o,
          rotate: Math.atan2(t, e) * E,
          skewX: Math.atan(u) * E,
          scaleX: a,
          scaleY: s,
        }
      );
    }
    function M(h, f, p, g) {
      function m(e) {
        return e.length ? e.pop() + " " : "";
      }
      return function (e, t) {
        var n,
          i,
          r,
          o,
          a,
          s,
          u,
          l,
          c = [],
          d = [];
        return (
          (e = h(e)),
          (t = h(t)),
          (function (e, t, n, i, r, o) {
            if (e !== n || t !== i) {
              var a = r.push("translate(", null, f, null, p);
              o.push({ i: a - 4, x: v(e, n) }, { i: a - 2, x: v(t, i) });
            } else (n || i) && r.push("translate(" + n + f + i + p);
          })(e.translateX, e.translateY, t.translateX, t.translateY, c, d),
          (n = e.rotate),
          (i = t.rotate),
          (r = c),
          (o = d),
          n !== i
            ? (180 < n - i ? (i += 360) : 180 < i - n && (n += 360),
              o.push({ i: r.push(m(r) + "rotate(", null, g) - 2, x: v(n, i) }))
            : i && r.push(m(r) + "rotate(" + i + g),
          (a = e.skewX),
          (s = t.skewX),
          (u = c),
          (l = d),
          a !== s
            ? l.push({ i: u.push(m(u) + "skewX(", null, g) - 2, x: v(a, s) })
            : s && u.push(m(u) + "skewX(" + s + g),
          (function (e, t, n, i, r, o) {
            if (e !== n || t !== i) {
              var a = r.push(m(r) + "scale(", null, ",", null, ")");
              o.push({ i: a - 4, x: v(e, n) }, { i: a - 2, x: v(t, i) });
            } else
              (1 === n && 1 === i) ||
                r.push(m(r) + "scale(" + n + "," + i + ")");
          })(e.scaleX, e.scaleY, t.scaleX, t.scaleY, c, d),
          (e = t = null),
          function (e) {
            for (var t, n = -1, i = d.length; ++n < i; )
              c[(t = d[n]).i] = t.x(e);
            return c.join("");
          }
        );
      };
    }
    var j = M(
        function (e) {
          return "none" === e
            ? D
            : (x ||
                ((x = document.createElement("DIV")),
                (T = document.documentElement),
                (C = document.defaultView)),
              (x.style.transform = e),
              (e = C.getComputedStyle(T.appendChild(x), null).getPropertyValue(
                "transform"
              )),
              T.removeChild(x),
              O(
                +(e = e.slice(7, -1).split(","))[0],
                +e[1],
                +e[2],
                +e[3],
                +e[4],
                +e[5]
              ));
        },
        "px, ",
        "px)",
        "deg)"
      ),
      P = M(
        function (e) {
          return null == e
            ? D
            : (S ||
                (S = document.createElementNS(
                  "http://www.w3.org/2000/svg",
                  "g"
                )),
              S.setAttribute("transform", e),
              (e = S.transform.baseVal.consolidate())
                ? O((e = e.matrix).a, e.b, e.c, e.d, e.e, e.f)
                : D);
        },
        ", ",
        ")",
        ")"
      ),
      I = Math.SQRT2;
    function k(e) {
      return ((e = Math.exp(e)) + 1 / e) / 2;
    }
    function A(a) {
      return function (t, e) {
        var n = a((t = u.hsl(t)).h, (e = u.hsl(e)).h),
          i = c(t.s, e.s),
          r = c(t.l, e.l),
          o = c(t.opacity, e.opacity);
        return function (e) {
          return (
            (t.h = n(e)), (t.s = i(e)), (t.l = r(e)), (t.opacity = o(e)), t + ""
          );
        };
      };
    }
    var N = A(r),
      L = A(c);
    function R(a) {
      return function (t, e) {
        var n = a((t = u.hcl(t)).h, (e = u.hcl(e)).h),
          i = c(t.c, e.c),
          r = c(t.l, e.l),
          o = c(t.opacity, e.opacity);
        return function (e) {
          return (
            (t.h = n(e)), (t.c = i(e)), (t.l = r(e)), (t.opacity = o(e)), t + ""
          );
        };
      };
    }
    var H = R(r),
      F = R(c);
    function B(s) {
      return (function e(a) {
        function t(t, e) {
          var n = s((t = u.cubehelix(t)).h, (e = u.cubehelix(e)).h),
            i = c(t.s, e.s),
            r = c(t.l, e.l),
            o = c(t.opacity, e.opacity);
          return function (e) {
            return (
              (t.h = n(e)),
              (t.s = i(e)),
              (t.l = r(Math.pow(e, a))),
              (t.opacity = o(e)),
              t + ""
            );
          };
        }
        return (a = +a), (t.gamma = e), t;
      })(1);
    }
    var V = B(r),
      q = B(c);
    (e.interpolate = _),
      (e.interpolateArray = p),
      (e.interpolateBasis = t),
      (e.interpolateBasisClosed = n),
      (e.interpolateDate = g),
      (e.interpolateDiscrete = function (t) {
        var n = t.length;
        return function (e) {
          return t[Math.max(0, Math.min(n - 1, Math.floor(e * n)))];
        };
      }),
      (e.interpolateHue = function (e, t) {
        var n = r(+e, +t);
        return function (e) {
          var t = n(e);
          return t - 360 * Math.floor(t / 360);
        };
      }),
      (e.interpolateNumber = v),
      (e.interpolateObject = m),
      (e.interpolateRound = function (t, n) {
        return (
          (n -= t = +t),
          function (e) {
            return Math.round(t + n * e);
          }
        );
      }),
      (e.interpolateString = w),
      (e.interpolateTransformCss = j),
      (e.interpolateTransformSvg = P),
      (e.interpolateZoom = function (e, t) {
        var n,
          a,
          s = e[0],
          u = e[1],
          l = e[2],
          i = t[0],
          r = t[1],
          o = t[2],
          c = i - s,
          d = r - u,
          h = c * c + d * d;
        if (h < 1e-12)
          (a = Math.log(o / l) / I),
            (n = function (e) {
              return [s + e * c, u + e * d, l * Math.exp(I * e * a)];
            });
        else {
          var f = Math.sqrt(h),
            p = (o * o - l * l + 4 * h) / (2 * l * 2 * f),
            g = (o * o - l * l - 4 * h) / (2 * o * 2 * f),
            m = Math.log(Math.sqrt(p * p + 1) - p),
            v = Math.log(Math.sqrt(g * g + 1) - g);
          (a = (v - m) / I),
            (n = function (e) {
              var t,
                n,
                i = e * a,
                r = k(m),
                o =
                  (l / (2 * f)) *
                  (r *
                    ((n = I * i + m), ((n = Math.exp(2 * n)) - 1) / (n + 1)) -
                    ((t = m), ((t = Math.exp(t)) - 1 / t) / 2));
              return [s + o * c, u + o * d, (l * r) / k(I * i + m)];
            });
        }
        return (n.duration = 1e3 * a), n;
      }),
      (e.interpolateRgb = s),
      (e.interpolateRgbBasis = h),
      (e.interpolateRgbBasisClosed = f),
      (e.interpolateHsl = N),
      (e.interpolateHslLong = L),
      (e.interpolateLab = function (t, e) {
        var n = c((t = u.lab(t)).l, (e = u.lab(e)).l),
          i = c(t.a, e.a),
          r = c(t.b, e.b),
          o = c(t.opacity, e.opacity);
        return function (e) {
          return (
            (t.l = n(e)), (t.a = i(e)), (t.b = r(e)), (t.opacity = o(e)), t + ""
          );
        };
      }),
      (e.interpolateHcl = H),
      (e.interpolateHclLong = F),
      (e.interpolateCubehelix = V),
      (e.interpolateCubehelixLong = q),
      (e.piecewise = function (e, t) {
        for (
          var n = 0, i = t.length - 1, r = t[0], o = new Array(i < 0 ? 0 : i);
          n < i;

        )
          o[n] = e(r, (r = t[++n]));
        return function (e) {
          var t = Math.max(0, Math.min(i - 1, Math.floor((e *= i))));
          return o[t](e - t);
        };
      }),
      (e.quantize = function (e, t) {
        for (var n = new Array(t), i = 0; i < t; ++i) n[i] = e(i / (t - 1));
        return n;
      }),
      Object.defineProperty(e, "__esModule", { value: !0 });
  }),
  (function (e, t) {
    "object" == typeof exports && "undefined" != typeof module
      ? t(exports)
      : "function" == typeof define && define.amd
      ? define("d3-ease", ["exports"], t)
      : t((e.d3 = e.d3 || {}));
  })(this, function (e) {
    "use strict";
    function t(e) {
      return ((e *= 2) <= 1 ? e * e : --e * (2 - e) + 1) / 2;
    }
    function n(e) {
      return ((e *= 2) <= 1 ? e * e * e : (e -= 2) * e * e + 2) / 2;
    }
    var i = (function e(t) {
        function n(e) {
          return Math.pow(e, t);
        }
        return (t = +t), (n.exponent = e), n;
      })(3),
      r = (function e(t) {
        function n(e) {
          return 1 - Math.pow(1 - e, t);
        }
        return (t = +t), (n.exponent = e), n;
      })(3),
      o = (function e(t) {
        function n(e) {
          return ((e *= 2) <= 1 ? Math.pow(e, t) : 2 - Math.pow(2 - e, t)) / 2;
        }
        return (t = +t), (n.exponent = e), n;
      })(3),
      a = Math.PI,
      s = a / 2;
    function u(e) {
      return (1 - Math.cos(a * e)) / 2;
    }
    function l(e) {
      return (
        ((e *= 2) <= 1
          ? Math.pow(2, 10 * e - 10)
          : 2 - Math.pow(2, 10 - 10 * e)) / 2
      );
    }
    function c(e) {
      return (
        ((e *= 2) <= 1
          ? 1 - Math.sqrt(1 - e * e)
          : Math.sqrt(1 - (e -= 2) * e) + 1) / 2
      );
    }
    var d = 4 / 11,
      h = 6 / 11,
      f = 8 / 11,
      p = 0.75,
      g = 9 / 11,
      m = 10 / 11,
      v = 0.9375,
      b = 21 / 22,
      y = 63 / 64,
      w = 1 / d / d;
    function _(e) {
      return (e = +e) < d
        ? w * e * e
        : e < f
        ? w * (e -= h) * e + p
        : e < m
        ? w * (e -= g) * e + v
        : w * (e -= b) * e + y;
    }
    var x = (function e(t) {
        function n(e) {
          return e * e * ((t + 1) * e - t);
        }
        return (t = +t), (n.overshoot = e), n;
      })(1.70158),
      T = (function e(t) {
        function n(e) {
          return --e * e * ((t + 1) * e + t) + 1;
        }
        return (t = +t), (n.overshoot = e), n;
      })(1.70158),
      C = (function e(t) {
        function n(e) {
          return (
            ((e *= 2) < 1
              ? e * e * ((t + 1) * e - t)
              : (e -= 2) * e * ((t + 1) * e + t) + 2) / 2
          );
        }
        return (t = +t), (n.overshoot = e), n;
      })(1.70158),
      S = 2 * Math.PI,
      E = (function t(n, i) {
        var r = Math.asin(1 / (n = Math.max(1, n))) * (i /= S);
        function e(e) {
          return n * Math.pow(2, 10 * --e) * Math.sin((r - e) / i);
        }
        return (
          (e.amplitude = function (e) {
            return t(e, i * S);
          }),
          (e.period = function (e) {
            return t(n, e);
          }),
          e
        );
      })(1, 0.3),
      D = (function t(n, i) {
        var r = Math.asin(1 / (n = Math.max(1, n))) * (i /= S);
        function e(e) {
          return 1 - n * Math.pow(2, -10 * (e = +e)) * Math.sin((e + r) / i);
        }
        return (
          (e.amplitude = function (e) {
            return t(e, i * S);
          }),
          (e.period = function (e) {
            return t(n, e);
          }),
          e
        );
      })(1, 0.3),
      O = (function t(n, i) {
        var r = Math.asin(1 / (n = Math.max(1, n))) * (i /= S);
        function e(e) {
          return (
            ((e = 2 * e - 1) < 0
              ? n * Math.pow(2, 10 * e) * Math.sin((r - e) / i)
              : 2 - n * Math.pow(2, -10 * e) * Math.sin((r + e) / i)) / 2
          );
        }
        return (
          (e.amplitude = function (e) {
            return t(e, i * S);
          }),
          (e.period = function (e) {
            return t(n, e);
          }),
          e
        );
      })(1, 0.3);
    (e.easeLinear = function (e) {
      return +e;
    }),
      (e.easeQuad = t),
      (e.easeQuadIn = function (e) {
        return e * e;
      }),
      (e.easeQuadOut = function (e) {
        return e * (2 - e);
      }),
      (e.easeQuadInOut = t),
      (e.easeCubic = n),
      (e.easeCubicIn = function (e) {
        return e * e * e;
      }),
      (e.easeCubicOut = function (e) {
        return --e * e * e + 1;
      }),
      (e.easeCubicInOut = n),
      (e.easePoly = o),
      (e.easePolyIn = i),
      (e.easePolyOut = r),
      (e.easePolyInOut = o),
      (e.easeSin = u),
      (e.easeSinIn = function (e) {
        return 1 - Math.cos(e * s);
      }),
      (e.easeSinOut = function (e) {
        return Math.sin(e * s);
      }),
      (e.easeSinInOut = u),
      (e.easeExp = l),
      (e.easeExpIn = function (e) {
        return Math.pow(2, 10 * e - 10);
      }),
      (e.easeExpOut = function (e) {
        return 1 - Math.pow(2, -10 * e);
      }),
      (e.easeExpInOut = l),
      (e.easeCircle = c),
      (e.easeCircleIn = function (e) {
        return 1 - Math.sqrt(1 - e * e);
      }),
      (e.easeCircleOut = function (e) {
        return Math.sqrt(1 - --e * e);
      }),
      (e.easeCircleInOut = c),
      (e.easeBounce = _),
      (e.easeBounceIn = function (e) {
        return 1 - _(1 - e);
      }),
      (e.easeBounceOut = _),
      (e.easeBounceInOut = function (e) {
        return ((e *= 2) <= 1 ? 1 - _(1 - e) : _(e - 1) + 1) / 2;
      }),
      (e.easeBack = C),
      (e.easeBackIn = x),
      (e.easeBackOut = T),
      (e.easeBackInOut = C),
      (e.easeElastic = D),
      (e.easeElasticIn = E),
      (e.easeElasticOut = D),
      (e.easeElasticInOut = O),
      Object.defineProperty(e, "__esModule", { value: !0 });
  }),
  (function (e, t) {
    "object" == typeof exports && "undefined" != typeof module
      ? t(
          exports,
          require("d3-dispatch"),
          require("d3-timer"),
          require("d3-color"),
          require("d3-interpolate"),
          require("d3-selection"),
          require("d3-ease")
        )
      : "function" == typeof define && define.amd
      ? define(
          "d3-transition",
          [
            "exports",
            "d3-dispatch",
            "d3-timer",
            "d3-color",
            "d3-interpolate",
            "d3-selection",
            "d3-ease",
          ],
          t
        )
      : t((e.d3 = e.d3 || {}), e.d3, e.d3, e.d3, e.d3, e.d3, e.d3);
  })(this, function (e, t, f, i, M, j, n) {
    "use strict";
    var s = t.dispatch("start", "end", "cancel", "interrupt"),
      u = [],
      l = 0,
      p = 1,
      g = 2,
      m = 3,
      v = 4,
      b = 5,
      y = 6;
    function w(e, t, n, i, r, o) {
      var a = e.__transition;
      if (a) {
        if (n in a) return;
      } else e.__transition = {};
      !(function (o, a, s) {
        var u,
          l = o.__transition;
        function c(e) {
          var t, n, i, r;
          if (s.state !== p) return h();
          for (t in l)
            if ((r = l[t]).name === s.name) {
              if (r.state === m) return f.timeout(c);
              r.state === v
                ? ((r.state = y),
                  r.timer.stop(),
                  r.on.call("interrupt", o, o.__data__, r.index, r.group),
                  delete l[t])
                : +t < a &&
                  ((r.state = y),
                  r.timer.stop(),
                  r.on.call("cancel", o, o.__data__, r.index, r.group),
                  delete l[t]);
            }
          if (
            (f.timeout(function () {
              s.state === m &&
                ((s.state = v), s.timer.restart(d, s.delay, s.time), d(e));
            }),
            (s.state = g),
            s.on.call("start", o, o.__data__, s.index, s.group),
            s.state === g)
          ) {
            for (
              s.state = m, u = new Array((i = s.tween.length)), t = 0, n = -1;
              t < i;
              ++t
            )
              (r = s.tween[t].value.call(o, o.__data__, s.index, s.group)) &&
                (u[++n] = r);
            u.length = n + 1;
          }
        }
        function d(e) {
          for (
            var t =
                e < s.duration
                  ? s.ease.call(null, e / s.duration)
                  : (s.timer.restart(h), (s.state = b), 1),
              n = -1,
              i = u.length;
            ++n < i;

          )
            u[n].call(o, t);
          s.state === b &&
            (s.on.call("end", o, o.__data__, s.index, s.group), h());
        }
        function h() {
          for (var e in ((s.state = y), s.timer.stop(), delete l[a], l)) return;
          delete o.__transition;
        }
        (l[a] = s).timer = f.timer(
          function (e) {
            (s.state = p),
              s.timer.restart(c, s.delay, s.time),
              s.delay <= e && c(e - s.delay);
          },
          0,
          s.time
        );
      })(e, n, {
        name: t,
        index: i,
        group: r,
        on: s,
        tween: u,
        time: o.time,
        delay: o.delay,
        duration: o.duration,
        ease: o.ease,
        timer: null,
        state: l,
      });
    }
    function c(e, t) {
      var n = _(e, t);
      if (n.state > l) throw new Error("too late; already scheduled");
      return n;
    }
    function P(e, t) {
      var n = _(e, t);
      if (n.state > m) throw new Error("too late; already running");
      return n;
    }
    function _(e, t) {
      var n = e.__transition;
      if (!n || !(n = n[t])) throw new Error("transition not found");
      return n;
    }
    function r(e, t) {
      var n,
        i,
        r,
        o = e.__transition,
        a = !0;
      if (o) {
        for (r in ((t = null == t ? null : t + ""), o))
          (n = o[r]).name === t
            ? ((i = n.state > g && n.state < b),
              (n.state = y),
              n.timer.stop(),
              n.on.call(
                i ? "interrupt" : "cancel",
                e,
                e.__data__,
                n.index,
                n.group
              ),
              delete o[r])
            : (a = !1);
        a && delete e.__transition;
      }
    }
    function I(e, t, n) {
      var i = e._id;
      return (
        e.each(function () {
          var e = P(this, i);
          (e.value || (e.value = {}))[t] = n.apply(this, arguments);
        }),
        function (e) {
          return _(e, i).value[t];
        }
      );
    }
    function k(e, t) {
      var n;
      return (
        "number" == typeof t
          ? M.interpolateNumber
          : t instanceof i.color
          ? M.interpolateRgb
          : (n = i.color(t))
          ? ((t = n), M.interpolateRgb)
          : M.interpolateString
      )(e, t);
    }
    var o = j.selection.prototype.constructor;
    function A(e) {
      return function () {
        this.style.removeProperty(e);
      };
    }
    var a = 0;
    function x(e, t, n, i) {
      (this._groups = e), (this._parents = t), (this._name = n), (this._id = i);
    }
    function d(e) {
      return j.selection().transition(e);
    }
    function h() {
      return ++a;
    }
    var T = j.selection.prototype;
    x.prototype = d.prototype = {
      constructor: x,
      select: function (e) {
        var t = this._name,
          n = this._id;
        "function" != typeof e && (e = j.selector(e));
        for (
          var i = this._groups, r = i.length, o = new Array(r), a = 0;
          a < r;
          ++a
        )
          for (
            var s, u, l = i[a], c = l.length, d = (o[a] = new Array(c)), h = 0;
            h < c;
            ++h
          )
            (s = l[h]) &&
              (u = e.call(s, s.__data__, h, l)) &&
              ("__data__" in s && (u.__data__ = s.__data__),
              (d[h] = u),
              w(d[h], t, n, h, d, _(s, n)));
        return new x(o, this._parents, t, n);
      },
      selectAll: function (e) {
        var t = this._name,
          n = this._id;
        "function" != typeof e && (e = j.selectorAll(e));
        for (
          var i = this._groups, r = i.length, o = [], a = [], s = 0;
          s < r;
          ++s
        )
          for (var u, l = i[s], c = l.length, d = 0; d < c; ++d)
            if ((u = l[d])) {
              for (
                var h,
                  f = e.call(u, u.__data__, d, l),
                  p = _(u, n),
                  g = 0,
                  m = f.length;
                g < m;
                ++g
              )
                (h = f[g]) && w(h, t, n, g, f, p);
              o.push(f), a.push(u);
            }
        return new x(o, a, t, n);
      },
      filter: function (e) {
        "function" != typeof e && (e = j.matcher(e));
        for (
          var t = this._groups, n = t.length, i = new Array(n), r = 0;
          r < n;
          ++r
        )
          for (
            var o, a = t[r], s = a.length, u = (i[r] = []), l = 0;
            l < s;
            ++l
          )
            (o = a[l]) && e.call(o, o.__data__, l, a) && u.push(o);
        return new x(i, this._parents, this._name, this._id);
      },
      merge: function (e) {
        if (e._id !== this._id) throw new Error();
        for (
          var t = this._groups,
            n = e._groups,
            i = t.length,
            r = n.length,
            o = Math.min(i, r),
            a = new Array(i),
            s = 0;
          s < o;
          ++s
        )
          for (
            var u,
              l = t[s],
              c = n[s],
              d = l.length,
              h = (a[s] = new Array(d)),
              f = 0;
            f < d;
            ++f
          )
            (u = l[f] || c[f]) && (h[f] = u);
        for (; s < i; ++s) a[s] = t[s];
        return new x(a, this._parents, this._name, this._id);
      },
      selection: function () {
        return new o(this._groups, this._parents);
      },
      transition: function () {
        for (
          var e = this._name,
            t = this._id,
            n = h(),
            i = this._groups,
            r = i.length,
            o = 0;
          o < r;
          ++o
        )
          for (var a, s = i[o], u = s.length, l = 0; l < u; ++l)
            if ((a = s[l])) {
              var c = _(a, t);
              w(a, e, n, l, s, {
                time: c.time + c.delay + c.duration,
                delay: 0,
                duration: c.duration,
                ease: c.ease,
              });
            }
        return new x(i, this._parents, e, n);
      },
      call: T.call,
      nodes: T.nodes,
      node: T.node,
      size: T.size,
      empty: T.empty,
      each: T.each,
      on: function (e, t) {
        var n,
          i,
          r,
          o,
          a,
          s,
          u = this._id;
        return arguments.length < 2
          ? _(this.node(), u).on.on(e)
          : this.each(
              ((n = u),
              (r = t),
              (s = ((i = e) + "")
                .trim()
                .split(/^|\s+/)
                .every(function (e) {
                  var t = e.indexOf(".");
                  return 0 <= t && (e = e.slice(0, t)), !e || "start" === e;
                })
                ? c
                : P),
              function () {
                var e = s(this, n),
                  t = e.on;
                t !== o && (a = (o = t).copy()).on(i, r), (e.on = a);
              })
            );
      },
      attr: function (e, t) {
        var n = j.namespace(e),
          i = "transform" === n ? M.interpolateTransformSvg : k;
        return this.attrTween(
          e,
          "function" == typeof t
            ? (n.local
                ? function (i, r, o) {
                    var a, s, u;
                    return function () {
                      var e,
                        t,
                        n = o(this);
                      if (null != n)
                        return (e = this.getAttributeNS(i.space, i.local)) ===
                          (t = n + "")
                          ? null
                          : e === a && t === s
                          ? u
                          : ((s = t), (u = r((a = e), n)));
                      this.removeAttributeNS(i.space, i.local);
                    };
                  }
                : function (i, r, o) {
                    var a, s, u;
                    return function () {
                      var e,
                        t,
                        n = o(this);
                      if (null != n)
                        return (e = this.getAttribute(i)) === (t = n + "")
                          ? null
                          : e === a && t === s
                          ? u
                          : ((s = t), (u = r((a = e), n)));
                      this.removeAttribute(i);
                    };
                  })(n, i, I(this, "attr." + e, t))
            : null == t
            ? (n.local
                ? function (e) {
                    return function () {
                      this.removeAttributeNS(e.space, e.local);
                    };
                  }
                : function (e) {
                    return function () {
                      this.removeAttribute(e);
                    };
                  })(n)
            : (n.local
                ? function (t, n, i) {
                    var r,
                      o,
                      a = i + "";
                    return function () {
                      var e = this.getAttributeNS(t.space, t.local);
                      return e === a ? null : e === r ? o : (o = n((r = e), i));
                    };
                  }
                : function (t, n, i) {
                    var r,
                      o,
                      a = i + "";
                    return function () {
                      var e = this.getAttribute(t);
                      return e === a ? null : e === r ? o : (o = n((r = e), i));
                    };
                  })(n, i, t)
        );
      },
      attrTween: function (e, t) {
        var n = "attr." + e;
        if (arguments.length < 2) return (n = this.tween(n)) && n._value;
        if (null == t) return this.tween(n, null);
        if ("function" != typeof t) throw new Error();
        var i = j.namespace(e);
        return this.tween(
          n,
          (i.local
            ? function (i, r) {
                var o, a;
                function e() {
                  var t,
                    n,
                    e = r.apply(this, arguments);
                  return (
                    e !== a &&
                      (o =
                        (a = e) &&
                        ((t = i),
                        (n = e),
                        function (e) {
                          this.setAttributeNS(t.space, t.local, n(e));
                        })),
                    o
                  );
                }
                return (e._value = r), e;
              }
            : function (i, r) {
                var o, a;
                function e() {
                  var t,
                    n,
                    e = r.apply(this, arguments);
                  return (
                    e !== a &&
                      (o =
                        (a = e) &&
                        ((t = i),
                        (n = e),
                        function (e) {
                          this.setAttribute(t, n(e));
                        })),
                    o
                  );
                }
                return (e._value = r), e;
              })(i, t)
        );
      },
      style: function (e, t, n) {
        var i,
          r,
          o,
          a,
          s,
          u,
          l,
          c,
          d,
          h,
          f,
          p,
          g,
          m,
          v,
          b,
          y,
          w,
          _,
          x,
          T,
          C,
          S,
          E,
          D,
          O = "transform" == (e += "") ? M.interpolateTransformCss : k;
        return null == t
          ? this.styleTween(
              e,
              ((T = e),
              (C = O),
              function () {
                var e = j.style(this, T),
                  t = (this.style.removeProperty(T), j.style(this, T));
                return e === t
                  ? null
                  : e === S && t === E
                  ? D
                  : (D = C((S = e), (E = t)));
              })
            ).on("end.style." + e, A(e))
          : "function" == typeof t
          ? this.styleTween(
              e,
              ((v = e),
              (b = O),
              (y = I(this, "style." + e, t)),
              function () {
                var e = j.style(this, v),
                  t = y(this),
                  n = t + "";
                return (
                  null == t &&
                    (this.style.removeProperty(v), (n = t = j.style(this, v))),
                  e === n
                    ? null
                    : e === w && n === _
                    ? x
                    : ((_ = n), (x = b((w = e), t)))
                );
              })
            ).each(
              ((l = this._id),
              (m = "end." + (g = "style." + (c = e))),
              function () {
                var e = P(this, l),
                  t = e.on,
                  n = null == e.value[g] ? p || (p = A(c)) : void 0;
                (t === d && f === n) || (h = (d = t).copy()).on(m, (f = n)),
                  (e.on = h);
              })
            )
          : this.styleTween(
              e,
              ((i = e),
              (r = O),
              (o = t),
              (u = o + ""),
              function () {
                var e = j.style(this, i);
                return e === u ? null : e === a ? s : (s = r((a = e), o));
              }),
              n
            ).on("end.style." + e, null);
      },
      styleTween: function (e, t, n) {
        var i = "style." + (e += "");
        if (arguments.length < 2) return (i = this.tween(i)) && i._value;
        if (null == t) return this.tween(i, null);
        if ("function" != typeof t) throw new Error();
        return this.tween(
          i,
          (function (r, o, a) {
            var s, u;
            function e() {
              var t,
                n,
                i,
                e = o.apply(this, arguments);
              return (
                e !== u &&
                  (s =
                    (u = e) &&
                    ((t = r),
                    (n = e),
                    (i = a),
                    function (e) {
                      this.style.setProperty(t, n(e), i);
                    })),
                s
              );
            }
            return (e._value = o), e;
          })(e, t, null == n ? "" : n)
        );
      },
      text: function (e) {
        return this.tween(
          "text",
          "function" == typeof e
            ? ((n = I(this, "text", e)),
              function () {
                var e = n(this);
                this.textContent = null == e ? "" : e;
              })
            : ((t = null == e ? "" : e + ""),
              function () {
                this.textContent = t;
              })
        );
        var t, n;
      },
      remove: function () {
        return this.on(
          "end.remove",
          ((n = this._id),
          function () {
            var e = this.parentNode;
            for (var t in this.__transition) if (+t !== n) return;
            e && e.removeChild(this);
          })
        );
        var n;
      },
      tween: function (e, t) {
        var n = this._id;
        if (((e += ""), arguments.length < 2)) {
          for (
            var i, r = _(this.node(), n).tween, o = 0, a = r.length;
            o < a;
            ++o
          )
            if ((i = r[o]).name === e) return i.value;
          return null;
        }
        return this.each(
          (null == t
            ? function (r, o) {
                var a, s;
                return function () {
                  var e = P(this, r),
                    t = e.tween;
                  if (t !== a)
                    for (var n = 0, i = (s = a = t).length; n < i; ++n)
                      if (s[n].name === o) {
                        (s = s.slice()).splice(n, 1);
                        break;
                      }
                  e.tween = s;
                };
              }
            : function (o, a, s) {
                var u, l;
                if ("function" != typeof s) throw new Error();
                return function () {
                  var e = P(this, o),
                    t = e.tween;
                  if (t !== u) {
                    l = (u = t).slice();
                    for (
                      var n = { name: a, value: s }, i = 0, r = l.length;
                      i < r;
                      ++i
                    )
                      if (l[i].name === a) {
                        l[i] = n;
                        break;
                      }
                    i === r && l.push(n);
                  }
                  e.tween = l;
                };
              })(n, e, t)
        );
      },
      delay: function (e) {
        var t = this._id;
        return arguments.length
          ? this.each(
              ("function" == typeof e
                ? function (e, t) {
                    return function () {
                      c(this, e).delay = +t.apply(this, arguments);
                    };
                  }
                : function (e, t) {
                    return (
                      (t = +t),
                      function () {
                        c(this, e).delay = t;
                      }
                    );
                  })(t, e)
            )
          : _(this.node(), t).delay;
      },
      duration: function (e) {
        var t = this._id;
        return arguments.length
          ? this.each(
              ("function" == typeof e
                ? function (e, t) {
                    return function () {
                      P(this, e).duration = +t.apply(this, arguments);
                    };
                  }
                : function (e, t) {
                    return (
                      (t = +t),
                      function () {
                        P(this, e).duration = t;
                      }
                    );
                  })(t, e)
            )
          : _(this.node(), t).duration;
      },
      ease: function (e) {
        var t = this._id;
        return arguments.length
          ? this.each(
              (function (e, t) {
                if ("function" != typeof t) throw new Error();
                return function () {
                  P(this, e).ease = t;
                };
              })(t, e)
            )
          : _(this.node(), t).ease;
      },
      end: function () {
        var r,
          o,
          a = this,
          s = a._id,
          u = a.size();
        return new Promise(function (e, t) {
          var n = { value: t },
            i = {
              value: function () {
                0 == --u && e();
              },
            };
          a.each(function () {
            var e = P(this, s),
              t = e.on;
            t !== r &&
              ((o = (r = t).copy())._.cancel.push(n),
              o._.interrupt.push(n),
              o._.end.push(i)),
              (e.on = o);
          });
        });
      },
    };
    var C = { time: null, delay: 0, duration: 250, ease: n.easeCubicInOut };
    function S(e, t) {
      for (var n; !(n = e.__transition) || !(n = n[t]); )
        if (!(e = e.parentNode)) return (C.time = f.now()), C;
      return n;
    }
    (j.selection.prototype.interrupt = function (e) {
      return this.each(function () {
        r(this, e);
      });
    }),
      (j.selection.prototype.transition = function (e) {
        var t, n;
        e instanceof x
          ? ((t = e._id), (e = e._name))
          : ((t = h()),
            ((n = C).time = f.now()),
            (e = null == e ? null : e + ""));
        for (var i = this._groups, r = i.length, o = 0; o < r; ++o)
          for (var a, s = i[o], u = s.length, l = 0; l < u; ++l)
            (a = s[l]) && w(a, e, t, l, s, n || S(a, t));
        return new x(i, this._parents, e, t);
      });
    var E = [null];
    (e.transition = d),
      (e.active = function (e, t) {
        var n,
          i,
          r = e.__transition;
        if (r)
          for (i in ((t = null == t ? null : t + ""), r))
            if ((n = r[i]).state > p && n.name === t)
              return new x([[e]], E, t, +i);
        return null;
      }),
      (e.interrupt = r),
      Object.defineProperty(e, "__esModule", { value: !0 });
  }),
  define(
    "HMIWeb/Source/DisplayElements/Gauges/DialGauge",
    [
      "require",
      "exports",
      "d3-selection",
      "d3-shape",
      "d3-shape",
      "d3-transition",
    ],
    function (e, t, i, s, o, u) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function e(e, t, n, i, r, o) {
          (this.logger = e),
            (this.localisationCache = t),
            (this.gaugeUtils = i),
            (this.hostElement = r),
            (this.gaugeDegrees = o),
            (this.hostElement = r),
            (this.currentValueRotation = null),
            (this.currentTargetRotation = null),
            (this.gaugeConfiguration = this.readAndCheckGaugeConfiguration(
              this.hostElement,
              n,
              this.gaugeUtils
            )),
            (this.santizationError = this.gaugeConfiguration.sanitizationError);
          var a = this.createSvg();
          this.createBorder(a),
            this.createFill(a),
            (this.thresholdLow = this.createThresholdBandLow(a)),
            (this.thresholdHigh = this.createThresholdBandHigh(a)),
            (this.thresholdLowLow = this.createThresholdBandLowLow(a)),
            (this.thresholdHighHigh = this.createThresholdBandHighHigh(a)),
            this.createLabel(a),
            this.createTickMarks(a),
            this.createMinMaxLabels(a),
            (this.targetPathSelection = this.createTarget(a));
          var s = this.createPointerContainer(a);
          (this.pointerPathSelection = this.createPointer(s)),
            (this.valueBox = this.createValueBox(s));
        }
        return (
          Object.defineProperty(e.prototype, "rangeDegrees", {
            get: function () {
              return 180 === this.gaugeDegrees ? 180 : 270;
            },
            enumerable: !0,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "minDegrees", {
            get: function () {
              return 180 === this.gaugeDegrees ? 0 : -45;
            },
            enumerable: !0,
            configurable: !0,
          }),
          Object.defineProperty(e.prototype, "expectedAspectRatio", {
            get: function () {
              var e = 86;
              return (
                180 === this.gaugeDegrees &&
                  (e = this.gaugeConfiguration.hasReadout ? 62 : 55),
                100 / e
              );
            },
            enumerable: !0,
            configurable: !0,
          }),
          (e.prototype.setValue = function (e) {
            0 === this.gaugeConfiguration.sanitizationError &&
              ((null == e || "number" != typeof e || isNaN(e)) && (e = null),
              this.updateValueBox(e),
              this.updatePointer(e));
          }),
          (e.prototype.updateValueBox = function (e) {
            null !== this.valueBox &&
              (null === e
                ? this.valueBox.text("")
                : this.valueBox.text(
                    this.localisationCache.toLocaleLimitedLengthFloat(
                      e,
                      9,
                      this.gaugeConfiguration.precision
                    )
                  ));
          }),
          (e.prototype.updatePointer = function (e) {
            if (null === e)
              return (
                this.pointerPathSelection.attr("visibility", "hidden"),
                void (this.currentValueRotation = null)
              );
            this.currentValueRotation = this.rotatePath(
              this.limitOverrange(e),
              this.currentValueRotation,
              this.pointerPathSelection
            );
          }),
          (e.prototype.limitOverrange = function (e) {
            return e > this.gaugeConfiguration.maxValue
              ? Math.min(
                  e,
                  this.gaugeConfiguration.maxValue +
                    0.02 * this.gaugeConfiguration.range
                )
              : e < this.gaugeConfiguration.minValue
              ? Math.max(
                  e,
                  this.gaugeConfiguration.minValue -
                    0.02 * this.gaugeConfiguration.range
                )
              : e;
          }),
          (e.prototype.rotatePath = function (e, t, n) {
            var i = (2 * this.minDegrees + this.rangeDegrees - 180) / 2,
              r = this.valueToDegrees(e) - 90 - i,
              o = null !== t ? t : r;
            (t = r), n.attr("visibility", "visible");
            var a = u.transition().duration(1e3);
            return (
              n.transition(a).attrTween("transform", function () {
                return function (e) {
                  return "translate(50,50) rotate(" + (o + (r - o) * e) + ")";
                };
              }),
              t
            );
          }),
          (e.prototype.setTarget = function (e) {
            if (null == e || "number" != typeof e || isNaN(e))
              return (
                this.targetPathSelection.attr("visibility", "hidden"),
                void (this.currentTargetRotation = null)
              );
            this.gaugeConfiguration.sanitizationError ||
              (this.currentTargetRotation = this.rotatePath(
                this.limitOverrange(e),
                this.currentTargetRotation,
                this.targetPathSelection
              ));
          }),
          (e.prototype.setThresholds = function (e, t, n, i) {
            0 === this.gaugeConfiguration.sanitizationError &&
              (null == i && (i = this.gaugeConfiguration.maxValue),
              null == n && (n = this.gaugeConfiguration.maxValue),
              null == t && (t = this.gaugeConfiguration.minValue),
              null == e && (e = this.gaugeConfiguration.minValue),
              (e = Math.min(e, i)),
              (n = Math.max(e, Math.min(n, i))),
              (t = Math.min(n, Math.max(t, e))),
              this.thresholdLowLow.setStartAndEnd(
                this.gaugeConfiguration.minValue,
                e
              ),
              this.thresholdLow.setStartAndEnd(e, t),
              this.thresholdHigh.setStartAndEnd(n, i),
              this.thresholdHighHigh.setStartAndEnd(
                i,
                this.gaugeConfiguration.maxValue
              ));
          }),
          (e.prototype.createSvg = function () {
            return i
              .select(this.hostElement)
              .append("svg:svg")
              .attr("width", "100%")
              .attr("height", "100%")
              .attr("viewBox", "0 0 100 " + 100 / this.expectedAspectRatio);
          }),
          (e.prototype.createBorder = function (e) {
            this.drawBand(e, "gauge-border", 0.95, 1);
          }),
          (e.prototype.createFill = function (e) {
            this.drawBand(e, "gauge-fill-bg", 0.95 - 0.15, 0.95);
          }),
          (e.prototype.drawBand = function (e, t, n, i) {
            var r = s
              .arc()
              .startAngle(this.valueToRadians(this.gaugeConfiguration.minValue))
              .endAngle(this.valueToRadians(this.gaugeConfiguration.maxValue))
              .innerRadius(48 * n)
              .outerRadius(48 * i);
            e.append("svg:path")
              .attr("class", t)
              .attr("d", r)
              .attr("transform", "translate(50,50) rotate(270)");
          }),
          (e.prototype.createLabel = function (e) {
            if (null != this.gaugeConfiguration.label) {
              var t = this.gaugeConfiguration.label;
              14 < t.length &&
                (t = this.gaugeConfiguration.label.substring(0, 10) + "..."),
                e
                  .append("svg:text")
                  .attr("x", 50)
                  .attr("y", 25 + 100 / 17 / 2)
                  .attr("dy", 100 / 17 / 2)
                  .attr("text-anchor", "middle")
                  .text(t)
                  .style("font-size", 100 / 17 + "px")
                  .attr("class", "gauge-text-description")
                  .style("stroke-width", "0px");
            }
          }),
          (e.prototype.createTickMarks = function (e) {
            for (
              var t =
                  this.gaugeConfiguration.range /
                  (this.gaugeConfiguration.tickMarks.majorTicks - 1),
                n = t / this.gaugeConfiguration.tickMarks.minorTicks,
                i = this.gaugeConfiguration.minValue;
              i <= this.gaugeConfiguration.maxValue;
              i += t
            ) {
              for (
                var r = Math.min(i + t, this.gaugeConfiguration.maxValue),
                  o = i + n;
                o < r;
                o += n
              ) {
                var a = this.valueToPoint(o, 0.95 - 0.15),
                  s = this.valueToPoint(o, 0.95);
                e.append("svg:line")
                  .attr("x1", a.x)
                  .attr("y1", a.y)
                  .attr("x2", s.x)
                  .attr("y2", s.y)
                  .attr("class", "gauge-tick-line")
                  .style("stroke-width", "0.5px");
              }
              var u = this.valueToPoint(i, 0.71),
                l = this.valueToPoint(i, 0.95);
              e.append("svg:line")
                .attr("x1", u.x)
                .attr("y1", u.y)
                .attr("x2", l.x)
                .attr("y2", l.y)
                .attr("class", "gauge-tick-line")
                .style("stroke-width", "0.5px");
            }
          }),
          (e.prototype.createMinMaxLabels = function (e) {
            var t = 100 / 17,
              n = this.valueToPoint(this.gaugeConfiguration.minValue, 0.66);
            e.append("svg:text")
              .attr("x", n.x)
              .attr("y", n.y)
              .attr("dy", t / 3)
              .attr("text-anchor", "start")
              .text(
                this.localisationCache.toLocaleLimitedLengthFloat(
                  this.gaugeConfiguration.minValue,
                  8,
                  null
                )
              )
              .style("font-size", t + "px")
              .attr("class", "gauge-text-label")
              .style("stroke-width", "0px");
            var i = this.valueToPoint(this.gaugeConfiguration.maxValue, 0.66);
            e.append("svg:text")
              .attr("x", i.x)
              .attr("y", i.y)
              .attr("dy", t / 3)
              .attr("text-anchor", "end")
              .text(
                this.localisationCache.toLocaleLimitedLengthFloat(
                  this.gaugeConfiguration.maxValue,
                  8,
                  null
                )
              )
              .style("font-size", t + "px")
              .attr("class", "gauge-text-label")
              .style("stroke-width", "0px");
          }),
          (e.prototype.createPointerContainer = function (e) {
            return e
              .append("svg:g")
              .attr("id", this.hostElement.id + "_pointerContainer");
          }),
          (e.prototype.createPointer = function (e) {
            var t =
                (this.gaugeConfiguration.minValue +
                  this.gaugeConfiguration.maxValue) /
                2,
              n = this.buildPointerPath(t),
              i = o
                .line()
                .x(function (e) {
                  return e.x;
                })
                .y(function (e) {
                  return e.y;
                }),
              r = e
                .selectAll("path")
                .data([n])
                .enter()
                .append("svg:path")
                .attr("d", i)
                .attr("visibility", "hidden")
                .attr("class", "gauge-fill-pointer")
                .style("fill-opacity", 0.9)
                .attr("transform", "translate(50,50)")
                .style("stroke-width", "0px");
            return (
              e
                .append("svg:circle")
                .attr("cx", 50)
                .attr("cy", 50)
                .attr("r", 0.05 * 48)
                .attr("class", "gauge-fill-pointer")
                .style("opacity", 1),
              r
            );
          }),
          (e.prototype.createValueBox = function (e) {
            if (!this.gaugeConfiguration.hasReadout) return null;
            var t = Math.round((100 / 11) * 0.9),
              n =
                (this.gaugeConfiguration.minValue +
                  this.gaugeConfiguration.maxValue) /
                2;
            return (
              e
                .selectAll("text")
                .data([n])
                .enter()
                .append("svg:text")
                .text("")
                .attr("id", this.hostElement.id + "_valueBox")
                .attr("x", 50)
                .attr("y", 100 / this.expectedAspectRatio - 2)
                .attr("text-anchor", "middle")
                .style("font-size", t + "px")
                .attr("class", "gauge-text-label"),
              i
                .select(this.hostElement)
                .select("#" + this.hostElement.id + "_valueBox")
            );
          }),
          (e.prototype.buildPointerPath = function (e) {
            var t = (90 * this.gaugeConfiguration.range) / this.rangeDegrees,
              n = this.valueToPointForPointer(e, 0.91);
            return [
              n,
              this.valueToPointForPointer(e - t, 0.04),
              this.valueToPointForPointer(e + t, 0.04),
              n,
            ];
          }),
          (e.prototype.createTarget = function (e) {
            var t = e
                .append("svg:g")
                .attr("id", this.hostElement.id + "_targetContainer"),
              n =
                (this.gaugeConfiguration.minValue +
                  this.gaugeConfiguration.maxValue) /
                2,
              i = this.buildTargetPath(n),
              r = o
                .line()
                .x(function (e) {
                  return e.x;
                })
                .y(function (e) {
                  return e.y;
                });
            return t
              .selectAll("path")
              .data([i])
              .enter()
              .append("svg:path")
              .attr("d", r)
              .attr("visibility", "hidden")
              .attr("class", "gauge-fill-target")
              .style("fill-opacity", 0.9)
              .style("stroke-width", "2px")
              .attr("transform", "translate(50,50)");
          }),
          (e.prototype.createThresholdBandLowLow = function (e) {
            var t = e
              .append("svg:path")
              .attr("id", this.hostElement.id + "_LowLowThreshold")
              .attr("class", "gauge-fill-lolo")
              .attr("transform", "translate(50,50) rotate(270)");
            return this.createThesholdBand(t);
          }),
          (e.prototype.createThresholdBandHighHigh = function (e) {
            var t = e
              .append("svg:path")
              .attr("id", this.hostElement.id + "_HighHighThreshold")
              .attr("class", "gauge-fill-hihi")
              .attr("transform", "translate(50,50) rotate(270)");
            return this.createThesholdBand(t);
          }),
          (e.prototype.createThresholdBandLow = function (e) {
            var t = e
              .append("svg:path")
              .attr("id", this.hostElement.id + "_LowThreshold")
              .attr("class", "gauge-fill-lo")
              .attr("transform", "translate(50,50) rotate(270)");
            return this.createThesholdBand(t);
          }),
          (e.prototype.createThresholdBandHigh = function (e) {
            var t = e
              .append("svg:path")
              .attr("id", this.hostElement.id + "_HighThreshold")
              .attr("class", "gauge-fill-hi")
              .attr("transform", "translate(50,50) rotate(270)");
            return this.createThesholdBand(t);
          }),
          (e.prototype.createThesholdBand = function (n) {
            var i = this,
              r = null,
              o = null,
              a = s
                .arc()
                .startAngle(function () {
                  return i.valueToRadians(r);
                })
                .endAngle(function () {
                  return i.valueToRadians(o);
                })
                .innerRadius(38.4)
                .outerRadius(0.95 * 48);
            return {
              setStartAndEnd: function (e, t) {
                (e = Math.min(
                  i.gaugeConfiguration.maxValue,
                  Math.max(e, i.gaugeConfiguration.minValue)
                )),
                  (t = Math.min(
                    i.gaugeConfiguration.maxValue,
                    Math.max(t, i.gaugeConfiguration.minValue)
                  )),
                  (r === e && o === t) ||
                    ((r = e),
                    (o = t),
                    n.attr("d", a),
                    n.attr("visibility", e == t ? "hidden" : "inherit"));
              },
            };
          }),
          (e.prototype.buildTargetPath = function (e) {
            return [
              this.valueToPointForPointer(e, 1),
              this.valueToPointForPointer(e, 0.71),
            ];
          }),
          (e.prototype.valueToDegrees = function (e) {
            return (
              (e / this.gaugeConfiguration.range) * this.rangeDegrees -
              (this.gaugeConfiguration.minValue /
                this.gaugeConfiguration.range) *
                this.rangeDegrees +
              this.minDegrees
            );
          }),
          (e.prototype.valueToRadians = function (e) {
            return (this.valueToDegrees(e) * Math.PI) / 180;
          }),
          (e.prototype.valueToPoint = function (e, t) {
            return {
              x: 50 - 48 * t * Math.cos(this.valueToRadians(e)),
              y: 50 - 48 * t * Math.sin(this.valueToRadians(e)),
            };
          }),
          (e.prototype.valueToPointForPointer = function (e, t) {
            var n = this.valueToPoint(e, t);
            return (n.x -= 50), (n.y -= 50), n;
          }),
          (e.prototype.readAndCheckGaugeConfiguration = function (e, t, n) {
            var i = {
              sanitizationError: 0,
              minValue: t.tryGetAttributeAsFloat(e, "data-rangeLow"),
              maxValue: t.tryGetAttributeAsFloat(e, "data-rangeHigh"),
              label: t.tryGetAttribute(e, "data-label"),
              precision: t.tryGetAttributeAsFloat(e, "data-precision"),
              range: null,
              tickMarks: { majorTicks: 5, minorTicks: 2 },
              hasReadout: t.tryGetAttributeAsBoolean(e, "data-readout"),
            };
            return (
              (i.sanitizationError =
                n.sanitizeGaugeRange(i) || i.sanitizationError),
              (i.range = i.maxValue - i.minValue),
              i
            );
          }),
          e
        );
      })();
      t.DialGauge = n;
    }
  ),
  define(
    "HMIWeb/Source/DisplayElements/Gauges/RadialFillGauge",
    [
      "require",
      "exports",
      "d3-selection",
      "d3-shape",
      "d3-interpolate",
      "d3-transition",
    ],
    function (e, t, n, s, a) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var i = (function () {
        function e(e, t, n, i, r, o) {
          if (
            ((this.logger = e),
            (this.localisationCache = t),
            (this.gaugeUtils = i),
            (this.hostElement = r),
            (this.gaugeConfiguration = this.readAndCheckGaugeConfiguration(
              this.hostElement,
              n,
              this.gaugeUtils
            )),
            180 !== o && 270 !== o)
          )
            throw new Error(
              "Unexpected gauge degrees " + o + ". Must be 180 or 270"
            );
          var a = {
            width: 100,
            height: 0,
            cx: 50,
            cy: 50,
            radius: 48,
            minRange: { rad: 0, deg: 0 },
            maxRange: { rad: 0, deg: 0 },
            minMaxLabelXPos: 0,
            minMaxLabelYPos: 0,
            valueYPos: 0,
            descriptionYPos: 0,
          };
          180 === o
            ? ((a.height = 62),
              (a.minRange = {
                rad: -0.5 * Math.PI,
                deg: -0.5 * Math.PI * (180 / Math.PI),
              }),
              (a.maxRange = {
                rad: 0.5 * Math.PI,
                deg: 0.5 * Math.PI * (180 / Math.PI),
              }),
              (a.minMaxLabelXPos = 3),
              (a.minMaxLabelYPos = 60),
              (a.valueYPos = 46),
              (a.descriptionYPos = 60))
            : 270 === o &&
              ((a.height = 86),
              (a.minRange = {
                rad: -0.75 * Math.PI,
                deg: -0.75 * Math.PI * (180 / Math.PI),
              }),
              (a.maxRange = {
                rad: 0.75 * Math.PI,
                deg: 0.75 * Math.PI * (180 / Math.PI),
              }),
              (a.minMaxLabelXPos = 27),
              (a.minMaxLabelYPos = 85),
              (a.valueYPos = 54),
              (a.descriptionYPos = 68));
          var s = this.createSvg(a),
            u = this.createTranslatedGroup(s, a);
          this.createArcBackground(u, a),
            this.createMinLabel(s, a),
            this.createMaxLabel(s, a),
            this.createLabel(s, a),
            (this.thresholdLowLow = this.createThesholdLineLowLow(u, a)),
            (this.thresholdLow = this.createThesholdLineLow(u, a)),
            (this.thresholdHigh = this.createThesholdLineHigh(u, a)),
            (this.thresholdHighHigh = this.createThesholdLineHighHigh(u, a)),
            (this.fillLine = this.createFillLine(u, a)),
            (this.fillArc = this.createArcForeground(u, a)),
            (this.targetLine = this.createTargetLine(u, a)),
            (this.valueBox = this.createValueBox(s, a)),
            (this.santizationError = this.gaugeConfiguration.sanitizationError);
        }
        return (
          (e.prototype.createSvg = function (e) {
            return n
              .select(this.hostElement)
              .append("svg:svg")
              .attr("width", "100%")
              .attr("height", "100%")
              .attr("viewBox", "0 0 " + e.width + " " + e.height);
          }),
          (e.prototype.createTranslatedGroup = function (e, t) {
            return e
              .append("g")
              .attr("transform", "translate(" + t.cx + "," + t.cy + ")");
          }),
          (e.prototype.createArcBackground = function (e, t) {
            var n = s
              .arc()
              .innerRadius(0.72 * t.radius)
              .outerRadius(t.radius)
              .startAngle(t.minRange.rad)
              .endAngle(t.maxRange.rad);
            e.append("path")
              .attr("id", this.hostElement.id + "_arcBackground")
              .datum({ endAngle: t.maxRange.rad })
              .attr("class", "gauge-fill-bg")
              .attr("d", n);
          }),
          (e.prototype.createMinLabel = function (e, t) {
            e.append("svg:text")
              .attr("id", this.hostElement.id + "_minLabel")
              .text(
                this.localisationCache.toLocaleLimitedLengthFloat(
                  this.gaugeConfiguration.minValue,
                  8,
                  null
                )
              )
              .attr("x", t.minMaxLabelXPos)
              .attr("y", t.minMaxLabelYPos)
              .attr("text-anchor", "start")
              .style("font-size", "8.5px")
              .attr("class", "gauge-text-label");
          }),
          (e.prototype.createMaxLabel = function (e, t) {
            e.append("svg:text")
              .attr("id", this.hostElement.id + "_maxLabel")
              .text(
                this.localisationCache.toLocaleLimitedLengthFloat(
                  this.gaugeConfiguration.maxValue,
                  8,
                  null
                )
              )
              .attr("x", t.width - t.minMaxLabelXPos)
              .attr("y", t.minMaxLabelYPos)
              .attr("text-anchor", "end")
              .style("font-size", "8.5px")
              .attr("class", "gauge-text-label");
          }),
          (e.prototype.createLabel = function (e, t) {
            if (null != this.gaugeConfiguration.label) {
              var n = this.gaugeConfiguration.label;
              14 < n.length && (n = n.substring(0, 10) + "..."),
                e
                  .append("svg:text")
                  .attr("id", this.hostElement.id + "_labelBox")
                  .text(n)
                  .attr("x", t.cx)
                  .attr("y", t.descriptionYPos)
                  .attr("text-anchor", "middle")
                  .style("font-size", "8.5px")
                  .attr("class", "gauge-text-description");
            }
          }),
          (e.prototype.createThesholdLineLowLow = function (e, t) {
            var n = e
              .append("path")
              .attr("id", this.hostElement.id + "_LowLowThreshold")
              .attr("class", "gauge-threshold-line")
              .style("stroke-width", "1px");
            return this.createThesholdLine(n, t);
          }),
          (e.prototype.createThesholdLineLow = function (e, t) {
            var n = e
              .append("path")
              .attr("id", this.hostElement.id + "_LowThreshold")
              .attr("class", "gauge-threshold-line")
              .attr("stroke-dasharray", "1px,3px")
              .style("stroke-width", "1px");
            return this.createThesholdLine(n, t);
          }),
          (e.prototype.createThesholdLineHigh = function (e, t) {
            var n = e
              .append("path")
              .attr("id", this.hostElement.id + "_HighThreshold")
              .attr("class", "gauge-threshold-line")
              .attr("stroke-dasharray", "1px,3px")
              .style("stroke-width", "1px");
            return this.createThesholdLine(n, t);
          }),
          (e.prototype.createThesholdLineHighHigh = function (e, t) {
            var n = e
              .append("path")
              .attr("id", this.hostElement.id + "_HighHighThreshold")
              .attr("class", "gauge-threshold-line")
              .style("stroke-width", "1px");
            return this.createThesholdLine(n, t);
          }),
          (e.prototype.createThesholdLine = function (n, e) {
            var i = null,
              r = null,
              t = e.radius * (1 - 0.336),
              o = e.maxRange.rad - e.minRange.rad,
              a = s
                .arc()
                .innerRadius(t)
                .outerRadius(t)
                .startAngle(function () {
                  return o * i + e.minRange.rad;
                })
                .endAngle(function () {
                  return o * r + e.minRange.rad;
                });
            return {
              setStartAndEnd: function (e, t) {
                (i === e && r === t) ||
                  ((i = e),
                  (r = t),
                  n.attr("d", a),
                  n.attr("visibility", e == t ? "hidden" : "inherit"));
              },
            };
          }),
          (e.prototype.createFillLine = function (e, n) {
            var t = this,
              i = e
                .append("line")
                .attr("id", this.hostElement.id + "_fillLine")
                .attr("x1", 0)
                .attr("y1", 0.5 * -n.radius)
                .attr("x2", 0)
                .attr("y2", 1 * -n.radius - 0.5)
                .style("stroke-width", "2px");
            return {
              setValue: function (e) {
                var t =
                  "rotate(" +
                  ((n.maxRange.deg - n.minRange.deg) * e + n.minRange.deg) +
                  ")";
                null == e
                  ? i.attr("visibility", "hidden")
                  : "inherit" !== i.attr("visibility")
                  ? (i.attr("visibility", "inherit"), i.attr("transform", t))
                  : i
                      .transition()
                      .duration(1e3)
                      .attrTween("transform", function () {
                        return a.interpolateString(i.attr("transform"), t);
                      });
              },
              setRegion: function (e) {
                i.attr("class", t.gaugeUtils.getClassOfRegion(e));
              },
            };
          }),
          (e.prototype.createArcForeground = function (e, t) {
            var n,
              i = this,
              r = e
                .append("path")
                .attr("id", this.hostElement.id + "_arcForeground"),
              o = s
                .arc()
                .innerRadius(0.72 * t.radius)
                .outerRadius(t.radius)
                .startAngle(t.minRange.rad)
                .endAngle(function () {
                  return (
                    (t.maxRange.rad - t.minRange.rad) *
                      Math.min(1, Math.max(0, n)) +
                    t.minRange.rad
                  );
                });
            return {
              setValue: function (e) {
                null == e
                  ? r.attr("visibility", "hidden")
                  : "inherit" !== r.attr("visibility")
                  ? ((n = e), r.attr("visibility", "inherit"), r.attr("d", o))
                  : r
                      .transition()
                      .duration(1e3)
                      .attrTween("d", function () {
                        var t = a.interpolateNumber(n, e);
                        return function (e) {
                          return (n = t(e)), o(null);
                        };
                      });
              },
              setRegion: function (e) {
                r.attr("class", i.gaugeUtils.getClassOfRegion(e));
              },
            };
          }),
          (e.prototype.createTargetLine = function (e, n) {
            var i = e
              .append("line")
              .attr("id", this.hostElement.id + "_targetLine")
              .attr("x1", 0)
              .attr("y1", 0.72 * -n.radius)
              .attr("x2", 0)
              .attr("y2", -n.radius)
              .attr("class", "gauge-fill-target")
              .style("stroke-width", "3px");
            return {
              setValue: function (e) {
                var t =
                  "rotate(" +
                  ((n.maxRange.deg - n.minRange.deg) * e + n.minRange.deg) +
                  ")";
                null == e
                  ? i.attr("visibility", "hidden")
                  : "inherit" !== i.attr("visibility")
                  ? (i.attr("visibility", "inherit"), i.attr("transform", t))
                  : i
                      .transition()
                      .duration(1e3)
                      .attrTween("transform", function () {
                        return a.interpolateString(i.attr("transform"), t);
                      });
              },
            };
          }),
          (e.prototype.createValueBox = function (e, t) {
            var n;
            return (
              this.gaugeConfiguration.hasReadout &&
                (n = e
                  .append("svg:text")
                  .attr("id", this.hostElement.id + "_valueBox")
                  .attr("x", t.cx)
                  .attr("y", t.valueYPos)
                  .attr("text-anchor", "middle")
                  .attr("class", "gauge-text-label")
                  .style("font-size", "13px")
                  .style("font-weight", "900")),
              {
                setValue: function (e) {
                  n && n.text(e);
                },
              }
            );
          }),
          (e.prototype.setValue = function (e) {
            if (0 === this.gaugeConfiguration.sanitizationError) {
              if (
                null == (this.effectiveValue = e) ||
                "number" != typeof e ||
                isNaN(e)
              )
                this.fillArc.setValue(null),
                  this.fillLine.setValue(null),
                  this.valueBox.setValue("");
              else {
                var t = this.getProportionOfRangeWithLimitedOverrange(e);
                this.fillArc.setValue(t),
                  this.fillLine.setValue(t),
                  this.valueBox.setValue(
                    this.localisationCache.toLocaleLimitedLengthFloat(
                      e,
                      8,
                      this.gaugeConfiguration.precision
                    )
                  );
              }
              this.applyValueRegions();
            }
          }),
          (e.prototype.setTarget = function (e) {
            if (0 === this.gaugeConfiguration.sanitizationError)
              if (null == e || "number" != typeof e || isNaN(e))
                this.targetLine.setValue(null);
              else {
                var t = this.getProportionOfRangeWithLimitedOverrange(e);
                this.targetLine.setValue(t);
              }
          }),
          (e.prototype.setThresholds = function (e, t, n, i) {
            0 === this.gaugeConfiguration.sanitizationError &&
              (null == i && (i = Number.MAX_VALUE),
              null == n && (n = Number.MAX_VALUE),
              null == t && (t = -Number.MAX_VALUE),
              null == e && (e = -Number.MAX_VALUE),
              (this.effectiveHighHigh = i),
              (this.effectiveLowLow = Math.min(e, this.effectiveHighHigh)),
              (this.effectiveHigh = Math.max(
                this.effectiveLowLow,
                Math.min(n, this.effectiveHighHigh)
              )),
              (this.effectiveLow = Math.min(
                this.effectiveHigh,
                Math.max(t, this.effectiveLowLow)
              )),
              this.applyThresholds(),
              this.applyValueRegions());
          }),
          (e.prototype.applyValueRegions = function () {
            var e;
            (e =
              null == this.effectiveValue
                ? 5
                : this.effectiveValue <= this.effectiveLowLow
                ? 1
                : this.effectiveValue <= this.effectiveLow
                ? 2
                : this.effectiveValue < this.effectiveHigh
                ? 5
                : this.effectiveValue < this.effectiveHighHigh
                ? 3
                : 4),
              this.fillArc.setRegion(e),
              this.fillLine.setRegion(e);
          }),
          (e.prototype.applyThresholds = function () {
            var e = this.getProportionOfRange(this.effectiveLowLow),
              t = this.getProportionOfRange(this.effectiveLow),
              n = this.getProportionOfRange(this.effectiveHigh),
              i = this.getProportionOfRange(this.effectiveHighHigh);
            this.thresholdLowLow.setStartAndEnd(0, e),
              this.thresholdLow.setStartAndEnd(e, t),
              this.thresholdHigh.setStartAndEnd(n, i),
              this.thresholdHighHigh.setStartAndEnd(i, 1);
          }),
          (e.prototype.getProportionOfRange = function (e) {
            return Math.min(
              1,
              Math.max(
                0,
                (e - this.gaugeConfiguration.minValue) /
                  (this.gaugeConfiguration.maxValue -
                    this.gaugeConfiguration.minValue)
              )
            );
          }),
          (e.prototype.getProportionOfRangeWithLimitedOverrange = function (e) {
            return Math.min(
              1.02,
              Math.max(
                -0.02,
                (e - this.gaugeConfiguration.minValue) /
                  (this.gaugeConfiguration.maxValue -
                    this.gaugeConfiguration.minValue)
              )
            );
          }),
          (e.prototype.readAndCheckGaugeConfiguration = function (e, t, n) {
            var i = {
              sanitizationError: 0,
              minValue: t.tryGetAttributeAsFloat(e, "data-rangeLow"),
              maxValue: t.tryGetAttributeAsFloat(e, "data-rangeHigh"),
              label: t.tryGetAttribute(e, "data-label"),
              precision: t.tryGetAttributeAsFloat(e, "data-precision"),
              hasReadout: t.tryGetAttributeAsBoolean(e, "data-readout"),
            };
            return (
              (i.sanitizationError =
                n.sanitizeGaugeRange(i) || i.sanitizationError),
              i
            );
          }),
          e
        );
      })();
      t.RadialFillGauge = i;
    }
  ),
  define(
    "HMIWeb/Source/DisplayElements/Gauges/LinearGauge",
    ["require", "exports", "d3-selection"],
    function (e, t, n) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var f = 150,
        p = 30,
        i = (function () {
          function e(e, t, n, i, r) {
            (this.logger = e),
              (this.localisationCache = t),
              (this.gaugeUtils = i),
              (this.hostElement = r),
              (this.gaugeConfiguration = this.readAndCheckGaugeConfiguration(
                this.hostElement,
                n,
                this.gaugeUtils
              ));
            var o = this.getRenderDimensions(),
              a = this.createSvg(o);
            this.createRectBackground(a, o),
              (this.fillRect = this.createRectForeground(a, o)),
              (this.fillLine = this.createFillLine(a, o)),
              (this.targetLine = this.createTargetLine(a, o)),
              (this.valueBox = this.createValueBox(a, o)),
              this.createMinLabel(a, o),
              this.createMaxLabel(a, o),
              this.createLabel(a, o),
              (this.thresholdLowLow = this.createThesholdLineLowLow(a, o)),
              (this.thresholdLow = this.createThesholdLineLow(a, o)),
              (this.thresholdHigh = this.createThesholdLineHigh(a, o)),
              (this.thresholdHighHigh = this.createThesholdLineHighHigh(a, o)),
              (this.santizationError =
                this.gaugeConfiguration.sanitizationError);
          }
          return (
            (e.prototype.setValue = function (e) {
              if (0 === this.gaugeConfiguration.sanitizationError) {
                if (
                  null == (this.effectiveValue = e) ||
                  "number" != typeof e ||
                  isNaN(e)
                )
                  this.fillRect.setValue(null),
                    this.fillLine.setValue(null),
                    this.valueBox.setValue(""),
                    (e = null);
                else {
                  var t = this.getProportionOfRange(e);
                  this.fillRect.setValue(t),
                    this.fillLine.setValue(t),
                    this.valueBox.setValue(
                      this.localisationCache.toLocaleLimitedLengthFloat(
                        e,
                        6,
                        this.gaugeConfiguration.precision
                      )
                    );
                }
                this.applyValueRegions();
              }
            }),
            (e.prototype.setTarget = function (e) {
              if (0 === this.gaugeConfiguration.sanitizationError)
                if (null == e || "number" != typeof e || isNaN(e))
                  this.targetLine.setValue(null);
                else {
                  var t = this.getProportionOfRange(e);
                  this.targetLine.setValue(t);
                }
            }),
            (e.prototype.setThresholds = function (e, t, n, i) {
              0 === this.gaugeConfiguration.sanitizationError &&
                (null == i && (i = Number.MAX_VALUE),
                null == n && (n = Number.MAX_VALUE),
                null == t && (t = -Number.MAX_VALUE),
                null == e && (e = -Number.MAX_VALUE),
                (this.effectiveHighHigh = i),
                (this.effectiveLowLow = Math.min(e, this.effectiveHighHigh)),
                (this.effectiveHigh = Math.max(
                  this.effectiveLowLow,
                  Math.min(n, this.effectiveHighHigh)
                )),
                (this.effectiveLow = Math.min(
                  this.effectiveHigh,
                  Math.max(t, this.effectiveLowLow)
                )),
                this.applyValueRegions(),
                this.applyThresholds());
            }),
            (e.prototype.getRenderDimensions = function () {
              var e = this.hostElement.getBoundingClientRect(),
                t = this.gaugeUtils.getOnePixelScaleFactor(f, p, {
                  width: e.width,
                  height: e.height,
                }),
                n = 0.01 * e.width,
                i = n,
                r = Math.min(32 * t, 0.49 * e.height),
                o = Math.min(14 * t, 0.3 * e.height),
                a = r / 3,
                s = e.width;
              this.gaugeConfiguration.hasReadout
                ? ((s -= 6 * r * 0.65), (s -= a))
                : ((s -= 2 * t), (s -= n));
              var u =
                  Math.max(e.height - 2 * o, 0.33 * e.height) +
                  Math.min(5 * t, 0.16 * e.height),
                l = (0.33 * u) / 0.49,
                c = (0.16 * u) / 0.49,
                d = s + a,
                h = l + c + o / 4;
              return {
                width: e.width,
                height: e.height,
                valueTextHeight: r,
                minMaxDescTextHeight: o,
                fillBoxWidth: s,
                fillBoxHeight: l,
                fillBoxTopPadding: c,
                valueBoxPosition: d,
                fillBoxStartXPosition: i,
                thresholdYPosition: h,
                minMaxDescYPosition: h + o,
                onePixelAdjustment: t,
              };
            }),
            (e.prototype.getProportionOfRange = function (e) {
              return Math.min(
                1,
                Math.max(
                  0,
                  (e - this.gaugeConfiguration.minValue) /
                    (this.gaugeConfiguration.maxValue -
                      this.gaugeConfiguration.minValue)
                )
              );
            }),
            (e.prototype.createThesholdLineLowLow = function (e, t) {
              var n = e
                .append("line")
                .attr("id", this.hostElement.id + "_LowLowThreshold")
                .attr("class", "gauge-threshold-line")
                .attr("y1", t.thresholdYPosition + "px")
                .attr("y2", t.thresholdYPosition + "px")
                .style("stroke-width", 1 * t.onePixelAdjustment + "px");
              return this.createThesholdLine(n, t);
            }),
            (e.prototype.createThesholdLineHighHigh = function (e, t) {
              var n = e
                .append("line")
                .attr("id", this.hostElement.id + "_HighHighThreshold")
                .attr("class", "gauge-threshold-line")
                .attr("y1", t.thresholdYPosition + "px")
                .attr("y2", t.thresholdYPosition + "px")
                .style("stroke-width", 1 * t.onePixelAdjustment + "px");
              return this.createThesholdLine(n, t);
            }),
            (e.prototype.createThesholdLineLow = function (e, t) {
              var n = e
                .append("line")
                .attr("id", this.hostElement.id + "_LowThreshold")
                .attr("class", "gauge-threshold-line")
                .attr("y1", t.thresholdYPosition + "px")
                .attr("y2", t.thresholdYPosition + "px")
                .attr(
                  "stroke-dasharray",
                  1 * t.onePixelAdjustment +
                    "px," +
                    2 * t.onePixelAdjustment +
                    "px"
                )
                .style("stroke-width", 1 * t.onePixelAdjustment + "px");
              return this.createThesholdLine(n, t);
            }),
            (e.prototype.createThesholdLineHigh = function (e, t) {
              var n = e
                .append("line")
                .attr("id", this.hostElement.id + "_HighThreshold")
                .attr("class", "gauge-threshold-line")
                .attr("y1", t.thresholdYPosition + "px")
                .attr("y2", t.thresholdYPosition + "px")
                .attr(
                  "stroke-dasharray",
                  1 * t.onePixelAdjustment +
                    "px," +
                    2 * t.onePixelAdjustment +
                    "px"
                )
                .style("stroke-width", 1 * t.onePixelAdjustment + "px");
              return this.createThesholdLine(n, t);
            }),
            (e.prototype.createThesholdLine = function (n, e) {
              var i = null,
                r = null,
                o = function () {
                  return e.fillBoxStartXPosition + e.fillBoxWidth * i + "px";
                },
                a = function () {
                  return e.fillBoxStartXPosition + e.fillBoxWidth * r + "px";
                };
              return {
                setStartAndEnd: function (e, t) {
                  (i === e && r === t) ||
                    ((i = e),
                    (r = t),
                    n.attr("x1", o),
                    n.attr("x2", a),
                    n.attr("visibility", e == t ? "hidden" : "inherit"));
                },
              };
            }),
            (e.prototype.createSvg = function (e) {
              return n
                .select(this.hostElement)
                .append("svg:svg")
                .attr("width", "100%")
                .attr("height", "100%")
                .attr("viewBox", "0 0 " + e.width + " " + e.height);
            }),
            (e.prototype.createRectBackground = function (e, t) {
              e.append("rect")
                .attr("id", this.hostElement.id + "_rectBackground")
                .attr("x", t.fillBoxStartXPosition + "px")
                .attr("y", t.fillBoxTopPadding + "px")
                .attr("width", t.fillBoxWidth + "px")
                .attr("height", t.fillBoxHeight + "px")
                .style("stroke-width", "0")
                .attr("class", "gauge-fill-bg");
            }),
            (e.prototype.createRectForeground = function (e, n) {
              var t = this,
                i = e
                  .append("rect")
                  .attr("id", this.hostElement.id + "_rectForeground")
                  .attr("x", n.fillBoxStartXPosition + "px")
                  .attr("y", n.fillBoxTopPadding + "px")
                  .attr("height", n.fillBoxHeight + "px")
                  .style("stroke-width", "0");
              return {
                setValue: function (e) {
                  var t = n.fillBoxWidth * e + "px";
                  null == e
                    ? i.attr("visibility", "hidden")
                    : "inherit" !== i.attr("visibility")
                    ? (i.attr("visibility", "inherit"), i.attr("width", t))
                    : i.transition().duration(1e3).attr("width", t);
                },
                setRegion: function (e) {
                  i.attr("class", t.gaugeUtils.getClassOfRegion(e));
                },
              };
            }),
            (e.prototype.createFillLine = function (e, n) {
              var t = this,
                i = e
                  .append("rect")
                  .attr("id", this.hostElement.id + "_fillLine")
                  .attr("y", "0")
                  .attr("height", n.fillBoxHeight + n.fillBoxTopPadding + "px")
                  .attr("width", 2 * n.onePixelAdjustment + "px")
                  .style("stroke-width", "0");
              return {
                setValue: function (e) {
                  var t =
                    n.fillBoxStartXPosition +
                    n.fillBoxWidth * e -
                    n.onePixelAdjustment +
                    "px";
                  null == e
                    ? i.attr("visibility", "hidden")
                    : "inherit" !== i.attr("visibility")
                    ? (i.attr("visibility", "inherit"), i.attr("x", t))
                    : i.transition().duration(1e3).attr("x", t);
                },
                setRegion: function (e) {
                  i.attr("class", t.gaugeUtils.getClassOfRegion(e));
                },
              };
            }),
            (e.prototype.createTargetLine = function (e, n) {
              var i = e
                .append("rect")
                .datum({
                  startXPosition: n.fillBoxStartXPosition,
                  endXPosition: n.fillBoxStartXPosition + n.fillBoxWidth,
                })
                .attr("id", this.hostElement.id + "_targetLine")
                .attr("y", n.fillBoxTopPadding + "px")
                .attr("height", n.fillBoxHeight + "px")
                .attr("width", 2 * n.onePixelAdjustment + "px")
                .attr("class", "gauge-fill-target")
                .style("stroke-width", "0");
              return {
                setValue: function (e) {
                  var t = n.fillBoxStartXPosition + n.fillBoxWidth * e + "px";
                  null == e
                    ? i.attr("visibility", "hidden")
                    : "inherit" !== i.attr("visibility")
                    ? (i.attr("visibility", "inherit"), i.attr("x", t))
                    : i.transition().duration(1e3).attr("x", t);
                },
              };
            }),
            (e.prototype.createValueBox = function (e, t) {
              var n;
              return (
                this.gaugeConfiguration.hasReadout &&
                  (n = e
                    .append("svg:text")
                    .attr("id", this.hostElement.id + "_valueBox")
                    .attr("x", t.valueBoxPosition + "px")
                    .attr("y", t.fillBoxHeight + t.fillBoxTopPadding + "px")
                    .attr("text-anchor", "start")
                    .style("font-size", t.valueTextHeight + "px")
                    .style("font-weight", "900")
                    .attr("class", "gauge-text-label")),
                {
                  setValue: function (e) {
                    n && n.text(e);
                  },
                }
              );
            }),
            (e.prototype.createMinLabel = function (e, t) {
              e.append("svg:text")
                .attr("id", this.hostElement.id + "_minLabel")
                .text(
                  this.localisationCache.toLocaleLimitedLengthFloat(
                    this.gaugeConfiguration.minValue,
                    6,
                    null
                  )
                )
                .attr("x", t.fillBoxStartXPosition + "px")
                .attr("y", t.minMaxDescYPosition + "px")
                .attr("text-anchor", "start")
                .style("font-size", t.minMaxDescTextHeight + "px")
                .attr("class", "gauge-text-label");
            }),
            (e.prototype.createMaxLabel = function (e, t) {
              e.append("svg:text")
                .attr("id", this.hostElement.id + "_maxLabel")
                .text(
                  this.localisationCache.toLocaleLimitedLengthFloat(
                    this.gaugeConfiguration.maxValue,
                    6,
                    null
                  )
                )
                .attr("x", t.fillBoxWidth + "px")
                .attr("y", t.minMaxDescYPosition + "px")
                .attr("text-anchor", "end")
                .style("font-size", t.minMaxDescTextHeight + "px")
                .attr("class", "gauge-text-label");
            }),
            (e.prototype.createLabel = function (e, t) {
              if (null != this.gaugeConfiguration.label) {
                var n = this.gaugeConfiguration.label;
                8 < n.length && (n = n.substring(0, 5) + "..."),
                  e
                    .append("svg:text")
                    .attr("id", this.hostElement.id + "_labelBox")
                    .attr("x", t.valueBoxPosition + "px")
                    .attr("y", t.minMaxDescYPosition + "px")
                    .attr("text-anchor", "start")
                    .style("font-size", t.minMaxDescTextHeight + "px")
                    .attr("class", "gauge-text-description")
                    .text(n);
              }
            }),
            (e.prototype.readAndCheckGaugeConfiguration = function (e, t, n) {
              var i = {
                sanitizationError: 0,
                minValue: t.tryGetAttributeAsFloat(e, "data-rangeLow"),
                maxValue: t.tryGetAttributeAsFloat(e, "data-rangeHigh"),
                label: t.tryGetAttribute(e, "data-label"),
                precision: t.tryGetAttributeAsFloat(e, "data-precision"),
                hasReadout: t.tryGetAttributeAsBoolean(e, "data-readout"),
              };
              return (
                (i.sanitizationError =
                  n.sanitizeGaugeRange(i) || i.sanitizationError),
                i
              );
            }),
            (e.prototype.applyValueRegions = function () {
              var e;
              (e =
                null == this.effectiveValue
                  ? 5
                  : this.effectiveValue <= this.effectiveLowLow
                  ? 1
                  : this.effectiveValue <= this.effectiveLow
                  ? 2
                  : this.effectiveValue < this.effectiveHigh
                  ? 5
                  : this.effectiveValue < this.effectiveHighHigh
                  ? 3
                  : 4),
                this.fillRect.setRegion(e),
                this.fillLine.setRegion(e);
            }),
            (e.prototype.applyThresholds = function () {
              var e = this.getProportionOfRange(this.effectiveLowLow),
                t = this.getProportionOfRange(this.effectiveLow),
                n = this.getProportionOfRange(this.effectiveHigh),
                i = this.getProportionOfRange(this.effectiveHighHigh);
              this.thresholdLowLow.setStartAndEnd(0, e),
                this.thresholdLow.setStartAndEnd(e, t),
                this.thresholdHigh.setStartAndEnd(n, i),
                this.thresholdHighHigh.setStartAndEnd(i, 1);
            }),
            e
          );
        })();
      t.LinearGauge = i;
    }
  );
var __extends =
  (this && this.__extends) ||
  (function () {
    var i = function (e, t) {
      return (i =
        Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array &&
          function (e, t) {
            e.__proto__ = t;
          }) ||
        function (e, t) {
          for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
        })(e, t);
    };
    return function (e, t) {
      function n() {
        this.constructor = e;
      }
      i(e, t),
        (e.prototype =
          null === t
            ? Object.create(t)
            : ((n.prototype = t.prototype), new n()));
    };
  })();
define(
  "HMIWeb/Source/DisplayElements/Gauge",
  [
    "require",
    "exports",
    "./CustomElementBase",
    "primitives",
    "./Gauges/DialGauge",
    "./Gauges/RadialFillGauge",
    "./Gauges/LinearGauge",
  ],
  function (e, t, n, o, a, s, u) {
    "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 });
    var i = (function (e) {
      function r() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        __extends(r, e),
        (r.register = function (e, t, n, i) {
          if (
            ((r.logger = e),
            (r.domUtils = n),
            (r.localisationCache = t),
            (r.gaugeUtils = i),
            void 0 === window.customElements)
          )
            throw new Error(
              "Could not register Gauge. customElements not defined. Gauges on this graphc will not work."
            );
          window.customElements.define("hn-gauge", r);
        }),
        (r.prototype.connectedCallback = function () {
          var t = this;
          if (!(0 < this.childElementCount))
            try {
              this.dragSource = new o.DragSource(r.logger, this.hostElement);
              var e = r.domUtils.tryGetAttribute(
                this.hostElement,
                "data-gaugeType"
              );
              switch (e) {
                case "Dial180":
                  this.render = new a.DialGauge(
                    r.logger,
                    r.localisationCache,
                    r.domUtils,
                    r.gaugeUtils,
                    this.hostElement,
                    180
                  );
                  break;
                case "Dial270":
                  this.render = new a.DialGauge(
                    r.logger,
                    r.localisationCache,
                    r.domUtils,
                    r.gaugeUtils,
                    this.hostElement,
                    270
                  );
                  break;
                case "Fill180":
                  this.render = new s.RadialFillGauge(
                    r.logger,
                    r.localisationCache,
                    r.domUtils,
                    r.gaugeUtils,
                    this.hostElement,
                    180
                  );
                  break;
                case "Fill270":
                  this.render = new s.RadialFillGauge(
                    r.logger,
                    r.localisationCache,
                    r.domUtils,
                    r.gaugeUtils,
                    this.hostElement,
                    270
                  );
                  break;
                case "LinearH":
                  this.render = new u.LinearGauge(
                    r.logger,
                    r.localisationCache,
                    r.domUtils,
                    r.gaugeUtils,
                    this.hostElement
                  );
                  break;
                default:
                  throw new Error("Unknown gauge type of " + e);
              }
              (this.target = r.domUtils.tryGetAttributeAsFloat(
                this.hostElement,
                "data-target"
              )),
                (this.value = r.domUtils.tryGetAttributeAsFloat(
                  this.hostElement,
                  "data-value"
                )),
                (this.thresholdHighHigh = r.domUtils.tryGetAttributeAsFloat(
                  this.hostElement,
                  "data-thresholdHighHigh"
                )),
                (this.thresholdLowLow = r.domUtils.tryGetAttributeAsFloat(
                  this.hostElement,
                  "data-thresholdLowLow"
                )),
                (this.thresholdHigh = r.domUtils.tryGetAttributeAsFloat(
                  this.hostElement,
                  "data-thresholdHigh"
                )),
                (this.thresholdLow = r.domUtils.tryGetAttributeAsFloat(
                  this.hostElement,
                  "data-thresholdLow"
                ));
              var n = r.gaugeUtils.sanitizeGaugeThresholds({
                  minValue: r.domUtils.tryGetAttributeAsFloat(
                    this.hostElement,
                    "data-rangeLow"
                  ),
                  maxValue: r.domUtils.tryGetAttributeAsFloat(
                    this.hostElement,
                    "data-rangeHigh"
                  ),
                  thresholdLowLow: this.thresholdLowLow,
                  thresholdLow: this.thresholdLow,
                  thresholdHigh: this.thresholdHigh,
                  thresholdHighHigh: this.thresholdHighHigh,
                }),
                i = this.render.santizationError || n;
              0 !== i &&
                (this.hostElement.classList.add("misconfigured"),
                r.gaugeUtils
                  .getSanitizationErrorString(i, r.localisationCache)
                  .then(function (e) {
                    t.hostElement.title = e;
                  }));
            } catch (e) {
              r.logger.exception("Default", "Gauge creation failed", e);
            }
        }),
        (r.prototype.registerDragContentCallback = function (e) {
          this.dragSource.registerDragContentCallback(e);
        }),
        Object.defineProperty(r.prototype, "tooltip", {
          get: function () {
            return this.tooltipField;
          },
          set: function (e) {
            (this.tooltipField = e),
              null != this.render &&
                0 === this.render.santizationError &&
                (this.hostElement.title = this.tooltipField
                  ? this.tooltipField
                  : "");
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "value", {
          get: function () {
            return this.currentValue;
          },
          set: function (e) {
            (this.currentValue = e),
              null != this.render && this.render.setValue(this.currentValue);
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "target", {
          get: function () {
            return this.currentTarget;
          },
          set: function (e) {
            (this.currentTarget = e),
              null != this.render && this.render.setTarget(this.currentTarget);
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "thresholdLowLow", {
          get: function () {
            return this.currentThresholdLowLow;
          },
          set: function (e) {
            (this.currentThresholdLowLow = e), this.setRenderThresholds();
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "thresholdLow", {
          get: function () {
            return this.currentThresholdLow;
          },
          set: function (e) {
            (this.currentThresholdLow = e), this.setRenderThresholds();
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "thresholdHigh", {
          get: function () {
            return this.currentThresholdHigh;
          },
          set: function (e) {
            (this.currentThresholdHigh = e), this.setRenderThresholds();
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "thresholdHighHigh", {
          get: function () {
            return this.currentThresholdHighHigh;
          },
          set: function (e) {
            (this.currentThresholdHighHigh = e), this.setRenderThresholds();
          },
          enumerable: !0,
          configurable: !0,
        }),
        (r.prototype.setRenderThresholds = function () {
          "function" == typeof this.render.setThresholds &&
            this.render.setThresholds(
              this.currentThresholdLowLow,
              this.currentThresholdLow,
              this.currentThresholdHigh,
              this.currentThresholdHighHigh
            );
        }),
        r
      );
    })(n);
    t.Gauge = i;
  }
),
  define(
    "HMIWeb/Source/Core/Utils/GaugeUtils",
    ["require", "exports"],
    function (e, t) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var n = (function () {
        function e(e) {
          this.logger = e;
        }
        return (
          (e.prototype.getOnePixelScaleFactor = function (e, t, n) {
            return Math.min(
              this.getOnePixelHeightScaleFactor(t, n),
              this.getOnePixelWidthScaleFactor(e, n)
            );
          }),
          (e.prototype.getOnePixelWidthScaleFactor = function (e, t) {
            return 0 === t.width || 0 === e ? 0 : t.width / e;
          }),
          (e.prototype.getOnePixelHeightScaleFactor = function (e, t) {
            return 0 === t.height || 0 === e ? 0 : t.height / e;
          }),
          (e.prototype.getRegionContainingValue = function (e, t) {
            if (null != e) {
              if (null !== t.thresholdLowLow && e <= t.thresholdLowLow)
                return 1;
              if (null !== t.thresholdLow && e <= t.thresholdLow) return 2;
              if (null !== t.thresholdHighHigh && t.thresholdHighHigh <= e)
                return 4;
              if (null !== t.thresholdHigh && t.thresholdHigh <= e) return 3;
            }
            return 5;
          }),
          (e.prototype.getClassOfRegion = function (e) {
            switch (e) {
              case 1:
                return "gauge-fill-lolo";
              case 4:
                return "gauge-fill-hihi";
              case 2:
                return "gauge-fill-lo";
              case 3:
                return "gauge-fill-hi";
              default:
                return "gauge-fill-ok";
            }
          }),
          (e.prototype.sanitizeGaugeRange = function (e) {
            var t = 0;
            return (
              null === e.minValue &&
                ((t = 1),
                this.logger.warn(
                  "Default",
                  "Could not parse gauge minimum value"
                ),
                (e.minValue = 0)),
              null === e.maxValue &&
                ((t = 1),
                this.logger.warn(
                  "Default",
                  "Could not parse gauge maximum value"
                ),
                (e.maxValue = 100)),
              e.minValue >= e.maxValue && (t = 2),
              t
            );
          }),
          (e.prototype.sanitizeGaugeThresholds = function (e) {
            return this.checkValueInRange(e.thresholdLowLow, e) &&
              this.checkValueInRange(e.thresholdLow, e) &&
              this.checkValueInRange(e.thresholdHigh, e) &&
              this.checkValueInRange(e.thresholdHighHigh, e)
              ? this.checkValueLessThanOthers(
                  e.thresholdLowLow,
                  e.thresholdLow,
                  e.thresholdHigh,
                  e.thresholdHighHigh
                ) &&
                this.checkValueLessThanOthers(
                  e.thresholdLow,
                  e.thresholdHigh,
                  e.thresholdHighHigh
                ) &&
                this.checkValueLessThanOthers(
                  e.thresholdHigh,
                  e.thresholdHighHigh
                )
                ? 0
                : 4
              : 3;
          }),
          (e.prototype.getSanitizationErrorString = function (t, e) {
            return e.getLocalisedStrings().then(function (e) {
              switch (t) {
                case 0:
                  return "";
                case 1:
                  return e.getStringOrEmpty(
                    "Gauge_SanitizationError_RangeCouldNotParse"
                  );
                case 2:
                  return e.getStringOrEmpty(
                    "Gauge_SanitizationError_RangeMinGreaterThanOrEqualToMax"
                  );
                case 3:
                  return e.getStringOrEmpty(
                    "Gauge_SanitizationError_ThresholdOutsideRange"
                  );
                case 4:
                  return e.getStringOrEmpty(
                    "Gauge_SanitizationError_ThresholdValueMismatch"
                  );
                default:
                  throw new Error(
                    "Could not recognise SanitizationError: " + t
                  );
              }
            });
          }),
          (e.prototype.checkValueLessThanOthers = function (e) {
            for (var t = [], n = 1; n < arguments.length; n++)
              t[n - 1] = arguments[n];
            if (null !== e)
              for (var i = 0; i < t.length; i++)
                if (null !== t[i] && t[i] <= e) return !1;
            return !0;
          }),
          (e.prototype.checkValueInRange = function (e, t) {
            return null === e || !(e < t.minValue || t.maxValue < e);
          }),
          e
        );
      })();
      t.default = n;
    }
  ),
  define(
    "HMIWeb/Source/DisplayElements/RegisterDisplayElements",
    [
      "require",
      "exports",
      "./Indicator",
      "./TimeControl",
      "./SVGDrawingBase",
      "./Shapes",
      "./Page",
      "./Gauge",
      "primitives",
      "./../Core/UniqueIdGenerator",
      "../Core/Utils/GaugeUtils",
    ],
    function (e, t, o, a, s, u, l, c, d, h, f) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 }),
        (t.registerDisplayElements = function (i, t, e, n) {
          d.AlphanumericElement.register(i, t), s.SVGDrawingBase.register(i);
          try {
            c.Gauge.register(i, t, e, new f.default(i));
          } catch (e) {
            i.error("Default", e.message);
          }
          a.TimeControl.register(i);
          try {
            o.Indicator.register(i, e);
          } catch (e) {
            i.error("Default", e.message);
          }
          try {
            l.Page.register(i, n);
          } catch (e) {
            i.error("Default", e.message);
          }
          window.hn_elements = window.hn_elements || {};
          var r = new Promise(function (n) {
            window.hn_elements.onInsightEventModuleReady = function (e) {
              var t = e.initialize(i, h.frameId);
              n(t.eventSource);
            };
          });
          return (
            (window.hn_elements.onInsightTrendElementReady = function (e) {
              return e.register(i, t, r);
            }),
            (window.hn_elements.onInsightTableElementReady = function (e) {
              return e.register(i, t);
            }),
            new Promise(function (e) {
              var t =
                void 0 !== window.CustomElements && window.CustomElements.ready;
              t
                ? e(!0)
                : document.addEventListener(
                    "WebComponentsReady",
                    function () {
                      return e(!0);
                    },
                    !1
                  );
            })
              .then(function () {
                document.registerElement("hn-shape", {
                  prototype: u.Shape.prototype,
                });
              })
              .then(function () {
                new Promise(function (e) {
                  var t = document.getElementsByTagName("hn-insight-trend");
                  if (0 < t.length)
                    for (var n = t.length, i = 0; i < t.length; i++) {
                      var r = t[i];
                      void 0 !== r.createdCallback
                        ? 0 == --n && e(!0)
                        : r.addEventListener(
                            "InsightTrendInitialized",
                            function () {
                              0 == --n && e(!0);
                            }
                          );
                    }
                  else e(!0);
                });
              })
          );
        });
    }
  ),
  define(
    "HMIWeb/Source/Core/Viewport/ViewportManager",
    ["require", "exports"],
    function (e, t) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 });
      var a = "data-viewportBehavior",
        s = "data-defaultwidth",
        u = "data-defaultheight",
        c = 550;
      function o(e, t) {
        var n = e.getElementById("Page"),
          i = (function (e) {
            for (
              var t = e.getElementsByTagName("script"), n = 0;
              n < t.length;
              n++
            )
              if (-1 !== t[n].src.toLowerCase().indexOf("/flowsheet."))
                return !0;
            return !1;
          })(e)
            ? d
            : l;
        if (!n)
          return (
            t.warn(
              "Default",
              "Zoom to fit is applied to a non-hmiweb graphic. Ignoring"
            ),
            null
          );
        var r = {
            page: n,
            document: e,
            defaultPageWidth: parseInt(n.getAttribute(s), 10),
            defaultPageHeight: parseInt(n.getAttribute(u), 10),
          },
          o = null;
        switch (n.getAttribute(a)) {
          case "Stretch":
            return (o = 0), null;
          case "OriginalSize":
            i.enableOriginalSizeMode(r), i.maintainOriginalSizeMode(r), (o = 2);
            break;
          case "ZoomToFit":
            i.enableZoomToFitMode(r), i.maintainZoomToFitMode(r), (o = 1);
        }
        return (
          r.document.body.classList.remove("no-fouc"),
          (function (e) {
            var t = e.document.createElement("style");
            t.appendChild(e.document.createTextNode("")),
              e.document.head.appendChild(t);
            var n = t.sheet,
              i = parseInt(e.page.style.width, 10),
              r = parseInt(e.page.style.height, 10),
              o = Math.round((r / i) * 100) / 100,
              a = c / e.defaultPageWidth,
              s = c / o / e.defaultPageHeight,
              u = Math.min(a, s),
              l =
                "@media print {     .body0 {         overflow: hidden !important;         padding-top: " +
                100 * o +
                "% !important;         position: relative !important;     }     hn-page#Page {         height: 100% !important;         left: 0 !important;         top: 0 !important;         position: absolute !important;         width: 100% !important;         max-height: " +
                c +
                "px; !important;         max-width: " +
                Math.round(c / o) +
                "px !important;         transform: translate(0px,0px) !important;     }     html {         font-size: " +
                80 * u +
                "% !important;     } }";
            n.insertRule(l, 0);
          })(r),
          e.defaultView.addEventListener("resize", function () {
            switch (o) {
              case 2:
                i.maintainOriginalSizeMode(r);
                break;
              case 1:
                i.maintainZoomToFitMode(r);
            }
          }),
          {
            enableZoomToFitMode: function () {
              1 !== o &&
                (i.enableZoomToFitMode(r),
                i.maintainZoomToFitMode(r),
                (o = 1),
                e.defaultView.dispatchEvent(new Event("resize")));
            },
            setZoomTo100Pct: function () {
              2 !== o &&
                (i.enableOriginalSizeMode(r),
                i.maintainOriginalSizeMode(r),
                (o = 2),
                e.defaultView.dispatchEvent(new Event("resize")));
            },
            get currentZoomMode() {
              return o;
            },
          }
        );
      }
      t.manageViewport = function (e, t) {
        var n,
          i = e.getDocument(),
          r = function () {
            if (void 0 === n)
              throw new Error(
                "operation not supported before dom content loaded"
              );
          };
        return (
          "loading" === i.readyState
            ? i.addEventListener("DOMContentLoaded", function () {
                return (n = o(i, t));
              })
            : (n = o(i, t)),
          {
            enableZoomToFitMode: function () {
              r(), n.enableZoomToFitMode();
            },
            setZoomTo100Pct: function () {
              r(), n.setZoomTo100Pct();
            },
            get currentZoomMode() {
              return r(), n.currentZoomMode;
            },
          }
        );
      };
      var l = {
          enableZoomToFitMode: function (e) {},
          maintainZoomToFitMode: function (e) {
            var t = n(e);
            (e.document.documentElement.style.fontSize = 80 * t + "%"),
              (e.page.style.width = t * e.defaultPageWidth + "px"),
              (e.page.style.height = t * e.defaultPageHeight + "px"),
              i(e);
          },
          enableOriginalSizeMode: function (e) {
            (e.page.style.width = e.defaultPageWidth + "px"),
              (e.page.style.height = e.defaultPageHeight + "px"),
              (e.document.documentElement.style.fontSize = "80%");
          },
          maintainOriginalSizeMode: function (e) {
            i(e);
          },
        },
        d = {
          enableZoomToFitMode: function (e) {
            (e.page.style.width = e.defaultPageWidth + "px"),
              (e.page.style.height = e.defaultPageHeight + "px");
          },
          maintainZoomToFitMode: function (e) {
            var t = n(e);
            (e.page.style["transform-origin"] = "0% 0%"),
              (e.page.style.transform = "scale(" + t + ")");
          },
          enableOriginalSizeMode: function (e) {
            (e.page.style.width = e.defaultPageWidth + "px"),
              (e.page.style.height = e.defaultPageHeight + "px"),
              (e.page.style["transform-origin"] = ""),
              (e.page.style.transform = "");
          },
          maintainOriginalSizeMode: function (e) {},
        };
      function n(e) {
        var t = e.document.defaultView.innerWidth / e.defaultPageWidth,
          n = e.document.defaultView.innerHeight / e.defaultPageHeight;
        return Math.min(t, n);
      }
      function i(e) {
        var t = e.document.defaultView.innerWidth - e.page.scrollWidth,
          n = e.document.defaultView.innerHeight - e.page.scrollHeight;
        e.page.style.transform =
          "translate(" +
          Math.max(Math.round(t / 2), 0) +
          "px, " +
          Math.max(Math.round(n / 2), 0) +
          "px)";
      }
    }
  ),
  (function (e) {
    "function" == typeof define && define.amd
      ? define("classBindingProvider", ["knockout", "exports"], e)
      : e(ko);
  })(function (f, e, i) {
    var p = function (e) {
      return function () {
        return e;
      };
    };
    "3.0.0" <= f.version &&
      (function () {
        var e = document.createElement("div");
        f.applyBindings(null, e);
        var t = f.contextFor(e),
          n = !f.storedBindingContextForNode,
          i = n ? "A" : "_subscribable",
          r = function () {};
        (r[n ? "wb" : "_addNode"] = r),
          (t.constructor.prototype[i] = r),
          f.cleanNode(e);
      })();
    var t = function (e, t) {
      var h = new f.bindingProvider();
      (t = t || {}),
        (this.attribute = t.attribute || "data-class"),
        (this.virtualAttribute = "ko " + (t.virtualAttribute || "class") + ":"),
        (this.fallback = t.fallback),
        (this.dual = t.dual),
        (this.bindings = e || {}),
        (this.bindingRouter =
          t.bindingRouter ||
          function (e, t) {
            var n, i, r, o;
            if (t[e]) return t[e];
            for (o = t, n = 0, i = (r = e.split(".")).length; n < i; n++)
              o = o[r[n]];
            return o;
          }),
        (this.registerBindings = function (e) {
          f.utils.extend(this.bindings, e);
        }),
        (this.nodeHasBindings = function (e) {
          var t;
          return (
            1 === e.nodeType
              ? (t = e.getAttribute(this.attribute))
              : 8 === e.nodeType &&
                (t =
                  -1 <
                  ("" + e.nodeValue || e.text).indexOf(this.virtualAttribute)),
            t || (!this.fallback && !this.dual) || (t = h.nodeHasBindings(e)),
            t
          );
        }),
        (this.getBindingsFunction = function (d) {
          return function (e, t) {
            var n,
              i,
              r,
              o,
              a,
              s,
              u = {},
              l = "";
            if (
              (1 === e.nodeType
                ? (l = e.getAttribute(this.attribute))
                : 8 === e.nodeType &&
                  -1 <
                    (s = (a = "" + e.nodeValue || e.text).indexOf(
                      this.virtualAttribute
                    )) &&
                  (l = a.substring(s + this.virtualAttribute.length)),
              l)
            ) {
              for (
                n = 0,
                  i = (l = l
                    .replace(/^(\s|\u00A0)+|(\s|\u00A0)+$/g, "")
                    .replace(/(\s|\u00A0){2,}/g, " ")
                    .split(" ")).length;
                n < i;
                n++
              )
                (r = this.bindingRouter(l[n], this.bindings)) &&
                  ((o = "function" == typeof r ? r.call(t.$data, t, l) : r),
                  this.recursiveExtend(u, o));
              d &&
                (u = (function (e, t) {
                  var n, i;
                  if (!e) return e;
                  for (i in ((n = {}), e))
                    e.hasOwnProperty(i) && (n[i] = t(e[i], i, e));
                  return n;
                })(u, p));
            } else
              this.fallback &&
                (u = h[d ? "getBindingAccessors" : "getBindings"](e, t));
            if (this.dual) {
              var c = h[d ? "getBindingAccessors" : "getBindings"](e, t);
              f.utils.extend(u, c);
            }
            return u;
          };
        }),
        (this.getBindings = this.getBindingsFunction(!1)),
        (this.getBindingAccessors = this.getBindingsFunction(!0)),
        (this.recursiveExtend = function (e, t) {
          if (t)
            for (var n in t)
              t.hasOwnProperty(n) &&
                (e[n] == i ? (e[n] = t[n]) : this.recursiveExtend(e[n], t[n]));
          return e;
        });
    };
    return e || (f.classBindingProvider = t), t;
  }),
  define(
    "HMIWeb/Source/App/App",
    [
      "require",
      "exports",
      "./ClientWindowLifecycleManager",
      "./../Core/Logging/NotificationFactory",
      "./../Core/Logging/LoggerConfiguration",
      "./../Communications/CommunicationLayer",
      "./../Core/Logging/PerformanceLogger",
      "./../Core/ContextStore",
      "./../Data/DataObjectIdGenerator",
      "./../Binding/DataBindingController",
      "./../Binding/InsightViewBindings",
      "./../ViewModels/ViewModelFactory",
      "./../Core/Utils/DomUtils",
      "./../ViewModels/ContextMenuViewModel",
      "./../ContextMenuItems/QuickTrendContextMenuItem",
      "./../ContextMenuItems/CopyItemContextMenuItem",
      "./../ContextMenuItems/ZoomToggleContextMenuItem",
      "./../ContextMenuItems/NavigatePortalContextMenuItem",
      "./../Data/DataLayer",
      "./../Core/RateLimiter",
      "./../Core/i18n/LocalisationCache",
      "../DisplayElements/RegisterDisplayElements",
      "./../Core/Viewport/ViewportManager",
      "./../Core/UniqueIdGenerator",
      "classBindingProvider",
      "knockout",
    ],
    function (
      e,
      t,
      W,
      U,
      z,
      G,
      K,
      $,
      X,
      J,
      Q,
      Y,
      Z,
      ee,
      te,
      ne,
      ie,
      re,
      oe,
      ae,
      se,
      ue,
      le,
      ce,
      de,
      he
    ) {
      "use strict";
      Object.defineProperty(t, "__esModule", { value: !0 }),
        (t.App = function (e) {
          var t,
            n,
            o = (e && e.visualization) || void 0,
            a =
              (e &&
                e.loggerFactory &&
                e.loggerFactory.createDedicatedLogger(ce.frameId)) ||
              ((t = new z.LoggerConfiguration()).setParanoids(),
              t.factory.createDedicatedLogger(ce.frameId)),
            i = new K.PerformanceLogger(a),
            r = new Z.DomUtils(),
            s = le.manageViewport(r, a),
            u = r.getDocumentVisibility();
          null != e && null != e.localisation
            ? (n = e.localisation)
            : (n = new se.LocalisationCache(a)).initialize();
          var l,
            c,
            d,
            h,
            f,
            p,
            g,
            m = new U.NotificationFactory(a, e && e.notification),
            v = m.create("Default", 1, 0, 2, 1),
            b = m.create("Communication", 2, 3, 2, 1),
            y = new $.ContextStore(a, "InsightQTCS"),
            w = new te.QuickTrendContextMenuItem(a, n, o, y),
            _ = new ne.CopyItemContextMenuItem(a, n),
            x = new ie.ZoomToggleContextMenuItem(a, n, s),
            T = new re.NavigatePortalContextMenuItem(a, n, o);
          if (
            (ee.handleContextMenuEvents(a, [w, _, x, T]),
            "hidden" === u
              ? i.mark("hidden_script_loaded_and_executing")
              : i.mark("script_loaded_and_executing"),
            a.warn(
              "Default",
              "App.Start( productVersion:'1.50.1.407', path:'" +
                window.location.pathname +
                "' )"
            ),
            window.setTimeout(function () {
              y.cleanStoreAsync();
            }, 36e5),
            e &&
              e.notifications &&
              e.notifications.pluginFatalError &&
              e.notifications.pluginFatalError.add(m),
            e && e.dataLayer)
          )
            a.info("Data", "Using Plugin dataLayer"),
              (l = null),
              (c = e.dataLayer),
              e &&
                e.notifications &&
                e.notifications.pluginRecovery &&
                e.notifications.pluginRecovery.add(m);
          else {
            a.info("Data", "Using HMIWeb dataLayer"),
              (d = a),
              (h = n),
              (f = e && e.connectionHelper),
              (p = i),
              (g = r),
              (l = new G.CommunicationLayer(d, h, f, p, g)),
              (I = a),
              (k = n),
              (A = i),
              (N = l.getDataService()),
              (L = new X.DataObjectIdGenerator()),
              null !=
                (R = document.head.getAttribute("data-maxdataobjectid")) &&
                L.updateMaxDataObjectId(+R),
              (c = new oe.DataLayer(I, A, k, N, L));
            var C = !(!e || !e.isGraphicViewer),
              S =
                ((E = r),
                (D = a),
                (M = C),
                (j = n),
                (P = v),
                null == (O = o)
                  ? Promise.resolve(E.getUrlParams())
                  : Promise.all([
                      O.getTimes(),
                      O.synchronizeAssets(document),
                      O.getURLParams(),
                    ]).then(function (e) {
                      var t = e[0],
                        n = e[1],
                        i = e[2],
                        r = E.getUrlParams();
                      for (var o in (null == t ||
                        M ||
                        (null == t.startTime || null == t.endTime
                          ? (D.error(
                              "Communication",
                              "startTime and/or endTime are unexpectedly null"
                            ),
                            j.getLocalisedStrings().then(function (e) {
                              var t = e.getStringOrError(
                                "Communication_Error_Need_Refresh"
                              );
                              P.updateStatus(t, !0);
                            }))
                          : ((r.startTime = [t.startTime.toISOString()]),
                            (r.endTime = [t.endTime.toISOString()])),
                        null != t.currentTime &&
                          -864e13 !== t.currentTime.getTime() &&
                          (r.currentTime = [t.currentTime.toISOString()])),
                      i))
                        i.hasOwnProperty(o) && (r[o] = i[o]);
                      for (var o in n) n.hasOwnProperty(o) && (r[o] = [n[o]]);
                      return r;
                    }));
            W.manageClientWindowLifecycle(
              a,
              S,
              l,
              c,
              i,
              ae.RateLimiter,
              r,
              n,
              b,
              v
            );
          }
          var E, D, O, M, j, P;
          var I, k, A, N, L, R;
          var H = new Y.ViewModelFactory(a, c, he),
            F = new J.DataBindingController(a, n, v, he, H),
            B = new Q.InsightViewBindings(n, a);
          F.registerCustomBindingHandlers(B.customBindings),
            F.registerCustomBindingProvider(
              new de(B.bindingClassDefinitions, { dual: !0 })
            );
          var V = null != document.head.getAttribute("data-displayfilesyncid");
          if (V) {
            if (null == l)
              throw new Error(
                "somehow got a graphic without creating our own data and communication layer which we own. How?"
              );
            var q = l.getCommunicationEvents();
            q.newDataObjectsReceived.add(function (t) {
              for (
                var e = c.use(function (e) {
                    return e.createDataObjects(t, 0);
                  }),
                  n = 0;
                n < t.length;
                n++
              )
                null != e[n] &&
                  F.registerDataObjectForBinding(t[n].bindingId, e[n]);
            }),
              q.afterResponsePublished.add(function () {
                F.hasBindingsToProcess && F.processQueuedBindings();
              });
          }
          return (
            ue
              .registerDisplayElements(a, n, r, e && e.visualization)
              .then(function () {
                return (
                  V &&
                    ((function (e, t) {
                      for (
                        var n = document.querySelectorAll(
                            "[data-hdxbindingid]"
                          ),
                          i = 0;
                        i < n.length;
                        i++
                      ) {
                        var r = n[i];
                        if (null != r) {
                          var o = r.getAttribute("data-hdxbindingid");
                          if ("null" === o)
                            t.registerElementForBinding(null, r);
                          else {
                            var a = parseInt(o, 10);
                            isNaN(a)
                              ? e.error(
                                  "Binding",
                                  "NaN binding id found for element with id: " +
                                    r.id
                                )
                              : t.registerElementForBinding(a, r);
                          }
                        } else
                          e.error(
                            "Binding",
                            "Null element found for index: " + i
                          );
                      }
                    })(a, F),
                    F.processQueuedBindings()),
                  c.dataModelComplete
                );
              })
              .then(function () {
                var e, t, n, i, r;
                (e = a),
                  (t = o),
                  (n = new CustomEvent("beforePageComplete")),
                  (i = new CustomEvent("pagecomplete")),
                  (r = document.getElementById("Page")) &&
                    (r.dispatchEvent(n),
                    (r.isPageComplete = !0),
                    r.dispatchEvent(i)),
                  e.debug("Performance", "Page complete"),
                  null != t && t.perfRecordPageComplete();
              })
              .catch(function (e) {
                a.error(
                  "Default",
                  "Unable to initialise view, datamodel or fire page complete - " +
                    (e.description || e)
                ),
                  n.getLocalisedStrings().then(function (e) {
                    var t = e.getStringOrError("Connection_Error_InitPage");
                    v.updateStatus(t, !0);
                  });
              }),
            {
              dataLayer: c.api,
              bind: function (e, t) {
                return F.bind(e, t);
              },
              unbind: function (e) {
                F.unbind(e);
              },
              logger: {
                debug: a.debug.bind(a),
                warn: a.warn.bind(a),
                info: a.info.bind(a),
                error: a.error.bind(a),
                exception: a.exception.bind(a),
              },
            }
          );
        });
    }
  ),
  define(
    "HMIWeb/Source/App/HMIWebApi",
    [
      "require",
      "exports",
      "./App",
      "promise",
      "./../Core/Logging/LoggerConfiguration",
    ],
    function (e, t, n, i, r) {
      "use strict";
      var o = !1;
      return (
        r.LoggerConfiguration.setDefaultOptions(),
        function (e) {
          if (o)
            throw new Error(
              "only a single instance of hmiweb can be instantiated at a time"
            );
          (o = !0), "undefined" == typeof Promise && i.polyfill();
          var t = n.App(e);
          (this.dataLayer = t.dataLayer),
            (this.bind = t.bind),
            (this.unbind = t.unbind),
            (this.logger = t.logger);
        }
      );
    }
  ),
  requirejs.config({ baseUrl: "/MES/HMIWeb/UI/HMIWebServer1.0/Content" }),
  define("hmiweb", ["HMIWeb/Source/App/HMIWebApi"], function (e) {
    return e;
  }),
  (void 0 !== window.external && window.external.EditMode) ||
    (null != document.head.getAttribute("data-displayfilesyncid") &&
      require(["hmiweb"], function (e) {
        var t = null;
        try {
          t = window.parent.graphicViewerVisualisation;
        } catch (e) {}
        null == t ? new e(null) : t.initialiseGraphic(e);
      })),
  define("HMIWeb/main", function () {});
//# sourceMappingURL=hmiweb.js.map
/* 1.50.1.407 | HPSAS01UNI2 | 15/07/2019 08:55:59 AM (+08:00) */
